2025-02-09 18:22:40,181 - __main__ - INFO - .env loading
2025-02-09 18:22:40,183 - __main__ - INFO - .env loaded correctly
2025-02-12 17:02:22,679 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 17:03:26,462 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 17:03:26,462 - anki_adder - INFO - AnkiAdder init.
2025-02-12 17:05:22,051 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 17:05:22,052 - anki_adder - INFO - AnkiAdder init.
2025-02-12 17:05:22,053 - gui.main_window - INFO - MainWindow init.
2025-02-12 17:05:22,181 - word_repository - INFO - WordRepository init.
2025-02-12 17:05:58,571 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 17:05:58,571 - anki_adder - INFO - AnkiAdder init.
2025-02-12 17:05:58,573 - gui.main_window - INFO - MainWindow init.
2025-02-12 17:06:17,749 - word_repository - INFO - WordRepository init.
2025-02-12 18:35:07,004 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:35:07,005 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:35:07,005 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:35:07,116 - __name__ - INFO - WordInput init.
2025-02-12 18:36:52,725 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:36:52,726 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:36:52,726 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:36:52,833 - __name__ - INFO - WordInput init.
2025-02-12 18:36:57,321 - events - ERROR - Cannot emit event EventType.WORD_SUBMIT, do not exists in dictionary.
2025-02-12 18:37:15,084 - word_repository - INFO - WordRepository init.
2025-02-12 18:38:58,363 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:38:58,364 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:38:58,365 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:38:58,476 - __name__ - INFO - WordInput init.
2025-02-12 18:39:03,355 - events - ERROR - Cannot emit event EventType.WORD_SUBMIT, do not exists in dictionary.
2025-02-12 18:39:07,647 - word_repository - INFO - WordRepository init.
2025-02-12 18:39:07,647 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 18:39:07,648 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000016E0EBF6A20>> subscribes EventType.WORD_SUBMIT.
2025-02-12 18:39:23,660 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:39:23,660 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:39:23,661 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:39:23,767 - __name__ - INFO - WordInput init.
2025-02-12 18:39:28,911 - word_repository - INFO - WordRepository init.
2025-02-12 18:39:28,912 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 18:39:28,912 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000027CD3B2B0E0>> subscribes EventType.WORD_SUBMIT.
2025-02-12 18:41:13,892 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:41:13,893 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:41:13,893 - events - INFO - EventManager init.
2025-02-12 18:41:13,894 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:41:14,001 - __name__ - INFO - WordInput init.
2025-02-12 18:41:16,048 - word_repository - INFO - WordRepository init.
2025-02-12 18:41:16,049 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 18:41:16,049 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000001890752B0E0>> subscribes EventType.WORD_SUBMIT.
2025-02-12 18:41:19,319 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:41:19,319 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:41:19,319 - events - INFO - EventManager init.
2025-02-12 18:41:19,320 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:41:19,428 - __name__ - INFO - WordInput init.
2025-02-12 18:43:01,000 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:43:01,001 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:43:01,001 - events - INFO - EventManager init.
2025-02-12 18:43:01,001 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:43:01,110 - gui.components.word_input - INFO - WordInput init.
2025-02-12 18:43:01,122 - word_repository - INFO - WordRepository init.
2025-02-12 18:43:01,123 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 18:43:01,123 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000018F43617830>> subscribes EventType.WORD_SUBMIT.
2025-02-12 18:43:04,472 - events - INFO - Emiting EventType.WORD_SUBMIT event to <built-in function callable>.
2025-02-12 18:44:57,154 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:44:57,155 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:44:57,155 - events - INFO - EventManager init.
2025-02-12 18:44:57,155 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:44:57,264 - gui.components.word_input - INFO - WordInput init.
2025-02-12 18:44:57,276 - word_repository - INFO - WordRepository init.
2025-02-12 18:44:57,277 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 18:44:57,277 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000026210A43E30>> subscribes EventType.WORD_SUBMIT.
2025-02-12 18:45:03,028 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000026210A43E30>>.
2025-02-12 18:45:40,721 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:45:40,721 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:45:40,721 - events - INFO - EventManager init.
2025-02-12 18:45:40,722 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:45:40,830 - gui.components.word_input - INFO - WordInput init.
2025-02-12 18:45:40,842 - word_repository - INFO - WordRepository init.
2025-02-12 18:45:40,842 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 18:45:40,843 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x00000253ABBFFEF0>> subscribes EventType.WORD_SUBMIT.
2025-02-12 18:45:44,586 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x00000253ABBFFEF0>>.
2025-02-12 18:46:15,850 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:46:15,850 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:46:15,851 - events - INFO - EventManager init.
2025-02-12 18:46:15,851 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:46:15,959 - gui.components.word_input - INFO - WordInput init.
2025-02-12 18:46:15,972 - word_repository - INFO - WordRepository init.
2025-02-12 18:46:15,972 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 18:46:15,972 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000001EC985D6BA0>> subscribes EventType.WORD_SUBMIT.
2025-02-12 18:46:19,318 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000001EC985D6BA0>>.
2025-02-12 18:46:55,834 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:46:55,834 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:46:55,835 - events - INFO - EventManager init.
2025-02-12 18:46:55,835 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:46:55,945 - gui.components.word_input - INFO - WordInput init.
2025-02-12 18:46:55,958 - word_repository - INFO - WordRepository init.
2025-02-12 18:46:55,958 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 18:46:55,959 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000001E60C3FFEF0>> subscribes EventType.WORD_SUBMIT.
2025-02-12 18:47:01,032 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000001E60C3FFEF0>>.
2025-02-12 18:47:01,032 - word_repository - INFO - Pushing back pupa.
2025-02-12 18:47:01,032 - word_repository - INFO - Array is empty, adding pupa.
2025-02-12 18:48:39,739 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:48:39,739 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:48:39,740 - events - INFO - EventManager init.
2025-02-12 18:48:39,740 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:48:39,848 - gui.components.word_input - INFO - WordInput init.
2025-02-12 18:48:39,860 - word_repository - INFO - WordRepository init.
2025-02-12 18:48:39,861 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 18:48:39,861 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000001DAAD5D6BA0>> subscribes EventType.WORD_SUBMIT.
2025-02-12 18:48:44,315 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000001DAAD5D6BA0>>.
2025-02-12 18:48:44,316 - word_repository - INFO - Pushing back pupa.
2025-02-12 18:48:44,316 - word_repository - INFO - Array is empty, adding pupa.
2025-02-12 18:48:44,317 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:48:44,317 - word_repository - WARNING - Failed to save words to: 'str' object has no attribute 'append'
2025-02-12 18:48:44,318 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:52:39,378 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:52:39,378 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:52:39,379 - events - INFO - EventManager init.
2025-02-12 18:52:39,379 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:52:39,486 - gui.components.word_input - INFO - WordInput init.
2025-02-12 18:52:39,498 - word_repository - INFO - WordRepository init.
2025-02-12 18:52:39,499 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-12 18:52:39,499 - word_repository - INFO - Words loaded successfully.
2025-02-12 18:52:39,500 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 18:52:39,500 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000024D149D6BA0>> subscribes EventType.WORD_SUBMIT.
2025-02-12 18:52:43,903 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000024D149D6BA0>>.
2025-02-12 18:52:43,903 - word_repository - INFO - Pushing back pupa.
2025-02-12 18:52:43,903 - word_repository - INFO - Array is empty, adding pupa.
2025-02-12 18:52:43,903 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:52:43,904 - word_repository - INFO - Words saved successfully.
2025-02-12 18:52:43,904 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:52:54,817 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000024D149D6BA0>>.
2025-02-12 18:52:54,817 - word_repository - INFO - Pushing back lalaskldfjl;asdf.
2025-02-12 18:52:54,817 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:52:54,818 - word_repository - INFO - Words saved successfully.
2025-02-12 18:52:54,819 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:53:02,717 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000024D149D6BA0>>.
2025-02-12 18:53:02,717 - word_repository - INFO - Pushing back jaakjskdj.
2025-02-12 18:53:02,718 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:53:02,718 - word_repository - INFO - Words saved successfully.
2025-02-12 18:53:02,719 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:53:08,727 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000024D149D6BA0>>.
2025-02-12 18:53:08,727 - word_repository - INFO - Pushing back ksjfdf.
2025-02-12 18:53:08,727 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:53:08,728 - word_repository - INFO - Words saved successfully.
2025-02-12 18:53:08,729 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:53:12,365 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000024D149D6BA0>>.
2025-02-12 18:53:12,365 - word_repository - INFO - Pushing back sdfjjl;asdf.
2025-02-12 18:53:12,365 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:53:12,366 - word_repository - INFO - Words saved successfully.
2025-02-12 18:53:12,367 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:53:14,207 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000024D149D6BA0>>.
2025-02-12 18:53:14,207 - word_repository - INFO - Pushing back sdfjjl;asdf.
2025-02-12 18:53:14,208 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:53:14,209 - word_repository - INFO - Words saved successfully.
2025-02-12 18:53:14,209 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:53:15,004 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000024D149D6BA0>>.
2025-02-12 18:53:15,005 - word_repository - INFO - Pushing back sdfjjl;asdf.
2025-02-12 18:53:15,005 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:53:15,006 - word_repository - INFO - Words saved successfully.
2025-02-12 18:53:15,007 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:53:15,547 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000024D149D6BA0>>.
2025-02-12 18:53:15,547 - word_repository - INFO - Pushing back sdfjjl;asdf.
2025-02-12 18:53:15,548 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:53:15,549 - word_repository - INFO - Words saved successfully.
2025-02-12 18:53:15,549 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:53:16,028 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000024D149D6BA0>>.
2025-02-12 18:53:16,028 - word_repository - INFO - Pushing back sdfjjl;asdf.
2025-02-12 18:53:16,029 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:53:16,030 - word_repository - INFO - Words saved successfully.
2025-02-12 18:53:16,030 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:56:01,544 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:56:01,546 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:56:01,546 - events - INFO - EventManager init.
2025-02-12 18:56:01,546 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:56:01,653 - gui.components.word_input - INFO - WordInput init.
2025-02-12 18:56:01,667 - word_repository - INFO - WordRepository init.
2025-02-12 18:56:01,667 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-12 18:56:01,668 - word_repository - INFO - Words loaded successfully.
2025-02-12 18:56:01,668 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 18:56:01,668 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000001D7AC6D6BA0>> subscribes EventType.WORD_SUBMIT.
2025-02-12 18:56:05,109 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000001D7AC6D6BA0>>.
2025-02-12 18:56:05,109 - word_repository - INFO - Pushing back nana.
2025-02-12 18:56:05,110 - word_repository - INFO - Array is empty, adding nana.
2025-02-12 18:56:05,110 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:56:05,110 - word_repository - INFO - ['nana\n']
2025-02-12 18:56:05,111 - word_repository - INFO - Words saved successfully.
2025-02-12 18:56:05,111 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:56:10,821 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000001D7AC6D6BA0>>.
2025-02-12 18:56:10,821 - word_repository - INFO - Pushing back papapa.
2025-02-12 18:56:10,821 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:56:10,822 - word_repository - INFO - ['nana\n\n', 'papapa\n']
2025-02-12 18:56:10,823 - word_repository - INFO - Words saved successfully.
2025-02-12 18:56:10,823 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:57:01,610 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:57:01,610 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:57:01,611 - events - INFO - EventManager init.
2025-02-12 18:57:01,611 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:57:01,723 - gui.components.word_input - INFO - WordInput init.
2025-02-12 18:57:01,734 - word_repository - INFO - WordRepository init.
2025-02-12 18:57:01,735 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-12 18:57:01,735 - word_repository - INFO - ['nana', '', 'papapa']
2025-02-12 18:57:01,736 - word_repository - INFO - Words loaded successfully.
2025-02-12 18:57:01,736 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 18:57:01,736 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x00000215683D6BA0>> subscribes EventType.WORD_SUBMIT.
2025-02-12 18:57:05,185 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x00000215683D6BA0>>.
2025-02-12 18:57:05,185 - word_repository - INFO - Pushing back lala.
2025-02-12 18:57:05,185 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:57:05,186 - word_repository - INFO - ['nana\n', '\n', 'papapa\n', 'lala\n']
2025-02-12 18:57:05,187 - word_repository - INFO - Words saved successfully.
2025-02-12 18:57:05,187 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:57:14,581 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x00000215683D6BA0>>.
2025-02-12 18:57:14,581 - word_repository - INFO - Pushing back aopaoa.
2025-02-12 18:57:14,582 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:57:14,582 - word_repository - INFO - ['nana\n\n', '\n\n', 'papapa\n\n', 'lala\n\n', 'aopaoa\n']
2025-02-12 18:57:14,583 - word_repository - INFO - Words saved successfully.
2025-02-12 18:57:14,583 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:57:34,196 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 18:57:34,197 - anki_adder - INFO - AnkiAdder init.
2025-02-12 18:57:34,197 - events - INFO - EventManager init.
2025-02-12 18:57:34,197 - gui.main_window - INFO - MainWindow init.
2025-02-12 18:57:34,307 - gui.components.word_input - INFO - WordInput init.
2025-02-12 18:57:34,319 - word_repository - INFO - WordRepository init.
2025-02-12 18:57:34,319 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-12 18:57:34,320 - word_repository - INFO - []
2025-02-12 18:57:34,320 - word_repository - INFO - Words loaded successfully.
2025-02-12 18:57:34,321 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 18:57:34,321 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x00000129681FFEF0>> subscribes EventType.WORD_SUBMIT.
2025-02-12 18:57:36,262 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x00000129681FFEF0>>.
2025-02-12 18:57:36,263 - word_repository - INFO - Pushing back asdf.
2025-02-12 18:57:36,263 - word_repository - INFO - Array is empty, adding asdf.
2025-02-12 18:57:36,263 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:57:36,264 - word_repository - INFO - ['asdf\n']
2025-02-12 18:57:36,264 - word_repository - INFO - Words saved successfully.
2025-02-12 18:57:36,264 - word_repository - INFO - Word pushed back successfully.
2025-02-12 18:57:38,093 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x00000129681FFEF0>>.
2025-02-12 18:57:38,093 - word_repository - INFO - Pushing back sdfdf.
2025-02-12 18:57:38,093 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 18:57:38,094 - word_repository - INFO - ['asdf\n\n', 'sdfdf\n']
2025-02-12 18:57:38,095 - word_repository - INFO - Words saved successfully.
2025-02-12 18:57:38,095 - word_repository - INFO - Word pushed back successfully.
2025-02-12 19:24:06,147 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 19:24:06,147 - anki_adder - INFO - AnkiAdder init.
2025-02-12 19:24:06,148 - events - INFO - EventManager init.
2025-02-12 19:24:06,148 - gui.main_window - INFO - MainWindow init.
2025-02-12 19:24:06,265 - gui.components.word_input - INFO - WordInput init.
2025-02-12 19:24:06,280 - word_repository - INFO - WordRepository init.
2025-02-12 19:24:06,280 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-12 19:24:06,281 - word_repository - INFO - ['asdf\n', '\n', 'sdfdf\n']
2025-02-12 19:24:06,281 - word_repository - INFO - Words loaded successfully.
2025-02-12 19:24:06,282 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 19:24:06,282 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x0000023E739D6BA0>> subscribes EventType.WORD_SUBMIT.
2025-02-12 19:24:25,505 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 19:24:25,505 - anki_adder - INFO - AnkiAdder init.
2025-02-12 19:24:25,505 - events - INFO - EventManager init.
2025-02-12 19:24:25,506 - gui.main_window - INFO - MainWindow init.
2025-02-12 19:24:25,613 - gui.components.word_input - INFO - WordInput init.
2025-02-12 19:24:25,625 - word_repository - INFO - WordRepository init.
2025-02-12 19:24:25,625 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-12 19:24:25,626 - word_repository - INFO - []
2025-02-12 19:24:25,626 - word_repository - INFO - Words loaded successfully.
2025-02-12 19:24:25,626 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 19:24:25,627 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000002E6895D6BA0>> subscribes EventType.WORD_SUBMIT.
2025-02-12 19:24:29,707 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000002E6895D6BA0>>.
2025-02-12 19:24:29,707 - word_repository - INFO - Pushing back assdf.
2025-02-12 19:24:29,707 - word_repository - INFO - Array is empty, adding assdf.
2025-02-12 19:24:29,708 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 19:24:29,708 - word_repository - INFO - ['assdf']
2025-02-12 19:24:29,709 - word_repository - INFO - Words saved successfully.
2025-02-12 19:24:29,709 - word_repository - INFO - Word pushed back successfully.
2025-02-12 19:24:31,257 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000002E6895D6BA0>>.
2025-02-12 19:24:31,258 - word_repository - INFO - Pushing back asdfg.
2025-02-12 19:24:31,258 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 19:24:31,259 - word_repository - INFO - ['assdf\n', 'asdfg']
2025-02-12 19:24:31,259 - word_repository - INFO - Words saved successfully.
2025-02-12 19:24:31,260 - word_repository - INFO - Word pushed back successfully.
2025-02-12 19:24:46,793 - events - INFO - Emiting EventType.WORD_SUBMIT event to <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000002E6895D6BA0>>.
2025-02-12 19:24:46,794 - word_repository - INFO - Pushing back asdfgdsfs.
2025-02-12 19:24:46,794 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 19:24:46,795 - word_repository - INFO - ['assdf\n\n', 'asdfg\n', 'asdfgdsfs']
2025-02-12 19:24:46,795 - word_repository - INFO - Words saved successfully.
2025-02-12 19:24:46,795 - word_repository - INFO - Word pushed back successfully.
2025-02-12 21:57:14,975 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 21:57:14,975 - anki_adder - INFO - AnkiAdder init.
2025-02-12 21:57:14,976 - events - INFO - EventManager init.
2025-02-12 21:57:14,976 - gui.main_window - INFO - MainWindow init.
2025-02-12 21:57:15,137 - gui.components.word_input - INFO - WordInput init.
2025-02-12 21:57:15,152 - word_repository - INFO - WordRepository init.
2025-02-12 21:57:15,153 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-12 21:57:15,154 - word_repository - INFO - ['assdf\n', '\n', 'asdfg']
2025-02-12 21:57:15,155 - word_repository - INFO - Words loaded successfully.
2025-02-12 21:57:15,155 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 21:57:15,156 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x00000292D412B200>> subscribes EventType.WORD_SUBMIT.
2025-02-12 21:58:19,360 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 21:58:19,361 - anki_adder - INFO - AnkiAdder init.
2025-02-12 21:58:19,361 - events - INFO - EventManager init.
2025-02-12 21:58:19,361 - gui.main_window - INFO - MainWindow init.
2025-02-12 21:58:19,484 - gui.components.word_input - INFO - WordInput init.
2025-02-12 21:58:19,497 - word_repository - INFO - WordRepository init.
2025-02-12 21:58:19,497 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-12 21:58:19,498 - word_repository - INFO - ['assdf\n', 'fsjlasdfg']
2025-02-12 21:58:19,498 - word_repository - INFO - Words loaded successfully.
2025-02-12 21:58:19,498 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 21:58:19,498 - events - INFO - <bound method AnkiAdder._handle_word_submit of <anki_adder.AnkiAdder object at 0x000001C76D3D6BA0>> subscribes EventType.WORD_SUBMIT.
2025-02-12 21:58:25,867 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-12 21:58:25,868 - word_repository - INFO - Pushing back ratata.
2025-02-12 21:58:25,868 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 21:58:25,870 - word_repository - INFO - ['assdf\n\n', 'fsjlasdfg\n', 'ratata']
2025-02-12 21:58:25,870 - word_repository - INFO - Words saved successfully.
2025-02-12 21:58:25,871 - word_repository - INFO - Word pushed back successfully.
2025-02-12 21:59:01,332 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 21:59:01,333 - anki_adder - INFO - AnkiAdder init.
2025-02-12 21:59:01,333 - events - INFO - EventManager init.
2025-02-12 21:59:01,333 - gui.main_window - INFO - MainWindow init.
2025-02-12 21:59:01,454 - gui.components.word_input - INFO - WordInput init.
2025-02-12 21:59:01,469 - word_repository - INFO - WordRepository init.
2025-02-12 21:59:01,470 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-12 21:59:01,471 - word_repository - INFO - ['assd\n', 'fsjlasdfg\n', 'ratata\n']
2025-02-12 21:59:01,471 - word_repository - INFO - Words loaded successfully.
2025-02-12 21:59:01,472 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 21:59:01,472 - events - INFO - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-12 21:59:03,203 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-12 21:59:03,204 - word_repository - INFO - Pushing back asdf.
2025-02-12 21:59:03,204 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 21:59:03,205 - word_repository - INFO - ['assd\n\n', 'fsjlasdfg\n\n', 'ratata\n\n', 'asdf']
2025-02-12 21:59:03,205 - word_repository - INFO - Words saved successfully.
2025-02-12 21:59:03,205 - word_repository - INFO - Word pushed back successfully.
2025-02-12 21:59:09,022 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-12 21:59:09,022 - word_repository - INFO - Pushing back ghf.
2025-02-12 21:59:09,022 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 21:59:09,023 - word_repository - INFO - ['assd\n\n\n', 'fsjlasdfg\n\n\n', 'ratata\n\n\n', 'asdf\n', 'ghf']
2025-02-12 21:59:09,024 - word_repository - INFO - Words saved successfully.
2025-02-12 21:59:09,024 - word_repository - INFO - Word pushed back successfully.
2025-02-12 22:01:26,509 - __main__ - INFO - Launching AnkiAdder.
2025-02-12 22:01:26,510 - anki_adder - INFO - AnkiAdder init.
2025-02-12 22:01:26,510 - events - INFO - EventManager init.
2025-02-12 22:01:26,511 - gui.main_window - INFO - MainWindow init.
2025-02-12 22:01:26,632 - gui.components.word_input - INFO - WordInput init.
2025-02-12 22:01:26,648 - word_repository - INFO - WordRepository init.
2025-02-12 22:01:26,649 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-12 22:01:26,649 - word_repository - INFO - ['assd\n', 'fsjlasdf\n', 'ratata\n', 'asdf\n', 'ghf\n']
2025-02-12 22:01:26,650 - word_repository - INFO - Words loaded successfully.
2025-02-12 22:01:26,650 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-12 22:01:26,650 - events - INFO - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-12 22:01:30,940 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-12 22:01:30,940 - word_repository - INFO - Pushing back dog
.
2025-02-12 22:01:30,941 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 22:01:30,942 - word_repository - INFO - ['assd\n', 'fsjlasdf\n', 'ratata\n', 'asdf\n', 'ghf\n', 'dog\n']
2025-02-12 22:01:30,942 - word_repository - INFO - Words saved successfully.
2025-02-12 22:01:30,942 - word_repository - INFO - Word pushed back successfully.
2025-02-12 22:01:35,472 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-12 22:01:35,473 - word_repository - INFO - Pushing back leak
.
2025-02-12 22:01:35,473 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 22:01:35,474 - word_repository - INFO - ['assd\n', 'fsjlasdf\n', 'ratata\n', 'asdf\n', 'ghf\n', 'dog\n', 'leak\n']
2025-02-12 22:01:35,474 - word_repository - INFO - Words saved successfully.
2025-02-12 22:01:35,474 - word_repository - INFO - Word pushed back successfully.
2025-02-12 22:01:40,139 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-12 22:01:40,140 - word_repository - INFO - Pushing back leek
.
2025-02-12 22:01:40,140 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 22:01:40,141 - word_repository - INFO - ['assd\n', 'fsjlasdf\n', 'ratata\n', 'asdf\n', 'ghf\n', 'dog\n', 'leak\n', 'leek\n']
2025-02-12 22:01:40,142 - word_repository - INFO - Words saved successfully.
2025-02-12 22:01:40,142 - word_repository - INFO - Word pushed back successfully.
2025-02-12 22:01:45,259 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-12 22:01:45,259 - word_repository - INFO - Pushing back dog
.
2025-02-12 22:01:45,260 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-12 22:01:45,261 - word_repository - INFO - ['assd\n', 'fsjlasdf\n', 'ratata\n', 'asdf\n', 'ghf\n', 'dog\n', 'leak\n', 'leek\n', 'dog\n']
2025-02-12 22:01:45,261 - word_repository - INFO - Words saved successfully.
2025-02-12 22:01:45,262 - word_repository - INFO - Word pushed back successfully.
2025-02-13 16:00:22,906 - __main__ - INFO - Launching AnkiAdder.
2025-02-13 16:00:22,908 - anki_adder - INFO - AnkiAdder init.
2025-02-13 16:00:22,908 - events - INFO - EventManager init.
2025-02-13 16:00:22,908 - gui.main_window - INFO - MainWindow init.
2025-02-13 16:00:23,066 - gui.components.word_input - INFO - WordInput init.
2025-02-13 16:00:23,078 - word_repository - INFO - WordRepository init.
2025-02-13 16:00:23,078 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-13 16:00:23,079 - word_repository - INFO - Words loaded successfully.
2025-02-13 16:00:23,079 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:00:23,080 - events - INFO - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:01:03,500 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-13 16:01:03,501 - word_repository - INFO - Pushing back lubie placki exte.
2025-02-13 16:01:03,501 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-13 16:01:03,502 - word_repository - INFO - Words saved successfully.
2025-02-13 16:01:03,502 - word_repository - INFO - Word pushed back successfully.
2025-02-13 16:01:25,876 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-13 16:01:25,877 - word_repository - INFO - Pushing back syreke.
2025-02-13 16:01:25,877 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-13 16:01:25,878 - word_repository - INFO - Words saved successfully.
2025-02-13 16:01:25,878 - word_repository - INFO - Word pushed back successfully.
2025-02-13 16:01:30,194 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-13 16:01:30,194 - word_repository - INFO - Pushing back motyke.
2025-02-13 16:01:30,194 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-13 16:01:30,196 - word_repository - INFO - Words saved successfully.
2025-02-13 16:01:30,196 - word_repository - INFO - Word pushed back successfully.
2025-02-13 16:10:59,083 - __main__ - INFO - Launching AnkiAdder.
2025-02-13 16:10:59,085 - anki_adder - INFO - AnkiAdder init.
2025-02-13 16:10:59,085 - events - INFO - EventManager init.
2025-02-13 16:10:59,085 - gui.main_window - INFO - MainWindow init.
2025-02-13 16:10:59,195 - gui.components.word_input - INFO - WordInput init.
2025-02-13 16:10:59,209 - word_repository - INFO - WordRepository init.
2025-02-13 16:10:59,209 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-13 16:10:59,210 - word_repository - DEBUG - ['dog', 'leak', 'leek', '', 'dog', 'lubie placki exte', 'syreke', 'motyke']
2025-02-13 16:10:59,210 - word_repository - INFO - Words loaded successfully.
2025-02-13 16:10:59,210 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:10:59,211 - events - INFO - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:12:11,641 - __main__ - INFO - Launching AnkiAdder.
2025-02-13 16:12:11,642 - anki_adder - INFO - AnkiAdder init.
2025-02-13 16:12:11,642 - events - INFO - EventManager init.
2025-02-13 16:12:11,643 - gui.main_window - INFO - MainWindow init.
2025-02-13 16:12:11,747 - gui.components.word_input - INFO - WordInput init.
2025-02-13 16:12:11,761 - word_repository - INFO - WordRepository init.
2025-02-13 16:12:11,761 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-13 16:12:11,762 - word_repository - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke']
2025-02-13 16:12:11,762 - word_repository - INFO - Words loaded successfully.
2025-02-13 16:12:11,762 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:12:11,762 - events - INFO - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:12:22,503 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-13 16:12:22,503 - word_repository - INFO - Pushing back pup.
2025-02-13 16:12:22,503 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-13 16:12:22,504 - word_repository - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup']
2025-02-13 16:12:22,505 - word_repository - INFO - Words saved successfully.
2025-02-13 16:12:22,505 - word_repository - INFO - Word pushed back successfully.
2025-02-13 16:12:34,251 - __main__ - INFO - Launching AnkiAdder.
2025-02-13 16:12:34,251 - anki_adder - INFO - AnkiAdder init.
2025-02-13 16:12:34,252 - events - INFO - EventManager init.
2025-02-13 16:12:34,252 - gui.main_window - INFO - MainWindow init.
2025-02-13 16:12:34,358 - gui.components.word_input - INFO - WordInput init.
2025-02-13 16:12:34,371 - word_repository - INFO - WordRepository init.
2025-02-13 16:12:34,371 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-13 16:12:34,371 - word_repository - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup']
2025-02-13 16:12:34,372 - word_repository - INFO - Words loaded successfully.
2025-02-13 16:12:34,372 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:12:34,372 - events - INFO - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:12:39,084 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-13 16:12:39,084 - word_repository - INFO - Pushing back lata.
2025-02-13 16:12:39,085 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-13 16:12:39,085 - word_repository - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata']
2025-02-13 16:12:39,086 - word_repository - INFO - Words saved successfully.
2025-02-13 16:12:39,086 - word_repository - INFO - Word pushed back successfully.
2025-02-13 16:12:51,509 - __main__ - INFO - Launching AnkiAdder.
2025-02-13 16:12:51,510 - anki_adder - INFO - AnkiAdder init.
2025-02-13 16:12:51,510 - events - INFO - EventManager init.
2025-02-13 16:12:51,510 - gui.main_window - INFO - MainWindow init.
2025-02-13 16:12:51,618 - gui.components.word_input - INFO - WordInput init.
2025-02-13 16:12:51,638 - word_repository - INFO - WordRepository init.
2025-02-13 16:12:51,638 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-13 16:12:51,638 - word_repository - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata']
2025-02-13 16:12:51,639 - word_repository - INFO - Words loaded successfully.
2025-02-13 16:12:51,639 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:12:51,639 - events - INFO - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:12:58,235 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-13 16:12:58,235 - word_repository - INFO - Pushing back rower.
2025-02-13 16:12:58,235 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-13 16:12:58,236 - word_repository - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower']
2025-02-13 16:12:58,236 - word_repository - INFO - Words saved successfully.
2025-02-13 16:12:58,237 - word_repository - INFO - Word pushed back successfully.
2025-02-13 16:13:22,120 - __main__ - INFO - Launching AnkiAdder.
2025-02-13 16:13:22,121 - anki_adder - INFO - AnkiAdder init.
2025-02-13 16:13:22,121 - events - INFO - EventManager init.
2025-02-13 16:13:22,122 - gui.main_window - INFO - MainWindow init.
2025-02-13 16:13:22,228 - gui.components.word_input - INFO - WordInput init.
2025-02-13 16:13:22,241 - word_repository - INFO - WordRepository init.
2025-02-13 16:13:22,241 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-13 16:13:22,242 - word_repository - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower']
2025-02-13 16:13:22,242 - word_repository - INFO - Words loaded successfully.
2025-02-13 16:13:22,242 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:13:22,242 - events - INFO - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:13:30,588 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-13 16:13:30,588 - word_repository - INFO - Pushing back rok.
2025-02-13 16:13:30,588 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-13 16:13:30,589 - word_repository - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok']
2025-02-13 16:13:30,589 - word_repository - INFO - Words saved successfully.
2025-02-13 16:13:30,590 - word_repository - INFO - Word pushed back successfully.
2025-02-13 16:13:43,368 - __main__ - INFO - Launching AnkiAdder.
2025-02-13 16:13:43,368 - anki_adder - INFO - AnkiAdder init.
2025-02-13 16:13:43,369 - events - INFO - EventManager init.
2025-02-13 16:13:43,369 - gui.main_window - INFO - MainWindow init.
2025-02-13 16:13:43,482 - gui.components.word_input - INFO - WordInput init.
2025-02-13 16:13:43,527 - word_repository - INFO - WordRepository init.
2025-02-13 16:13:43,527 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-13 16:13:43,528 - word_repository - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok']
2025-02-13 16:13:43,528 - word_repository - INFO - Words loaded successfully.
2025-02-13 16:13:43,529 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:13:43,529 - events - INFO - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:13:46,120 - events - INFO - Emiting EventType.WORD_SUBMIT event to _handle_word_submit.
2025-02-13 16:13:46,120 - word_repository - INFO - Pushing back sdf.
2025-02-13 16:13:46,120 - word_repository - INFO - Saving words from repository to ./data/word_database.txt.
2025-02-13 16:13:46,121 - word_repository - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 16:13:46,122 - word_repository - INFO - Words saved successfully.
2025-02-13 16:13:46,122 - word_repository - INFO - Word pushed back successfully.
2025-02-13 16:32:45,478 - __main__ - INFO - Launching AnkiAdder.
2025-02-13 16:32:45,479 - anki_adder - INFO - AnkiAdder init.
2025-02-13 16:32:45,479 - events - INFO - EventManager init.
2025-02-13 16:32:45,479 - gui.main_window - INFO - MainWindow init.
2025-02-13 16:32:45,585 - gui.components.word_input - INFO - WordInput init.
2025-02-13 16:32:45,598 - word_repository - INFO - WordRepository init.
2025-02-13 16:32:45,598 - word_repository - INFO - Loading words to repository: ./data/word_database.txt
2025-02-13 16:32:45,599 - word_repository - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 16:32:45,599 - word_repository - INFO - Words loaded successfully.
2025-02-13 16:32:45,599 - events - INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:32:45,599 - events - INFO - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:36:01,972 -             __main__ -     INFO - Launching AnkiAdder.
2025-02-13 16:36:01,973 -           anki_adder -     INFO - AnkiAdder init.
2025-02-13 16:36:01,973 -               events -     INFO - EventManager init.
2025-02-13 16:36:01,973 -      gui.main_window -     INFO - MainWindow init.
2025-02-13 16:36:02,096 - gui.components.word_input -     INFO - WordInput init.
2025-02-13 16:36:02,109 -      word_repository -     INFO - WordRepository init.
2025-02-13 16:36:02,110 -      word_repository -     INFO - Loading words to repository: ./data/word_database.txt
2025-02-13 16:36:02,111 -      word_repository -    DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 16:36:02,111 -      word_repository -     INFO - Words loaded successfully.
2025-02-13 16:36:02,111 -               events -     INFO - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:36:02,111 -               events -     INFO - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:37:35,551 - __main__                  - INFO     - Launching AnkiAdder.
2025-02-13 16:37:35,551 - anki_adder                - INFO     - AnkiAdder init.
2025-02-13 16:37:35,552 - events                    - INFO     - EventManager init.
2025-02-13 16:37:35,552 - gui.main_window           - INFO     - MainWindow init.
2025-02-13 16:37:35,664 - gui.components.word_input - INFO     - WordInput init.
2025-02-13 16:37:35,678 - word_repository           - INFO     - WordRepository init.
2025-02-13 16:37:35,678 - word_repository           - INFO     - Loading words to repository: ./data/word_database.txt
2025-02-13 16:37:35,679 - word_repository           - DEBUG    - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 16:37:35,680 - word_repository           - INFO     - Words loaded successfully.
2025-02-13 16:37:35,680 - events                    - INFO     - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:37:35,680 - events                    - INFO     - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:37:47,842 - __main__             - INFO     - Launching AnkiAdder.
2025-02-13 16:37:47,843 - anki_adder           - INFO     - AnkiAdder init.
2025-02-13 16:37:47,843 - events               - INFO     - EventManager init.
2025-02-13 16:37:47,844 - gui.main_window      - INFO     - MainWindow init.
2025-02-13 16:37:47,950 - gui.components.word_input - INFO     - WordInput init.
2025-02-13 16:37:47,963 - word_repository      - INFO     - WordRepository init.
2025-02-13 16:37:47,964 - word_repository      - INFO     - Loading words to repository: ./data/word_database.txt
2025-02-13 16:37:47,965 - word_repository      - DEBUG    - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 16:37:47,966 - word_repository      - INFO     - Words loaded successfully.
2025-02-13 16:37:47,966 - events               - INFO     - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:37:47,967 - events               - INFO     - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:43:02,333 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 16:43:02,334 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 16:43:02,334 - events               - INFO  - EventManager init.
2025-02-13 16:43:02,335 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 16:43:02,443 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 16:43:02,455 - word_repository      - INFO  - WordRepository init.
2025-02-13 16:43:02,455 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-13 16:43:02,456 - word_repository      - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 16:43:02,456 - word_repository      - INFO  - Words loaded successfully.
2025-02-13 16:43:02,457 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:43:02,457 - events               - INFO  - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:45:40,586 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 16:45:40,587 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 16:45:40,588 - events               - INFO  - EventManager init.
2025-02-13 16:45:40,588 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 16:45:40,697 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 16:45:40,711 - word_repository      - INFO  - WordRepository init.
2025-02-13 16:45:40,711 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-13 16:45:40,712 - word_repository      - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 16:45:40,713 - word_repository      - INFO  - Words loaded successfully.
2025-02-13 16:45:40,714 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:45:40,714 - events               - INFO  - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:45:57,381 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 16:45:57,382 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 16:45:57,382 - events               - INFO  - EventManager init.
2025-02-13 16:45:57,382 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 16:45:57,530 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 16:45:57,544 - word_repository      - INFO  - WordRepository init.
2025-02-13 16:45:57,545 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-13 16:45:57,546 - word_repository      - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 16:45:57,547 - word_repository      - INFO  - Words loaded successfully.
2025-02-13 16:45:57,547 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:45:57,548 - events               - INFO  - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:46:13,152 - __main__             - INFO     - Launching AnkiAdder.
2025-02-13 16:46:13,153 - anki_adder           - INFO     - AnkiAdder init.
2025-02-13 16:46:13,153 - events               - INFO     - EventManager init.
2025-02-13 16:46:13,154 - gui.main_window      - INFO     - MainWindow init.
2025-02-13 16:46:13,257 - gui.components.word_input - INFO     - WordInput init.
2025-02-13 16:46:13,270 - word_repository      - INFO     - WordRepository init.
2025-02-13 16:46:13,271 - word_repository      - INFO     - Loading words to repository: ./data/word_database.txt
2025-02-13 16:46:13,272 - word_repository      - DEBUG    - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 16:46:13,272 - word_repository      - INFO     - Words loaded successfully.
2025-02-13 16:46:13,273 - events               - INFO     - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:46:13,273 - events               - INFO     - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 16:46:37,457 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 16:46:37,458 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 16:46:37,458 - events               - INFO  - EventManager init.
2025-02-13 16:46:37,459 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 16:46:37,564 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 16:46:37,578 - word_repository      - INFO  - WordRepository init.
2025-02-13 16:46:37,578 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-13 16:46:37,579 - word_repository      - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 16:46:37,580 - word_repository      - INFO  - Words loaded successfully.
2025-02-13 16:46:37,580 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT.
2025-02-13 16:46:37,581 - events               - INFO  - _handle_word_submit subscribes EventType.WORD_SUBMIT.
2025-02-13 19:32:36,507 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 19:32:36,508 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 19:32:36,509 - events               - INFO  - EventManager init.
2025-02-13 19:32:36,510 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 19:32:36,617 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 19:32:36,639 - word_repository      - INFO  - WordRepository init.
2025-02-13 19:32:36,640 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-13 19:32:36,643 - word_repository      - DEBUG - ['dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 19:32:36,670 - word_repository      - INFO  - Words loaded successfully.
2025-02-13 19:32:36,673 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:32:36,704 - events               - INFO  - _handle_word_submit subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:32:39,774 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit.
2025-02-13 19:32:39,775 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:32:45,533 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit.
2025-02-13 19:32:45,534 - word_repository      - INFO  - Pushing front lala.
2025-02-13 19:32:45,535 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:32:45,538 - word_repository      - DEBUG - ['lala', 'dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 19:32:45,539 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:32:45,540 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-13 19:34:10,518 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 19:34:10,519 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 19:34:10,520 - events               - INFO  - EventManager init.
2025-02-13 19:34:10,521 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 19:34:10,630 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 19:34:10,644 - word_repository      - INFO  - WordRepository init.
2025-02-13 19:34:10,645 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-13 19:34:10,646 - word_repository      - DEBUG - ['lala', 'dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 19:34:10,647 - word_repository      - INFO  - Words loaded successfully.
2025-02-13 19:34:10,647 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:34:10,648 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:34:10,649 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-13 19:34:10,649 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-13 19:34:45,850 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:34:45,851 - word_repository      - INFO  - Pushing front nakoniec.
2025-02-13 19:34:45,851 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:34:45,853 - word_repository      - DEBUG - ['nakoniec', 'lala', 'dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 19:34:45,854 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:34:45,855 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-13 19:34:57,568 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:34:57,569 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:34:58,195 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:34:58,196 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:35:05,677 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:35:05,678 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:35:33,129 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 19:35:33,130 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 19:35:33,131 - events               - INFO  - EventManager init.
2025-02-13 19:35:33,131 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 19:35:33,243 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 19:36:47,363 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 19:36:47,363 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 19:36:47,364 - events               - INFO  - EventManager init.
2025-02-13 19:36:47,364 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 19:36:47,478 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 19:37:53,034 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 19:37:53,034 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 19:37:53,035 - events               - INFO  - EventManager init.
2025-02-13 19:37:53,035 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 19:37:53,149 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 19:37:53,163 - word_repository      - INFO  - WordRepository init.
2025-02-13 19:37:53,163 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-13 19:37:53,164 - word_repository      - DEBUG - ['nakoniec', 'lala', 'dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 19:37:53,164 - word_repository      - INFO  - Words loaded successfully.
2025-02-13 19:37:53,164 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:37:53,165 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:37:53,165 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-13 19:37:53,165 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-13 19:37:54,898 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:37:54,898 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:37:55,385 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:37:55,385 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:41:01,996 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 19:41:01,997 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 19:41:01,998 - events               - INFO  - EventManager init.
2025-02-13 19:41:01,998 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 19:41:02,107 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 19:41:02,121 - word_repository      - INFO  - WordRepository init.
2025-02-13 19:41:02,122 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-13 19:41:02,123 - word_repository      - DEBUG - ['nakoniec', 'lala', 'dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf']
2025-02-13 19:41:02,124 - word_repository      - INFO  - Words loaded successfully.
2025-02-13 19:41:02,125 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:41:02,125 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:41:02,126 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-13 19:41:02,127 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-13 19:41:05,298 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-13 19:41:05,299 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:41:06,576 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-13 19:41:06,576 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:41:07,937 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-13 19:41:07,938 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:41:10,669 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-13 19:41:10,670 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:41:11,489 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-13 19:41:11,490 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:41:13,938 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:41:13,939 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:41:24,785 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-13 19:41:24,785 - word_repository      - INFO  - Pushing back nakniec.
2025-02-13 19:41:24,785 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:41:24,786 - word_repository      - DEBUG - ['nakoniec', 'lala', 'dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf', 'nakniec']
2025-02-13 19:41:24,788 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:41:24,788 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-13 19:41:27,476 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-13 19:41:27,477 - word_repository      - INFO  - Pushing back pocztek.
2025-02-13 19:41:27,477 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:41:27,478 - word_repository      - DEBUG - ['nakoniec', 'lala', 'dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf', 'nakniec', 'pocztek']
2025-02-13 19:41:27,480 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:41:27,480 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-13 19:41:30,657 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-13 19:41:30,658 - word_repository      - INFO  - Pushing back koniec.
2025-02-13 19:41:30,659 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:41:30,660 - word_repository      - DEBUG - ['nakoniec', 'lala', 'dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf', 'nakniec', 'pocztek', 'koniec']
2025-02-13 19:41:30,661 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:41:30,662 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-13 19:41:33,442 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-13 19:41:33,443 - word_repository      - INFO  - Pushing back pocztek.
2025-02-13 19:41:33,444 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:41:33,445 - word_repository      - DEBUG - ['nakoniec', 'lala', 'dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf', 'nakniec', 'pocztek', 'koniec', 'pocztek']
2025-02-13 19:41:33,446 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:41:33,447 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-13 19:41:39,749 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:41:39,750 - word_repository      - INFO  - Pushing front napocztek.
2025-02-13 19:41:39,751 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:41:39,752 - word_repository      - DEBUG - ['napocztek', 'nakoniec', 'lala', 'dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf', 'nakniec', 'pocztek', 'koniec', 'pocztek']
2025-02-13 19:41:39,753 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:41:39,754 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-13 19:41:42,728 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:41:42,729 - word_repository      - INFO  - Pushing front ksdf.
2025-02-13 19:41:42,729 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:41:42,730 - word_repository      - DEBUG - ['ksdf', 'napocztek', 'nakoniec', 'lala', 'dog', 'leak', 'leek', 'dog', 'lubie placki exte', 'syreke', 'motyke', 'pup', 'lata', 'rower', 'rok', 'sdf', 'nakniec', 'pocztek', 'koniec', 'pocztek']
2025-02-13 19:41:42,732 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:41:42,732 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-13 19:41:43,117 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:41:43,118 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:41:43,277 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:41:43,278 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:41:43,430 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:41:43,431 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:41:55,747 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 19:41:55,747 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 19:41:55,748 - events               - INFO  - EventManager init.
2025-02-13 19:41:55,748 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 19:41:55,961 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 19:41:55,976 - word_repository      - INFO  - WordRepository init.
2025-02-13 19:41:55,976 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-13 19:41:55,977 - word_repository      - DEBUG - []
2025-02-13 19:41:55,977 - word_repository      - INFO  - Words loaded successfully.
2025-02-13 19:41:55,977 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:41:55,977 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:41:55,978 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-13 19:41:55,978 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-13 19:41:59,038 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:41:59,038 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:41:59,511 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:41:59,511 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:42:01,853 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-13 19:42:01,854 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:42:02,204 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-13 19:42:02,204 - anki_adder           - WARNING - Word is empty!
2025-02-13 19:42:05,927 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-13 19:42:05,927 - word_repository      - INFO  - Pushing back lala.
2025-02-13 19:42:05,928 - word_repository      - INFO  - Array is empty, adding lala.
2025-02-13 19:42:05,928 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:42:05,929 - word_repository      - DEBUG - ['lala']
2025-02-13 19:42:05,929 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:42:05,930 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: True
2025-02-13 19:42:13,642 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 19:42:13,643 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 19:42:13,644 - events               - INFO  - EventManager init.
2025-02-13 19:42:13,644 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 19:42:13,754 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 19:42:13,769 - word_repository      - INFO  - WordRepository init.
2025-02-13 19:42:13,770 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-13 19:42:13,771 - word_repository      - DEBUG - []
2025-02-13 19:42:13,772 - word_repository      - INFO  - Words loaded successfully.
2025-02-13 19:42:13,773 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:42:13,773 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:42:13,774 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-13 19:42:13,775 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-13 19:42:16,281 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:42:16,282 - word_repository      - INFO  - Pushing front fasdf.
2025-02-13 19:42:16,282 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:42:16,284 - word_repository      - DEBUG - ['fasdf']
2025-02-13 19:42:16,284 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:42:16,285 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-13 19:55:25,271 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 19:55:25,272 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 19:55:25,273 - events               - INFO  - EventManager init.
2025-02-13 19:55:25,274 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 19:55:25,395 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 19:55:25,410 - word_repository      - INFO  - WordRepository init.
2025-02-13 19:55:25,411 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-13 19:55:25,412 - word_repository      - DEBUG - ['fasdf']
2025-02-13 19:55:25,413 - word_repository      - INFO  - Words loaded successfully.
2025-02-13 19:55:25,414 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:55:25,414 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-13 19:55:25,415 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-13 19:55:25,416 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-13 19:55:35,036 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:55:35,037 - word_repository      - INFO  - Pushing front polityka.
2025-02-13 19:55:35,037 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:55:35,039 - word_repository      - DEBUG - ['polityka', 'fasdf']
2025-02-13 19:55:35,039 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:55:35,040 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-13 19:55:57,749 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:55:57,750 - word_repository      - INFO  - Pushing front gadanie.
2025-02-13 19:55:57,751 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:55:57,752 - word_repository      - DEBUG - ['gadanie', 'polityka', 'fasdf']
2025-02-13 19:55:57,752 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:55:57,753 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-13 19:56:01,855 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 19:56:01,856 - word_repository      - INFO  - Pushing front motyka.
2025-02-13 19:56:01,857 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:56:01,858 - word_repository      - DEBUG - ['motyka', 'gadanie', 'polityka', 'fasdf']
2025-02-13 19:56:01,859 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:56:01,860 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-13 19:56:05,763 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-13 19:56:05,764 - word_repository      - INFO  - Pushing back wino.
2025-02-13 19:56:05,765 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 19:56:05,766 - word_repository      - DEBUG - ['motyka', 'gadanie', 'polityka', 'fasdf', 'wino']
2025-02-13 19:56:05,767 - word_repository      - INFO  - Words saved successfully.
2025-02-13 19:56:05,768 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-13 20:30:48,096 - __main__             - INFO  - Launching AnkiAdder.
2025-02-13 20:30:48,097 - anki_adder           - INFO  - AnkiAdder init.
2025-02-13 20:30:48,097 - events               - INFO  - EventManager init.
2025-02-13 20:30:48,098 - gui.main_window      - INFO  - MainWindow init.
2025-02-13 20:30:48,234 - gui.components.word_input - INFO  - WordInput init.
2025-02-13 20:30:48,284 - word_repository      - INFO  - WordRepository init.
2025-02-13 20:30:48,285 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-13 20:30:48,290 - word_repository      - DEBUG - ['motyka', 'gadanie', 'polityka', 'fasdf', 'wino']
2025-02-13 20:30:48,291 - word_repository      - INFO  - Words loaded successfully.
2025-02-13 20:30:48,292 - word_repository      - INFO  - Getting the top word: motyka
2025-02-13 20:30:48,294 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-13 20:30:48,294 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-13 20:30:48,295 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-13 20:30:48,296 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-13 20:30:56,406 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-13 20:30:56,408 - word_repository      - INFO  - Pushing front nowe.
2025-02-13 20:30:56,409 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-13 20:30:56,409 - word_repository      - DEBUG - ['nowe', 'motyka', 'gadanie', 'polityka', 'fasdf', 'wino']
2025-02-13 20:30:56,410 - word_repository      - INFO  - Words saved successfully.
2025-02-13 20:30:56,411 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-14 10:13:18,248 - __main__             - INFO  - Launching AnkiAdder.
2025-02-14 10:13:18,264 - anki_adder           - INFO  - AnkiAdder init.
2025-02-14 10:13:18,264 - events               - INFO  - EventManager init.
2025-02-14 10:13:18,264 - gui.main_window      - INFO  - MainWindow init.
2025-02-14 10:13:18,472 - gui.components.word_input - INFO  - WordInput init.
2025-02-14 10:13:18,518 - word_repository      - INFO  - WordRepository init.
2025-02-14 10:13:18,518 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-14 10:13:18,518 - word_repository      - WARNING - Database file not found at ./data/word_database.txt!
2025-02-14 10:13:18,518 - word_repository      - WARNING - File not found ./data/word_database.txt, returing empty array.
2025-02-14 10:13:18,518 - word_repository      - INFO  - Getting the top word: None
2025-02-14 10:13:18,518 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-14 10:13:18,518 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-14 10:13:18,518 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-14 10:13:18,518 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-14 10:13:43,731 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-14 10:13:43,731 - word_repository      - INFO  - Pushing back winodw.
2025-02-14 10:13:43,747 - word_repository      - INFO  - Array is empty, adding winodw.
2025-02-14 10:13:43,748 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-14 10:13:43,748 - word_repository      - WARNING - Database file not found at ./data/word_database.txt!
2025-02-14 10:13:43,748 - word_repository      - DEBUG - ['winodw']
2025-02-14 10:13:43,748 - word_repository      - INFO  - Words saved successfully.
2025-02-14 10:13:43,748 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: True
2025-02-14 13:36:41,151 - __main__             - INFO  - Launching AnkiAdder.
2025-02-14 13:36:41,151 - anki_adder           - INFO  - AnkiAdder init.
2025-02-14 13:36:41,152 - events               - INFO  - EventManager init.
2025-02-14 13:36:41,153 - gui.main_window      - INFO  - MainWindow init.
2025-02-14 13:36:41,309 - gui.components.word_input - INFO  - WordInput init.
2025-02-14 13:36:41,334 - word_repository      - INFO  - WordRepository init.
2025-02-14 13:36:41,334 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-14 13:36:41,336 - word_repository      - DEBUG - ['winodw']
2025-02-14 13:36:41,336 - word_repository      - INFO  - Words loaded successfully.
2025-02-14 13:36:41,338 - word_repository      - INFO  - Getting the top word: winodw
2025-02-14 13:36:41,339 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-14 13:36:41,340 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-14 13:36:41,341 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-14 13:36:41,342 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-14 17:30:57,943 - __main__             - INFO  - Launching AnkiAdder.
2025-02-14 17:30:57,943 - anki_adder           - INFO  - AnkiAdder init.
2025-02-14 17:30:57,943 - events               - INFO  - EventManager init.
2025-02-14 17:30:57,943 - gui.main_window      - INFO  - MainWindow init.
2025-02-14 17:30:58,090 - gui.components.word_input - INFO  - WordInput init.
2025-02-14 17:30:58,111 - word_repository      - INFO  - WordRepository init.
2025-02-14 17:30:58,112 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-14 17:30:58,113 - word_repository      - DEBUG - ['winodw']
2025-02-14 17:30:58,113 - word_repository      - INFO  - Words loaded successfully.
2025-02-14 17:30:58,113 - word_repository      - INFO  - Getting the top word: winodw
2025-02-14 17:30:58,113 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-14 17:30:58,113 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-14 17:30:58,113 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-14 17:30:58,113 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-14 17:31:05,158 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-14 17:31:05,158 - word_repository      - INFO  - Pushing front j.
2025-02-14 17:31:05,158 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-14 17:31:05,158 - word_repository      - DEBUG - ['j', 'winodw']
2025-02-14 17:31:05,158 - word_repository      - INFO  - Words saved successfully.
2025-02-14 17:31:05,158 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-14 19:22:02,601 - __main__             - INFO  - Launching AnkiAdder.
2025-02-14 19:22:02,602 - anki_adder           - INFO  - AnkiAdder init.
2025-02-14 19:22:02,603 - events               - INFO  - EventManager init.
2025-02-14 19:22:02,603 - gui.main_window      - INFO  - MainWindow init.
2025-02-14 19:22:02,716 - gui.components.word_input - INFO  - WordInput init.
2025-02-14 19:22:02,731 - word_repository      - INFO  - WordRepository init.
2025-02-14 19:22:02,732 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-14 19:22:02,733 - word_repository      - DEBUG - ['bed', 'dog']
2025-02-14 19:22:02,734 - word_repository      - INFO  - Words loaded successfully.
2025-02-14 19:22:02,736 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-14 19:22:02,746 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-14 19:22:03,775 - queris               - ERROR - Prompt file not found: data\prompts\translation.txt
2025-02-14 19:22:03,776 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-14 19:22:03,777 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-14 19:22:03,778 - queris               - ERROR - Failed to load prompts: {<ConfigKey.TRANSLATION: 1>}
2025-02-14 19:22:03,778 - queris               - ERROR - Error loading prompts, killing program: Missing required prompts: {<ConfigKey.TRANSLATION: 1>}
2025-02-14 19:23:01,957 - __main__             - INFO  - Launching AnkiAdder.
2025-02-14 19:23:01,958 - anki_adder           - INFO  - AnkiAdder init.
2025-02-14 19:23:01,958 - events               - INFO  - EventManager init.
2025-02-14 19:23:01,958 - gui.main_window      - INFO  - MainWindow init.
2025-02-14 19:23:02,067 - gui.components.word_input - INFO  - WordInput init.
2025-02-14 19:23:02,083 - word_repository      - INFO  - WordRepository init.
2025-02-14 19:23:02,083 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-14 19:23:02,086 - word_repository      - DEBUG - ['bed', 'dog']
2025-02-14 19:23:02,087 - word_repository      - INFO  - Words loaded successfully.
2025-02-14 19:23:02,088 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-14 19:23:02,092 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-14 19:23:02,855 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-14 19:23:02,857 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-14 19:23:02,858 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-14 19:23:02,859 - word_repository      - INFO  - Getting the top word: bed
2025-02-14 19:23:02,859 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-14 19:23:02,860 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-14 19:23:02,860 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-14 19:23:02,861 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-14 19:23:13,908 - __main__             - INFO  - Launching AnkiAdder.
2025-02-14 19:23:13,909 - anki_adder           - INFO  - AnkiAdder init.
2025-02-14 19:23:13,909 - events               - INFO  - EventManager init.
2025-02-14 19:23:13,909 - gui.main_window      - INFO  - MainWindow init.
2025-02-14 19:23:14,025 - gui.components.word_input - INFO  - WordInput init.
2025-02-14 19:23:14,041 - word_repository      - INFO  - WordRepository init.
2025-02-14 19:23:14,042 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-14 19:23:14,043 - word_repository      - DEBUG - ['bed', 'dog']
2025-02-14 19:23:14,043 - word_repository      - INFO  - Words loaded successfully.
2025-02-14 19:23:14,044 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-14 19:23:14,048 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-14 19:23:14,829 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-14 19:23:14,829 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-14 19:23:14,831 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-14 19:23:14,832 - word_repository      - INFO  - Getting the top word: bed
2025-02-14 19:23:14,832 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-14 19:23:14,833 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-14 19:23:14,834 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-14 19:23:14,834 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-14 19:23:52,685 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-14 19:23:52,686 - word_repository      - INFO  - Pushing front glib.
2025-02-14 19:23:52,687 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-14 19:23:52,688 - word_repository      - DEBUG - ['glib', 'bed', 'dog']
2025-02-14 19:23:52,689 - word_repository      - INFO  - Words saved successfully.
2025-02-14 19:23:52,689 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-14 19:23:52,695 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'glib'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-14 19:23:52,899 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-14 19:23:52,899 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-14 19:23:52,936 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CF0A3426F0>
2025-02-14 19:23:52,937 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CF0A30B750> server_hostname='api.anthropic.com' timeout=600
2025-02-14 19:23:52,957 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CF0A342330>
2025-02-14 19:23:52,958 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-14 19:23:52,959 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-14 19:23:52,959 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-14 19:23:52,960 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-14 19:23:52,961 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-14 19:23:56,020 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 14 Feb 2025 18:23:55 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-14T18:23:54Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-14T18:23:54Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-14T18:23:55Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-14T18:23:54Z'), (b'request-id', b'req_01BgVVX1VykQ4NG1EFd6crpU'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'911f1782597fc06a-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-14 19:23:56,023 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-14 19:23:56,024 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-14 19:23:56,025 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-14 19:23:56,026 - httpcore.http11      - DEBUG - response_closed.started
2025-02-14 19:23:56,026 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-14 19:23:56,027 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 14 Feb 2025 18:23:55 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-14T18:23:54Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-14T18:23:54Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-14T18:23:55Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-14T18:23:54Z', 'request-id': 'req_01BgVVX1VykQ4NG1EFd6crpU', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '911f1782597fc06a-WAW', 'content-encoding': 'gzip'})
2025-02-14 19:23:56,029 - anthropic._base_client - DEBUG - request_id: req_01BgVVX1VykQ4NG1EFd6crpU
2025-02-14 19:26:09,633 - __main__             - INFO  - Launching AnkiAdder.
2025-02-14 19:26:09,634 - anki_adder           - INFO  - AnkiAdder init.
2025-02-14 19:26:09,634 - events               - INFO  - EventManager init.
2025-02-14 19:26:09,635 - gui.main_window      - INFO  - MainWindow init.
2025-02-14 19:26:09,742 - gui.components.word_input - INFO  - WordInput init.
2025-02-14 19:26:09,757 - word_repository      - INFO  - WordRepository init.
2025-02-14 19:26:09,758 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-14 19:26:09,759 - word_repository      - DEBUG - ['glib', 'bed', 'dog']
2025-02-14 19:26:09,760 - word_repository      - INFO  - Words loaded successfully.
2025-02-14 19:26:09,760 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-14 19:26:09,764 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-14 19:26:10,504 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-14 19:26:10,505 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-14 19:26:10,506 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-14 19:26:10,507 - word_repository      - INFO  - Getting the top word: glib
2025-02-14 19:26:10,507 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-14 19:26:10,507 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-14 19:26:10,508 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-14 19:26:10,508 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-14 19:26:23,029 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-14 19:26:23,030 - word_repository      - INFO  - Pushing front butterfly.
2025-02-14 19:26:23,031 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-14 19:26:23,032 - word_repository      - DEBUG - ['butterfly', 'glib', 'bed', 'dog']
2025-02-14 19:26:23,032 - word_repository      - INFO  - Words saved successfully.
2025-02-14 19:26:23,033 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-14 19:26:23,037 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'butterfly'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-14 19:26:23,227 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-14 19:26:23,227 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-14 19:26:23,327 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000026F64F425A0>
2025-02-14 19:26:23,328 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000026F64F0B7D0> server_hostname='api.anthropic.com' timeout=600
2025-02-14 19:26:23,341 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000026F64083770>
2025-02-14 19:26:23,342 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-14 19:26:23,343 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-14 19:26:23,344 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-14 19:26:23,344 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-14 19:26:23,345 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-14 19:26:25,982 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 14 Feb 2025 18:26:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-14T18:26:24Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-14T18:26:24Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-14T18:26:25Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-14T18:26:24Z'), (b'request-id', b'req_01B7Th7VjZPBi2AtSfDXoPzT'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'911f1b2e3abdee40-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-14 19:26:25,985 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-14 19:26:25,986 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-14 19:26:25,987 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-14 19:26:25,988 - httpcore.http11      - DEBUG - response_closed.started
2025-02-14 19:26:25,988 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-14 19:26:25,989 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 14 Feb 2025 18:26:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-14T18:26:24Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-14T18:26:24Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-14T18:26:25Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-14T18:26:24Z', 'request-id': 'req_01B7Th7VjZPBi2AtSfDXoPzT', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '911f1b2e3abdee40-WAW', 'content-encoding': 'gzip'})
2025-02-14 19:26:25,990 - anthropic._base_client - DEBUG - request_id: req_01B7Th7VjZPBi2AtSfDXoPzT
2025-02-14 19:27:00,803 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-14 19:27:00,804 - word_repository      - INFO  - Pushing front Do you like me?.
2025-02-14 19:27:00,804 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-14 19:27:00,805 - word_repository      - DEBUG - ['Do you like me?', 'butterfly', 'glib', 'bed', 'dog']
2025-02-14 19:27:00,806 - word_repository      - INFO  - Words saved successfully.
2025-02-14 19:27:00,806 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-14 19:27:00,809 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you like me?'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-14 19:27:00,815 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-14 19:27:00,816 - httpcore.connection  - DEBUG - close.started
2025-02-14 19:27:00,817 - httpcore.connection  - DEBUG - close.complete
2025-02-14 19:27:00,818 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-14 19:27:00,838 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000026F64F71CA0>
2025-02-14 19:27:00,838 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000026F64F0B7D0> server_hostname='api.anthropic.com' timeout=600
2025-02-14 19:27:00,851 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000026F64F71940>
2025-02-14 19:27:00,852 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-14 19:27:00,852 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-14 19:27:00,853 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-14 19:27:00,854 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-14 19:27:00,854 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-14 19:27:03,364 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 14 Feb 2025 18:27:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-14T18:27:01Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-14T18:27:02Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-14T18:27:03Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-14T18:27:02Z'), (b'request-id', b'req_01PU1zH8Zu5DoDw91gx74NSD'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'911f1c18b92dbf28-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-14 19:27:03,367 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-14 19:27:03,368 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-14 19:27:03,369 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-14 19:27:03,369 - httpcore.http11      - DEBUG - response_closed.started
2025-02-14 19:27:03,369 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-14 19:27:03,370 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 14 Feb 2025 18:27:03 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-14T18:27:01Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-14T18:27:02Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-14T18:27:03Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-14T18:27:02Z', 'request-id': 'req_01PU1zH8Zu5DoDw91gx74NSD', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '911f1c18b92dbf28-WAW', 'content-encoding': 'gzip'})
2025-02-14 19:27:03,372 - anthropic._base_client - DEBUG - request_id: req_01PU1zH8Zu5DoDw91gx74NSD
2025-02-14 19:27:15,902 - httpcore.connection  - DEBUG - close.started
2025-02-14 19:27:15,904 - httpcore.connection  - DEBUG - close.complete
2025-02-14 19:30:20,399 - __main__             - INFO  - Launching AnkiAdder.
2025-02-14 19:30:20,399 - anki_adder           - INFO  - AnkiAdder init.
2025-02-14 19:30:20,399 - events               - INFO  - EventManager init.
2025-02-14 19:30:20,399 - gui.main_window      - INFO  - MainWindow init.
2025-02-14 19:30:20,516 - gui.components.word_input - INFO  - WordInput init.
2025-02-14 19:30:20,534 - word_repository      - INFO  - WordRepository init.
2025-02-14 19:30:20,534 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-14 19:30:20,535 - word_repository      - DEBUG - ['Do you like me?', 'butterfly', 'glib', 'bed', 'dog']
2025-02-14 19:30:20,536 - word_repository      - INFO  - Words loaded successfully.
2025-02-14 19:30:20,536 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-14 19:30:20,542 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-14 19:30:21,538 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-14 19:30:21,539 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-14 19:30:21,540 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-14 19:30:21,540 - word_repository      - INFO  - Getting the top word: Do you like me?
2025-02-14 19:30:21,541 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-14 19:30:21,541 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-14 19:30:21,542 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-14 19:30:21,542 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-14 19:30:31,304 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-14 19:30:31,304 - word_repository      - INFO  - Pushing front do you like her?.
2025-02-14 19:30:31,305 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-14 19:30:31,306 - word_repository      - DEBUG - ['do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog']
2025-02-14 19:30:31,306 - word_repository      - INFO  - Words saved successfully.
2025-02-14 19:30:31,307 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-14 19:30:31,310 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'do you like her?'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-14 19:30:31,516 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-14 19:30:31,517 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-14 19:30:31,557 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000157B9C85A00>
2025-02-14 19:30:31,559 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000157B9D0B350> server_hostname='api.anthropic.com' timeout=600
2025-02-14 19:30:31,572 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000157B9D423F0>
2025-02-14 19:30:31,573 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-14 19:30:31,574 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-14 19:30:31,575 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-14 19:30:31,575 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-14 19:30:31,576 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-14 19:30:33,937 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 14 Feb 2025 18:30:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-14T18:30:32Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-14T18:30:33Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-14T18:30:33Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-14T18:30:33Z'), (b'request-id', b'req_01A8A7JJaYEVsTCQEkTBjSwm'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'911f213dada1bfcd-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-14 19:30:33,940 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-14 19:30:33,941 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-14 19:30:33,942 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-14 19:30:33,943 - httpcore.http11      - DEBUG - response_closed.started
2025-02-14 19:30:33,943 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-14 19:30:33,944 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 14 Feb 2025 18:30:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-14T18:30:32Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-14T18:30:33Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-14T18:30:33Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-14T18:30:33Z', 'request-id': 'req_01A8A7JJaYEVsTCQEkTBjSwm', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '911f213dada1bfcd-WAW', 'content-encoding': 'gzip'})
2025-02-14 19:30:33,946 - anthropic._base_client - DEBUG - request_id: req_01A8A7JJaYEVsTCQEkTBjSwm
2025-02-14 19:30:41,736 - httpcore.connection  - DEBUG - close.started
2025-02-14 19:30:41,738 - httpcore.connection  - DEBUG - close.complete
2025-02-16 11:01:22,922 - __main__             - INFO  - Launching AnkiAdder.
2025-02-16 11:01:22,922 - anki_adder           - INFO  - AnkiAdder init.
2025-02-16 11:01:22,922 - events               - INFO  - EventManager init.
2025-02-16 11:01:22,922 - gui.main_window      - INFO  - MainWindow init.
2025-02-16 11:01:23,105 - gui.components.word_input - INFO  - WordInput init.
2025-02-16 11:01:23,122 - word_repository      - INFO  - WordRepository init.
2025-02-16 11:01:23,122 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-16 11:01:23,122 - word_repository      - DEBUG - ['do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog']
2025-02-16 11:01:23,138 - word_repository      - INFO  - Words loaded successfully.
2025-02-16 11:01:23,139 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-16 11:01:23,148 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-16 11:01:23,905 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-16 11:01:23,905 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-16 11:01:23,921 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-16 11:01:23,921 - word_repository      - INFO  - Getting the top word: do you like her?
2025-02-16 11:01:23,921 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-16 11:01:23,921 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-16 11:01:23,921 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-16 11:01:23,925 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-16 11:01:34,039 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-16 11:01:34,039 - word_repository      - INFO  - Pushing back party.
2025-02-16 11:01:34,039 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-16 11:01:34,039 - word_repository      - DEBUG - ['do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party']
2025-02-16 11:01:34,039 - word_repository      - INFO  - Words saved successfully.
2025-02-16 11:01:34,039 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-16 11:01:43,872 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-16 11:01:43,872 - word_repository      - INFO  - Pushing front onion.
2025-02-16 11:01:43,872 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-16 11:01:43,872 - word_repository      - DEBUG - ['onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party']
2025-02-16 11:01:43,872 - word_repository      - INFO  - Words saved successfully.
2025-02-16 11:01:43,872 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-16 11:01:43,889 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'onion'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-16 11:01:44,045 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-16 11:01:44,046 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-16 11:01:44,772 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000258D9237E60>
2025-02-16 11:01:44,772 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000258D953B350> server_hostname='api.anthropic.com' timeout=600
2025-02-16 11:01:44,795 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000258D95723C0>
2025-02-16 11:01:44,795 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-16 11:01:44,795 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-16 11:01:44,795 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-16 11:01:44,795 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-16 11:01:44,795 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-16 11:01:47,655 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 16 Feb 2025 10:01:46 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-16T10:01:45Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-16T10:01:45Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-16T10:01:46Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-16T10:01:45Z'), (b'request-id', b'req_01Mq85bBJpQCTcMFjfvzRNqj'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'912cb2b12efc01ee-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-16 11:01:47,655 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-16 11:01:47,655 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-16 11:01:47,655 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-16 11:01:47,655 - httpcore.http11      - DEBUG - response_closed.started
2025-02-16 11:01:47,655 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-16 11:01:47,655 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 16 Feb 2025 10:01:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-16T10:01:45Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-16T10:01:45Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-16T10:01:46Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-16T10:01:45Z', 'request-id': 'req_01Mq85bBJpQCTcMFjfvzRNqj', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '912cb2b12efc01ee-WAW', 'content-encoding': 'gzip'})
2025-02-16 11:01:47,667 - anthropic._base_client - DEBUG - request_id: req_01Mq85bBJpQCTcMFjfvzRNqj
2025-02-16 11:02:39,455 - httpcore.connection  - DEBUG - close.started
2025-02-16 11:02:39,459 - httpcore.connection  - DEBUG - close.complete
2025-02-16 11:03:04,022 - __main__             - INFO  - Launching AnkiAdder.
2025-02-16 11:03:04,022 - anki_adder           - INFO  - AnkiAdder init.
2025-02-16 11:03:04,022 - events               - INFO  - EventManager init.
2025-02-16 11:03:04,022 - gui.main_window      - INFO  - MainWindow init.
2025-02-16 11:03:04,121 - gui.components.word_input - INFO  - WordInput init.
2025-02-16 11:03:04,147 - word_repository      - INFO  - WordRepository init.
2025-02-16 11:03:04,147 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-16 11:03:04,150 - word_repository      - DEBUG - ['onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party']
2025-02-16 11:03:04,150 - word_repository      - INFO  - Words loaded successfully.
2025-02-16 11:03:04,150 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-16 11:03:04,150 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-16 11:03:04,888 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-16 11:03:04,888 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-16 11:03:04,888 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-16 11:03:04,913 - word_repository      - INFO  - Getting the top word: onion
2025-02-16 11:03:04,913 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-16 11:03:04,914 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-16 11:03:04,915 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-16 11:03:04,915 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-16 11:04:00,360 - __main__             - INFO  - Launching AnkiAdder.
2025-02-16 11:04:00,360 - anki_adder           - INFO  - AnkiAdder init.
2025-02-16 11:04:00,360 - events               - INFO  - EventManager init.
2025-02-16 11:04:00,360 - gui.main_window      - INFO  - MainWindow init.
2025-02-16 11:04:00,474 - gui.components.word_input - INFO  - WordInput init.
2025-02-16 11:04:00,486 - word_repository      - INFO  - WordRepository init.
2025-02-16 11:04:00,487 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-16 11:04:00,488 - word_repository      - DEBUG - ['onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party']
2025-02-16 11:04:00,488 - word_repository      - INFO  - Words loaded successfully.
2025-02-16 11:04:00,490 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-16 11:04:00,493 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-16 11:04:01,241 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-16 11:04:01,256 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-16 11:04:01,257 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-16 11:04:01,257 - word_repository      - INFO  - Getting the top word: onion
2025-02-16 11:04:01,257 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-16 11:04:01,257 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-16 11:04:01,257 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-16 11:04:01,257 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-16 11:04:11,485 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-16 11:04:11,485 - word_repository      - INFO  - Pushing front linig fro oyr.
2025-02-16 11:04:11,485 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-16 11:04:11,485 - word_repository      - DEBUG - ['linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party']
2025-02-16 11:04:11,485 - word_repository      - INFO  - Words saved successfully.
2025-02-16 11:04:11,485 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-16 11:04:11,503 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'linig fro oyr'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-16 11:04:11,651 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-16 11:04:11,652 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-16 11:04:11,668 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000220B665F1A0>
2025-02-16 11:04:11,668 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000220B680B3D0> server_hostname='api.anthropic.com' timeout=600
2025-02-16 11:04:11,686 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000220B66BBCE0>
2025-02-16 11:04:11,687 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-16 11:04:11,688 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-16 11:04:11,689 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-16 11:04:11,689 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-16 11:04:11,689 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-16 11:04:15,074 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 16 Feb 2025 10:04:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-16T10:04:12Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-16T10:04:12Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-16T10:04:14Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-16T10:04:12Z'), (b'request-id', b'req_016XGw443k8oSwkNw8Kcd2BF'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'912cb6472d4cbbb2-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-16 11:04:15,074 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-16 11:04:15,090 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-16 11:04:15,091 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-16 11:04:15,092 - httpcore.http11      - DEBUG - response_closed.started
2025-02-16 11:04:15,092 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-16 11:04:15,093 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 16 Feb 2025 10:04:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-16T10:04:12Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-16T10:04:12Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-16T10:04:14Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-16T10:04:12Z', 'request-id': 'req_016XGw443k8oSwkNw8Kcd2BF', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '912cb6472d4cbbb2-WAW', 'content-encoding': 'gzip'})
2025-02-16 11:04:15,096 - anthropic._base_client - DEBUG - request_id: req_016XGw443k8oSwkNw8Kcd2BF
2025-02-16 11:04:19,721 - httpcore.connection  - DEBUG - close.started
2025-02-16 11:04:19,723 - httpcore.connection  - DEBUG - close.complete
2025-02-18 22:00:09,101 - __main__             - INFO  - Launching AnkiAdder.
2025-02-18 22:00:09,103 - anki_adder           - INFO  - AnkiAdder init.
2025-02-18 22:00:09,103 - events               - INFO  - EventManager init.
2025-02-18 22:00:09,103 - gui.main_window      - INFO  - MainWindow init.
2025-02-18 22:00:09,283 - gui.components.word_input - INFO  - WordInput init.
2025-02-18 22:00:09,317 - word_repository      - INFO  - WordRepository init.
2025-02-18 22:00:09,318 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-18 22:00:09,319 - word_repository      - DEBUG - ['linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party']
2025-02-18 22:00:09,319 - word_repository      - INFO  - Words loaded successfully.
2025-02-18 22:00:09,320 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-18 22:00:09,324 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-18 22:00:10,121 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-18 22:00:10,123 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-18 22:00:10,125 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-18 22:00:10,125 - word_repository      - INFO  - Getting the top word: linig fro oyr
2025-02-18 22:00:10,125 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-18 22:00:10,126 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-18 22:00:10,126 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-18 22:00:10,126 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-18 22:00:45,650 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-18 22:00:45,650 - word_repository      - INFO  - Pushing back xcfvSD.
2025-02-18 22:00:45,650 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-18 22:00:45,650 - word_repository      - DEBUG - ['linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD']
2025-02-18 22:00:45,650 - word_repository      - INFO  - Words saved successfully.
2025-02-18 22:00:45,665 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-18 22:00:46,150 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-18 22:00:46,150 - word_repository      - INFO  - Pushing back xCV.
2025-02-18 22:00:46,150 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-18 22:00:46,150 - word_repository      - DEBUG - ['linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV']
2025-02-18 22:00:46,150 - word_repository      - INFO  - Words saved successfully.
2025-02-18 22:00:46,150 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-18 22:00:46,284 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-18 22:00:46,284 - word_repository      - INFO  - Pushing back z.
2025-02-18 22:00:46,284 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-18 22:00:46,284 - word_repository      - DEBUG - ['linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z']
2025-02-18 22:00:46,284 - word_repository      - INFO  - Words saved successfully.
2025-02-18 22:00:46,284 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-18 22:00:47,433 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-18 22:00:47,433 - word_repository      - INFO  - Pushing front XCV.
2025-02-18 22:00:47,433 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-18 22:00:47,433 - word_repository      - DEBUG - ['XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z']
2025-02-18 22:00:47,433 - word_repository      - INFO  - Words saved successfully.
2025-02-18 22:00:47,433 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-18 22:00:47,433 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'XCV'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-18 22:00:47,600 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-18 22:00:47,600 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-18 22:00:47,637 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A77B842660>
2025-02-18 22:00:47,638 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001A77B80B950> server_hostname='api.anthropic.com' timeout=600
2025-02-18 22:00:47,655 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A77B5AD250>
2025-02-18 22:00:47,656 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-18 22:00:47,657 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-18 22:00:47,658 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-18 22:00:47,658 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-18 22:00:47,658 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-18 22:00:50,783 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Feb 2025 21:00:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-18T21:00:48Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-18T21:00:49Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-18T21:00:50Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-18T21:00:49Z'), (b'request-id', b'req_01Te2ZqJ2iYBGCXvQqRm9HPP'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9140f2dcddd2bfcd-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-18 22:00:50,783 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-18 22:00:50,783 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-18 22:00:50,783 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-18 22:00:50,793 - httpcore.http11      - DEBUG - response_closed.started
2025-02-18 22:00:50,794 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-18 22:00:50,794 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Tue, 18 Feb 2025 21:00:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-18T21:00:48Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-18T21:00:49Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-18T21:00:50Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-18T21:00:49Z', 'request-id': 'req_01Te2ZqJ2iYBGCXvQqRm9HPP', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9140f2dcddd2bfcd-WAW', 'content-encoding': 'gzip'})
2025-02-18 22:00:50,797 - anthropic._base_client - DEBUG - request_id: req_01Te2ZqJ2iYBGCXvQqRm9HPP
2025-02-18 22:00:50,808 - queris               - INFO  - None
2025-02-18 22:00:55,458 - httpcore.connection  - DEBUG - close.started
2025-02-18 22:00:55,458 - httpcore.connection  - DEBUG - close.complete
2025-02-19 12:04:42,330 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:04:42,332 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:04:42,332 - events               - INFO  - EventManager init.
2025-02-19 12:04:42,333 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:04:42,508 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:04:42,525 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:04:42,525 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:04:42,527 - word_repository      - DEBUG - ['XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z']
2025-02-19 12:04:42,528 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:04:42,529 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:04:42,545 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:04:43,368 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:04:43,369 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:04:43,370 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:04:43,372 - word_repository      - INFO  - Getting the top word: XCV
2025-02-19 12:04:43,372 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:04:43,372 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:04:43,373 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:04:43,374 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:04:50,960 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:04:50,961 - word_repository      - INFO  - Pushing front tree.
2025-02-19 12:04:50,962 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:04:50,963 - word_repository      - DEBUG - ['tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z']
2025-02-19 12:04:50,964 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:04:50,965 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:04:50,971 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'tree'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:04:51,133 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:04:51,134 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:04:51,177 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001406CBB7E60>
2025-02-19 12:04:51,178 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001406CC0BA50> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:04:51,197 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001406BAB1370>
2025-02-19 12:04:51,198 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:04:51,199 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:04:51,200 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:04:51,201 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:04:51,201 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:04:54,748 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:04:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:04:51Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:04:52Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:04:53Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:04:52Z'), (b'request-id', b'req_01J8DzsQzbPGXM9sTM8wP3vc'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9145c742dbdabf23-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:04:54,751 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:04:54,753 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:04:54,754 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:04:54,755 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:04:54,755 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:04:54,756 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:04:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:04:51Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:04:52Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:04:53Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:04:52Z', 'request-id': 'req_01J8DzsQzbPGXM9sTM8wP3vc', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9145c742dbdabf23-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:04:54,759 - anthropic._base_client - DEBUG - request_id: req_01J8DzsQzbPGXM9sTM8wP3vc
2025-02-19 12:04:54,772 - queris               - ERROR - Formatter fail: Expected json_str to be a string.
2025-02-19 12:04:54,774 - queris               - INFO  - None
2025-02-19 12:05:04,237 - httpcore.connection  - DEBUG - close.started
2025-02-19 12:05:04,238 - httpcore.connection  - DEBUG - close.complete
2025-02-19 12:08:54,375 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:08:54,376 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:08:54,376 - events               - INFO  - EventManager init.
2025-02-19 12:08:54,377 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:08:54,497 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:08:54,514 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:08:54,515 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:08:54,516 - word_repository      - DEBUG - ['tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z']
2025-02-19 12:08:54,517 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:08:54,518 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:08:54,522 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:08:55,322 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:08:55,324 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:08:55,325 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:08:55,325 - word_repository      - INFO  - Getting the top word: tree
2025-02-19 12:08:55,327 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:08:55,328 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:08:55,329 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:08:55,330 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:09:02,691 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:09:02,692 - word_repository      - INFO  - Pushing front boat.
2025-02-19 12:09:02,693 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:09:02,694 - word_repository      - DEBUG - ['boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z']
2025-02-19 12:09:02,695 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:09:02,696 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:09:02,700 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'boat'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:09:02,856 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:09:02,858 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:09:02,876 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000258C1EAFE60>
2025-02-19 12:09:02,877 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000258C210B9D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:09:02,889 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000258C20F95B0>
2025-02-19 12:09:02,890 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:09:02,891 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:09:02,892 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:09:02,893 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:09:02,894 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:09:06,829 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:09:05 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:09:03Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:09:04Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:09:05Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:09:04Z'), (b'request-id', b'req_01QNseHvK5YmxvDMed8jWUqo'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9145cd67d92deead-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:09:06,832 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:09:06,833 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:09:06,834 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:09:06,834 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:09:06,834 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:09:06,835 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:09:05 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:09:03Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:09:04Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:09:05Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:09:04Z', 'request-id': 'req_01QNseHvK5YmxvDMed8jWUqo', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9145cd67d92deead-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:09:06,838 - anthropic._base_client - DEBUG - request_id: req_01QNseHvK5YmxvDMed8jWUqo
2025-02-19 12:09:06,850 - formatter            - ERROR - [TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "d": "5/5",\n        "statek": "4/5",\n        "dka": "4/5"\n    },\n    "Uycie": "Rzeczownik, pojazd pywajcy po wodzie",\n    "Zdanie": "We rented a boat yesterday.",\n    "Tumaczenie": "Wczoraj wypoyczylimy d.",\n    "Czstotliwo": "4/5, A1",\n    "Konteksty": ["transport wodny", "rekreacja", "rybowstwo"],\n    "Synonimy": {\n        "ship": "statek - 4/5",\n        "vessel": "jednostka pywajca - 3/5",\n        "craft": "jednostka - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')]
2025-02-19 12:09:06,852 - queris               - ERROR - Formatter fail: Expected json_str to be a string.
2025-02-19 12:10:13,011 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:10:13,012 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:10:13,013 - events               - INFO  - EventManager init.
2025-02-19 12:10:13,013 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:10:13,124 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:10:13,140 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:10:13,140 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:10:13,141 - word_repository      - DEBUG - ['boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z']
2025-02-19 12:10:13,142 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:10:13,143 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:10:13,148 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:10:13,952 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:10:13,954 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:10:13,955 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:10:13,956 - word_repository      - INFO  - Getting the top word: boat
2025-02-19 12:10:13,956 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:10:13,957 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:10:13,958 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:10:13,958 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:10:26,353 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:10:26,354 - word_repository      - INFO  - Pushing front life jacket.
2025-02-19 12:10:26,354 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:10:26,355 - word_repository      - DEBUG - ['life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z']
2025-02-19 12:10:26,356 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:10:26,357 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:10:26,361 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'life jacket'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:10:26,517 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:10:26,518 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:10:26,538 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000155D5DFDA00>
2025-02-19 12:10:26,538 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000155D5F0B9D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:10:26,556 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000155D5E636B0>
2025-02-19 12:10:26,557 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:10:26,558 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:10:26,559 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:10:26,560 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:10:26,560 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:10:30,225 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:10:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:10:27Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:10:28Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:10:29Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:10:28Z'), (b'request-id', b'req_016xBJC7UrtD5KapeedprUsh'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9145cf72c89fc042-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:10:30,228 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:10:30,229 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:10:30,230 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:10:30,231 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:10:30,232 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:10:30,232 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:10:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:10:27Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:10:28Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:10:29Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:10:28Z', 'request-id': 'req_016xBJC7UrtD5KapeedprUsh', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9145cf72c89fc042-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:10:30,234 - anthropic._base_client - DEBUG - request_id: req_016xBJC7UrtD5KapeedprUsh
2025-02-19 12:10:30,247 - formatter            - ERROR - TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "kamizelka ratunkowa": "5/5",\n        "kapok": "4/5",\n        "pas ratunkowy": "3/5"\n    },\n    "Uycie": "Rzeczownik, sprzt bezpieczestwa uywany na wodzie",\n    "Zdanie": "Always wear a life jacket offshore.",\n    "Tumaczenie": "Zawsze no kamizelk ratunkow na morzu.",\n    "Czstotliwo": "3/5, B1",\n    "Konteksty": ["bezpieczestwo wodne", "sporty wodne", "egluga"],\n    "Synonimy": {\n        "flotation device": "urzdzenie wypornociowe - 2/5",\n        "life vest": "kamizelka ratunkowa - 4/5",\n        "buoyancy aid": "pomoc wypornociowa - 2/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')
2025-02-19 12:10:30,249 - queris               - ERROR - Formatter fail: Expected json_str to be a string.
2025-02-19 12:11:14,199 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:11:14,200 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:11:14,200 - events               - INFO  - EventManager init.
2025-02-19 12:11:14,201 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:11:14,314 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:11:14,326 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:11:14,327 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:11:14,329 - word_repository      - DEBUG - ['life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z']
2025-02-19 12:11:14,330 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:11:14,331 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:11:14,335 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:11:15,108 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:11:15,110 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:11:15,111 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:11:15,112 - word_repository      - INFO  - Getting the top word: life jacket
2025-02-19 12:11:15,113 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:11:15,113 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:11:15,114 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:11:15,115 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:11:21,256 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-19 12:11:21,257 - word_repository      - INFO  - Pushing back key.
2025-02-19 12:11:21,257 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:11:21,258 - word_repository      - DEBUG - ['life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:11:21,259 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:11:21,259 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-19 12:11:24,352 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:11:24,352 - word_repository      - INFO  - Pushing front mouse.
2025-02-19 12:11:24,352 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:11:24,353 - word_repository      - DEBUG - ['mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:11:24,354 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:11:24,355 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:11:24,360 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'mouse'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:11:24,512 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:11:24,514 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:11:24,530 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F8A0E27E60>
2025-02-19 12:11:24,531 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F8A230B9D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:11:24,545 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F8A14837A0>
2025-02-19 12:11:24,546 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:11:24,547 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:11:24,548 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:11:24,549 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:11:24,549 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:11:28,018 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:11:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:11:25Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:11:26Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:11:27Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:11:26Z'), (b'request-id', b'req_01S6UMBmgJaWmXpsy47KCyei'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9145d0dd3a8def97-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:11:28,021 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:11:28,022 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:11:28,023 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:11:28,023 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:11:28,024 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:11:28,025 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:11:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:11:25Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:11:26Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:11:27Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:11:26Z', 'request-id': 'req_01S6UMBmgJaWmXpsy47KCyei', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9145d0dd3a8def97-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:11:28,027 - anthropic._base_client - DEBUG - request_id: req_01S6UMBmgJaWmXpsy47KCyei
2025-02-19 12:11:28,039 - queris               - ERROR - Formatter fail: list indices must be integers or slices, not str
2025-02-19 12:12:43,112 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:12:43,113 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:12:43,114 - events               - INFO  - EventManager init.
2025-02-19 12:12:43,115 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:12:43,225 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:12:43,240 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:12:43,241 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:12:43,242 - word_repository      - DEBUG - ['mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:12:43,243 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:12:43,244 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:12:43,249 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:12:44,044 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:12:44,045 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:12:44,046 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:12:44,047 - word_repository      - INFO  - Getting the top word: mouse
2025-02-19 12:12:44,048 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:12:44,048 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:12:44,049 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:12:44,050 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:12:50,130 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:12:50,131 - word_repository      - INFO  - Pushing front bush.
2025-02-19 12:12:50,131 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:12:50,133 - word_repository      - DEBUG - ['bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:12:50,134 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:12:50,134 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:12:50,138 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'bush'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:12:50,301 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:12:50,302 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:12:50,320 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019715577E60>
2025-02-19 12:12:50,320 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000019715E1B4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:12:50,340 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019715B4A750>
2025-02-19 12:12:50,341 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:12:50,342 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:12:50,343 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:12:50,343 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:12:50,344 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:12:54,461 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:12:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:12:50Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:12:51Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:12:53Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:12:51Z'), (b'request-id', b'req_014HRnzLfmZYesKdNNBwtpuK'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9145d2f56eca0225-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:12:54,465 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:12:54,466 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:12:54,467 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:12:54,468 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:12:54,468 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:12:54,469 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:12:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:12:50Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:12:51Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:12:53Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:12:51Z', 'request-id': 'req_014HRnzLfmZYesKdNNBwtpuK', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9145d2f56eca0225-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:12:54,471 - anthropic._base_client - DEBUG - request_id: req_014HRnzLfmZYesKdNNBwtpuK
2025-02-19 12:12:54,482 - queris               - ERROR - Formatter fail: list indices must be integers or slices, not str
2025-02-19 12:17:49,748 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:17:49,749 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:17:49,750 - events               - INFO  - EventManager init.
2025-02-19 12:17:49,751 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:17:49,860 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:17:49,875 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:17:49,875 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:17:49,877 - word_repository      - DEBUG - ['bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:17:49,877 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:17:49,878 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:17:49,882 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:17:50,650 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:17:50,652 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:17:50,653 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:17:50,654 - word_repository      - INFO  - Getting the top word: bush
2025-02-19 12:17:50,654 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:17:50,655 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:17:50,655 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:17:50,656 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:17:57,464 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:17:57,465 - word_repository      - INFO  - Pushing front hoves.
2025-02-19 12:17:57,466 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:17:57,468 - word_repository      - DEBUG - ['hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:17:57,469 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:17:57,469 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:17:57,473 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'hoves'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:17:57,626 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:17:57,626 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:17:57,649 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000292DEADFE60>
2025-02-19 12:17:57,650 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000292DEB0B4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:17:57,666 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000292DE930650>
2025-02-19 12:17:57,668 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:17:57,668 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:17:57,669 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:17:57,670 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:17:57,672 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:18:01,446 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:18:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:17:58Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:17:59Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:18:00Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:17:59Z'), (b'request-id', b'req_01FCEid3LbbBB6jbQsz2ejSm'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9145da762febb239-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:18:01,449 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:18:01,450 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:18:01,451 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:18:01,452 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:18:01,452 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:18:01,453 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:18:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:17:58Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:17:59Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:18:00Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:17:59Z', 'request-id': 'req_01FCEid3LbbBB6jbQsz2ejSm', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9145da762febb239-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:18:01,455 - anthropic._base_client - DEBUG - request_id: req_01FCEid3LbbBB6jbQsz2ejSm
2025-02-19 12:18:01,466 - queris               - ERROR - Formatter fail: list index out of range
2025-02-19 12:22:40,951 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:22:40,952 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:22:40,952 - events               - INFO  - EventManager init.
2025-02-19 12:22:40,953 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:22:41,064 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:22:41,079 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:22:41,079 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:22:41,080 - word_repository      - DEBUG - ['hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:22:41,081 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:22:41,082 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:22:41,087 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:22:41,828 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:22:41,830 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:22:41,831 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:22:41,832 - word_repository      - INFO  - Getting the top word: hoves
2025-02-19 12:22:41,832 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:22:41,832 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:22:41,833 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:22:41,834 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:22:47,502 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:22:47,502 - word_repository      - INFO  - Pushing front craft.
2025-02-19 12:22:47,502 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:22:47,503 - word_repository      - DEBUG - ['craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:22:47,505 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:22:47,505 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:22:47,510 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'craft'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:22:47,837 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:22:47,839 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:22:47,861 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019EB3C42C60>
2025-02-19 12:22:47,862 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000019EB3C0B550> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:22:47,877 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019EB3273CE0>
2025-02-19 12:22:47,878 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:22:47,879 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:22:47,879 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:22:47,880 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:22:47,881 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:22:52,114 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:22:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:22:48Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:22:49Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:22:51Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:22:49Z'), (b'request-id', b'req_01NigSgzs769joKknCNkZcPd'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9145e18bfaf8eed2-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:22:52,117 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:22:52,118 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:22:52,119 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:22:52,120 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:22:52,120 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:22:52,121 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:22:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:22:48Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:22:49Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:22:51Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:22:49Z', 'request-id': 'req_01NigSgzs769joKknCNkZcPd', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9145e18bfaf8eed2-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:22:52,124 - anthropic._base_client - DEBUG - request_id: req_01NigSgzs769joKknCNkZcPd
2025-02-19 12:22:52,134 - LLMModels            - DEBUG - Message(id='msg_017X5Q1SBrn2LKMUgrLSSnxP', content=[TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "rzemioso": "5/5",\n        "rkodzieo": "4/5",\n        "umiejtno": "3/5",\n        "zawd": "2/5"\n    },\n    "Uycie": "Rzeczownik, umiejtno wykonywania czego lub Czasownik, tworzy co rcznie",\n    "Zdanie": "She learned the craft of woodworking.",\n    "Tumaczenie": "Ona nauczya si rzemiosa stolarskiego.",\n    "Czstotliwo": "4/5, B1",\n    "Konteksty": ["sztuka", "rkodzieo", "umiejtnoci"],\n    "Synonimy": {\n        "skill": "umiejtno - 4/5",\n        "trade": "fach - 3/5",\n        "handcraft": "rkodzieo - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')], model='claude-3-5-sonnet-20240620', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(cache_creation_input_tokens=0, cache_read_input_tokens=1496, input_tokens=8, output_tokens=272))
2025-02-19 12:22:52,136 - formatter            - DEBUG - [TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "rzemioso": "5/5",\n        "rkodzieo": "4/5",\n        "umiejtno": "3/5",\n        "zawd": "2/5"\n    },\n    "Uycie": "Rzeczownik, umiejtno wykonywania czego lub Czasownik, tworzy co rcznie",\n    "Zdanie": "She learned the craft of woodworking.",\n    "Tumaczenie": "Ona nauczya si rzemiosa stolarskiego.",\n    "Czstotliwo": "4/5, B1",\n    "Konteksty": ["sztuka", "rkodzieo", "umiejtnoci"],\n    "Synonimy": {\n        "skill": "umiejtno - 4/5",\n        "trade": "fach - 3/5",\n        "handcraft": "rkodzieo - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')]
2025-02-19 12:22:52,138 - queris               - ERROR - Formatter fail: Expected json_str to be a string.
2025-02-19 12:30:37,183 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:30:37,184 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:30:37,185 - events               - INFO  - EventManager init.
2025-02-19 12:30:37,185 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:30:37,296 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:30:37,308 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:30:37,309 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:30:37,310 - word_repository      - DEBUG - ['craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:30:37,311 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:30:37,312 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:30:37,317 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:30:38,104 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:30:38,106 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:30:38,107 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:30:38,108 - word_repository      - INFO  - Getting the top word: craft
2025-02-19 12:30:38,108 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:30:38,109 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:30:38,109 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:30:38,110 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:30:43,332 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:30:43,333 - word_repository      - INFO  - Pushing front join.
2025-02-19 12:30:43,333 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:30:43,334 - word_repository      - DEBUG - ['join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:30:43,335 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:30:43,336 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:30:43,340 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'join'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:30:43,504 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:30:43,505 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:30:43,630 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000029F974B7E60>
2025-02-19 12:30:43,631 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000029F9750B5D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:30:43,645 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000029F95ABE9F0>
2025-02-19 12:30:43,646 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:30:43,648 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:30:43,648 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:30:43,649 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:30:43,649 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:30:47,780 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:30:46 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:30:44Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:30:45Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:30:46Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:30:45Z'), (b'request-id', b'req_01LNb78bkcutyhSr3a8csy67'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9145ed297b860296-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:30:47,783 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:30:47,784 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:30:47,785 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:30:47,785 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:30:47,786 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:30:47,786 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:30:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:30:44Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:30:45Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:30:46Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:30:45Z', 'request-id': 'req_01LNb78bkcutyhSr3a8csy67', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9145ed297b860296-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:30:47,788 - anthropic._base_client - DEBUG - request_id: req_01LNb78bkcutyhSr3a8csy67
2025-02-19 12:30:47,799 - LLMModels            - DEBUG - Message(id='msg_01P7uKX5orEcFEZYfmBuUVXW', content=[TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "doczy": "5/5",\n        "czy": "4/5",\n        "przyczy si": "3/5",\n        "zczy": "3/5"\n    },\n    "Uycie": "Czasownik, czy lub przycza si do czego",\n    "Zdanie": "Can I join your team?",\n    "Tumaczenie": "Czy mog doczy do twojego zespou?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["grupy", "organizacje", "czenie elementw"],\n    "Synonimy": {\n        "connect": "poczy - 4/5",\n        "unite": "zjednoczy - 3/5",\n        "merge": "scali - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')], model='claude-3-5-sonnet-20240620', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(cache_creation_input_tokens=1496, cache_read_input_tokens=0, input_tokens=8, output_tokens=263))
2025-02-19 12:30:47,801 - formatter            - DEBUG - {
    "Tumaczenia": {
        "doczy": "5/5",
        "czy": "4/5",
        "przyczy si": "3/5",
        "zczy": "3/5"
    },
    "Uycie": "Czasownik, czy lub przycza si do czego",
    "Zdanie": "Can I join your team?",
    "Tumaczenie": "Czy mog doczy do twojego zespou?",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["grupy", "organizacje", "czenie elementw"],
    "Synonimy": {
        "connect": "poczy - 4/5",
        "unite": "zjednoczy - 3/5",
        "merge": "scali - 3/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 12:33:28,401 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:33:28,402 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:33:28,403 - events               - INFO  - EventManager init.
2025-02-19 12:33:28,403 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:33:28,515 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:33:28,527 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:33:28,528 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:33:28,529 - word_repository      - DEBUG - ['join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:33:28,531 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:33:28,532 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:33:28,536 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:33:29,310 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:33:29,311 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:33:29,312 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:33:29,313 - word_repository      - INFO  - Getting the top word: join
2025-02-19 12:33:29,314 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:33:29,314 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:33:29,315 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:33:29,316 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:33:36,211 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:33:36,212 - word_repository      - INFO  - Pushing front froze.
2025-02-19 12:33:36,212 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:33:36,214 - word_repository      - DEBUG - ['froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:33:36,215 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:33:36,215 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:33:36,219 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'froze'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:33:36,379 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:33:36,380 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:33:36,396 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D3325FFE60>
2025-02-19 12:33:36,397 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001D33270B5D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:33:36,417 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D332661F70>
2025-02-19 12:33:36,418 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:33:36,419 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:33:36,420 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:33:36,421 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:33:36,421 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:33:40,398 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:33:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:33:36Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:33:37Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:33:39Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:33:37Z'), (b'request-id', b'req_01EiZ3M5CYJvhM6kmjN5Wreb'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9145f16149deeecb-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:33:40,401 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:33:40,402 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:33:40,403 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:33:40,404 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:33:40,404 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:33:40,405 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:33:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:33:36Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:33:37Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:33:39Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:33:37Z', 'request-id': 'req_01EiZ3M5CYJvhM6kmjN5Wreb', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9145f16149deeecb-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:33:40,407 - anthropic._base_client - DEBUG - request_id: req_01EiZ3M5CYJvhM6kmjN5Wreb
2025-02-19 12:33:40,418 - LLMModels            - DEBUG - Message(id='msg_01UDAUi4q1W6ehmTTL7TgzzT', content=[TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "zamarz": "5/5",\n        "zamrozi": "4/5",\n        "zastyg": "3/5",\n        "zmrozi": "3/5"\n    },\n    "Uycie": "Czasownik, forma przesza od \'freeze\' - zamarzn lub zatrzyma si w bezruchu",\n    "Zdanie": "The lake froze over last night.",\n    "Tumaczenie": "Jezioro zamarzo zeszej nocy.",\n    "Czstotliwo": "4/5, B1",\n    "Konteksty": ["pogoda", "emocje", "ruch"],\n    "Synonimy": {\n        "solidified": "zestali si - 3/5",\n        "congealed": "zakrzep - 2/5",\n        "immobilized": "unieruchomi - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')], model='claude-3-5-sonnet-20240620', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(cache_creation_input_tokens=0, cache_read_input_tokens=1496, input_tokens=9, output_tokens=268))
2025-02-19 12:33:40,421 - formatter            - DEBUG - {
    "Tumaczenia": {
        "zamarz": "5/5",
        "zamrozi": "4/5",
        "zastyg": "3/5",
        "zmrozi": "3/5"
    },
    "Uycie": "Czasownik, forma przesza od 'freeze' - zamarzn lub zatrzyma si w bezruchu",
    "Zdanie": "The lake froze over last night.",
    "Tumaczenie": "Jezioro zamarzo zeszej nocy.",
    "Czstotliwo": "4/5, B1",
    "Konteksty": ["pogoda", "emocje", "ruch"],
    "Synonimy": {
        "solidified": "zestali si - 3/5",
        "congealed": "zakrzep - 2/5",
        "immobilized": "unieruchomi - 3/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 12:33:40,424 - queris               - INFO  - None
2025-02-19 12:38:58,231 - httpcore.connection  - DEBUG - close.started
2025-02-19 12:38:58,232 - httpcore.connection  - DEBUG - close.complete
2025-02-19 12:39:00,989 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:39:00,990 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:39:00,990 - events               - INFO  - EventManager init.
2025-02-19 12:39:00,990 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:39:01,098 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:39:01,112 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:39:01,112 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:39:01,113 - word_repository      - DEBUG - ['froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:39:01,114 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:39:01,115 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:39:01,121 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:39:01,981 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:39:01,982 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:39:01,983 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:39:01,984 - word_repository      - INFO  - Getting the top word: froze
2025-02-19 12:39:01,985 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:39:01,987 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:39:01,989 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:39:01,990 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:39:07,064 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:39:07,065 - word_repository      - INFO  - Pushing front sit.
2025-02-19 12:39:07,065 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:39:07,066 - word_repository      - DEBUG - ['sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:39:07,067 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:39:07,068 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:39:07,072 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'sit'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:39:07,227 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:39:07,228 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:39:07,274 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002710B707E60>
2025-02-19 12:39:07,275 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002710CB0B4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:39:07,288 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002710CB42A80>
2025-02-19 12:39:07,289 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:39:07,290 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:39:07,290 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:39:07,291 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:39:07,292 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:39:11,059 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:39:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:39:07Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:39:08Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:39:10Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:39:08Z'), (b'request-id', b'req_01KALGy9FFKouXQkfWDjN1Sf'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9145f975289a01fe-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:39:11,061 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:39:11,062 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:39:11,069 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:39:11,069 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:39:11,070 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:39:11,070 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:39:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:39:07Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:39:08Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:39:10Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:39:08Z', 'request-id': 'req_01KALGy9FFKouXQkfWDjN1Sf', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9145f975289a01fe-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:39:11,073 - anthropic._base_client - DEBUG - request_id: req_01KALGy9FFKouXQkfWDjN1Sf
2025-02-19 12:39:11,083 - LLMModels            - DEBUG - Message(id='msg_01UYDJMuRZJwHBf21BPr2sM7', content=[TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "siedzie": "5/5",\n        "siada": "4/5",\n        "zasiada": "3/5"\n    },\n    "Uycie": "Czasownik, przyjmowa pozycj siedzc lub zajmowa miejsce",\n    "Zdanie": "Please sit down on this chair.",\n    "Tumaczenie": "Prosz usi na tym krzele.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["codzienne czynnoci", "spotkania", "transport"],\n    "Synonimy": {\n        "seat": "sadza - 4/5",\n        "settle": "usadowi si - 3/5",\n        "perch": "przycupn - 2/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')], model='claude-3-5-sonnet-20240620', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(cache_creation_input_tokens=1496, cache_read_input_tokens=0, input_tokens=8, output_tokens=247))
2025-02-19 12:39:11,085 - formatter            - DEBUG - {
    "Tumaczenia": {
        "siedzie": "5/5",
        "siada": "4/5",
        "zasiada": "3/5"
    },
    "Uycie": "Czasownik, przyjmowa pozycj siedzc lub zajmowa miejsce",
    "Zdanie": "Please sit down on this chair.",
    "Tumaczenie": "Prosz usi na tym krzele.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["codzienne czynnoci", "spotkania", "transport"],
    "Synonimy": {
        "seat": "sadza - 4/5",
        "settle": "usadowi si - 3/5",
        "perch": "przycupn - 2/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 12:39:11,089 - queris               - INFO  - None
2025-02-19 12:39:33,133 - httpcore.connection  - DEBUG - close.started
2025-02-19 12:39:33,138 - httpcore.connection  - DEBUG - close.complete
2025-02-19 12:39:42,475 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:39:42,476 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:39:42,477 - events               - INFO  - EventManager init.
2025-02-19 12:39:42,477 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:39:42,587 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:39:42,599 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:39:42,600 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:39:42,601 - word_repository      - DEBUG - ['sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:39:42,602 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:39:42,603 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:39:42,607 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:39:43,358 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:39:43,359 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:39:43,360 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:39:43,361 - word_repository      - INFO  - Getting the top word: sit
2025-02-19 12:39:43,362 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:39:43,362 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:39:43,363 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:39:43,363 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:39:53,292 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:39:53,293 - word_repository      - INFO  - Pushing front forgave.
2025-02-19 12:39:53,293 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:39:53,294 - word_repository      - DEBUG - ['forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:39:53,295 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:39:53,296 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:39:53,299 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'forgave'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:39:53,451 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:39:53,453 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:39:53,470 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000021F28F42E40>
2025-02-19 12:39:53,471 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021F28F0B4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:39:53,486 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000021F28D31F70>
2025-02-19 12:39:53,487 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:39:53,488 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:39:53,488 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:39:53,489 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:39:53,489 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:39:57,046 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:39:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:39:53Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:39:54Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:39:56Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:39:54Z'), (b'request-id', b'req_01Qp1vgEa4kcvydaDPC6eUbT'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9145fa95ed760250-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:39:57,049 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:39:57,050 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:39:57,051 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:39:57,051 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:39:57,052 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:39:57,053 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:39:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:39:53Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:39:54Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:39:56Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:39:54Z', 'request-id': 'req_01Qp1vgEa4kcvydaDPC6eUbT', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9145fa95ed760250-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:39:57,055 - anthropic._base_client - DEBUG - request_id: req_01Qp1vgEa4kcvydaDPC6eUbT
2025-02-19 12:39:57,065 - LLMModels            - DEBUG - Message(id='msg_01MFn85JMB3pj8Z9hqGjigZB', content=[TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "wybaczy": "5/5",\n        "przebaczy": "4/5",\n        "darowa": "3/5"\n    },\n    "Uycie": "Czasownik, akt przebaczenia lub odpuszczenia winy w przeszoci",\n    "Zdanie": "She forgave him for his mistake.",\n    "Tumaczenie": "Ona wybaczya mu jego bd.",\n    "Czstotliwo": "3/5, B1",\n    "Konteksty": ["relacje midzyludzkie", "konflikty", "pojednanie"],\n    "Synonimy": {\n        "pardoned": "uaskawi - 2/5",\n        "excused": "usprawiedliwi - 3/5",\n        "absolved": "rozgrzeszy - 2/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')], model='claude-3-5-sonnet-20240620', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(cache_creation_input_tokens=0, cache_read_input_tokens=1496, input_tokens=9, output_tokens=253))
2025-02-19 12:39:57,067 - formatter            - DEBUG - {
    "Tumaczenia": {
        "wybaczy": "5/5",
        "przebaczy": "4/5",
        "darowa": "3/5"
    },
    "Uycie": "Czasownik, akt przebaczenia lub odpuszczenia winy w przeszoci",
    "Zdanie": "She forgave him for his mistake.",
    "Tumaczenie": "Ona wybaczya mu jego bd.",
    "Czstotliwo": "3/5, B1",
    "Konteksty": ["relacje midzyludzkie", "konflikty", "pojednanie"],
    "Synonimy": {
        "pardoned": "uaskawi - 2/5",
        "excused": "usprawiedliwi - 3/5",
        "absolved": "rozgrzeszy - 2/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 12:39:57,071 - queris               - INFO  - None
2025-02-19 12:40:21,229 - httpcore.connection  - DEBUG - close.started
2025-02-19 12:40:21,231 - httpcore.connection  - DEBUG - close.complete
2025-02-19 12:42:09,215 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:42:09,216 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:42:09,216 - events               - INFO  - EventManager init.
2025-02-19 12:42:09,217 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:42:09,381 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:42:09,431 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:42:09,432 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:42:09,433 - word_repository      - DEBUG - ['forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:42:09,434 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:42:09,435 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:42:09,443 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:42:10,232 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:42:10,234 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:42:10,235 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:42:10,236 - word_repository      - INFO  - Getting the top word: forgave
2025-02-19 12:42:10,237 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:42:10,238 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:42:10,239 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:42:10,239 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:42:15,618 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:42:15,619 - word_repository      - INFO  - Pushing front man.
2025-02-19 12:42:15,619 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:42:15,621 - word_repository      - DEBUG - ['man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:42:15,622 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:42:15,623 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:42:15,627 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'man'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:42:15,781 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:42:15,782 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:42:15,797 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000233F3542C00>
2025-02-19 12:42:15,798 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000233F350B4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:42:15,815 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000233F3330650>
2025-02-19 12:42:15,816 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:42:15,817 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:42:15,818 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:42:15,819 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:42:15,819 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:42:19,427 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:42:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:42:16Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:42:17Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:42:18Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:42:17Z'), (b'request-id', b'req_0195QpvyDn9yRRpSwHvoK2sZ'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9145fe0f7a49b21e-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:42:19,430 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:42:19,431 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:42:19,432 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:42:19,432 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:42:19,432 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:42:19,433 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:42:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:42:16Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:42:17Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:42:18Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:42:17Z', 'request-id': 'req_0195QpvyDn9yRRpSwHvoK2sZ', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9145fe0f7a49b21e-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:42:19,435 - anthropic._base_client - DEBUG - request_id: req_0195QpvyDn9yRRpSwHvoK2sZ
2025-02-19 12:42:19,445 - LLMModels            - DEBUG - Message(id='msg_01S1AMZRm65e22iHWE9DVM5t', content=[TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "mczyzna": "5/5",\n        "czowiek": "4/5",\n        "pan": "3/5"\n    },\n    "Uycie": "Rzeczownik, dorosa osoba pci mskiej",\n    "Zdanie": "The man walked down the street.",\n    "Tumaczenie": "Mczyzna szed ulic.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["pe", "ludzko", "doroso"],\n    "Synonimy": {\n        "guy": "facet - 4/5",\n        "gentleman": "dentelmen - 3/5",\n        "male": "mczyzna - 4/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')], model='claude-3-5-sonnet-20240620', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(cache_creation_input_tokens=0, cache_read_input_tokens=1496, input_tokens=8, output_tokens=235))
2025-02-19 12:42:19,447 - formatter            - DEBUG - {
    "Tumaczenia": {
        "mczyzna": "5/5",
        "czowiek": "4/5",
        "pan": "3/5"
    },
    "Uycie": "Rzeczownik, dorosa osoba pci mskiej",
    "Zdanie": "The man walked down the street.",
    "Tumaczenie": "Mczyzna szed ulic.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["pe", "ludzko", "doroso"],
    "Synonimy": {
        "guy": "facet - 4/5",
        "gentleman": "dentelmen - 3/5",
        "male": "mczyzna - 4/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 12:42:19,451 - queris               - INFO  - None
2025-02-19 12:42:33,203 - httpcore.connection  - DEBUG - close.started
2025-02-19 12:42:33,208 - httpcore.connection  - DEBUG - close.complete
2025-02-19 12:42:46,365 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:42:46,366 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:42:46,366 - events               - INFO  - EventManager init.
2025-02-19 12:42:46,367 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:42:46,475 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:42:46,489 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:42:46,490 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:42:46,491 - word_repository      - DEBUG - ['man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key']
2025-02-19 12:42:46,492 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:42:46,493 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:42:46,497 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:42:47,233 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:42:47,235 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:42:47,236 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:42:47,237 - word_repository      - INFO  - Getting the top word: man
2025-02-19 12:42:47,238 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:42:47,239 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:42:47,240 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:42:47,240 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:42:50,516 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-19 12:42:50,517 - word_repository      - INFO  - Pushing back men.
2025-02-19 12:42:50,517 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:42:50,518 - word_repository      - DEBUG - ['man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men']
2025-02-19 12:42:50,519 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:42:50,520 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-19 12:42:54,082 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:42:54,083 - word_repository      - INFO  - Pushing front men.
2025-02-19 12:42:54,083 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:42:54,084 - word_repository      - DEBUG - ['men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men']
2025-02-19 12:42:54,085 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:42:54,086 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:42:54,090 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'men'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:42:54,240 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:42:54,241 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:42:54,282 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025C04C42BA0>
2025-02-19 12:42:54,283 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000025C04C0B4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:42:54,297 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025C04C427E0>
2025-02-19 12:42:54,298 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:42:54,299 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:42:54,299 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:42:54,300 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:42:54,300 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:42:57,753 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:42:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:42:54Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:42:55Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:42:56Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:42:55Z'), (b'request-id', b'req_01U6rKhohRYoNSpmH2xm95FD'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9145fefffd2feebf-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:42:57,757 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:42:57,757 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:42:57,758 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:42:57,759 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:42:57,759 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:42:57,760 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:42:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:42:54Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:42:55Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:42:56Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:42:55Z', 'request-id': 'req_01U6rKhohRYoNSpmH2xm95FD', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9145fefffd2feebf-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:42:57,761 - anthropic._base_client - DEBUG - request_id: req_01U6rKhohRYoNSpmH2xm95FD
2025-02-19 12:42:57,773 - LLMModels            - DEBUG - Message(id='msg_01Mu3KQfFVEQNkevZWCBsuDh', content=[TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "mczyni": "5/5",\n        "ludzie": "3/5",\n        "czowiek": "2/5"\n    },\n    "Uycie": "Rzeczownik, liczba mnoga od \'man\', oznaczajca grup dorosych osb pci mskiej",\n    "Zdanie": "The men are working hard.",\n    "Tumaczenie": "Mczyni ciko pracuj.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["pe", "grupa spoeczna", "praca"],\n    "Synonimy": {\n        "guys": "faceci - 4/5",\n        "gentlemen": "panowie - 3/5",\n        "males": "osobnicy pci mskiej - 2/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')], model='claude-3-5-sonnet-20240620', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(cache_creation_input_tokens=0, cache_read_input_tokens=1496, input_tokens=8, output_tokens=249))
2025-02-19 12:42:57,775 - formatter            - DEBUG - {
    "Tumaczenia": {
        "mczyni": "5/5",
        "ludzie": "3/5",
        "czowiek": "2/5"
    },
    "Uycie": "Rzeczownik, liczba mnoga od 'man', oznaczajca grup dorosych osb pci mskiej",
    "Zdanie": "The men are working hard.",
    "Tumaczenie": "Mczyni ciko pracuj.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["pe", "grupa spoeczna", "praca"],
    "Synonimy": {
        "guys": "faceci - 4/5",
        "gentlemen": "panowie - 3/5",
        "males": "osobnicy pci mskiej - 2/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 12:42:57,779 - queris               - INFO  - None
2025-02-19 12:43:47,811 - httpcore.connection  - DEBUG - close.started
2025-02-19 12:43:47,813 - httpcore.connection  - DEBUG - close.complete
2025-02-19 12:45:38,513 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:45:38,514 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:45:38,515 - events               - INFO  - EventManager init.
2025-02-19 12:45:38,515 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:45:38,640 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:45:38,659 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:45:38,660 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:45:38,661 - word_repository      - DEBUG - ['men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men']
2025-02-19 12:45:38,662 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:45:38,663 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:45:38,668 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:45:39,511 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:45:39,513 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:45:39,514 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:45:39,515 - word_repository      - INFO  - Getting the top word: men
2025-02-19 12:45:39,515 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:45:39,515 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:45:39,516 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:45:39,517 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:45:58,400 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-19 12:45:58,401 - word_repository      - INFO  - Pushing back waman.
2025-02-19 12:45:58,401 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:45:58,402 - word_repository      - DEBUG - ['men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman']
2025-02-19 12:45:58,403 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:45:58,404 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-19 12:46:02,986 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:46:02,987 - word_repository      - INFO  - Pushing front used.
2025-02-19 12:46:02,987 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:46:02,988 - word_repository      - DEBUG - ['used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman']
2025-02-19 12:46:02,989 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:46:02,990 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:46:02,994 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'used'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:46:03,203 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:46:03,204 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:46:03,255 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F497642B70>
2025-02-19 12:46:03,256 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F49760B4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:46:03,270 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F49740E180>
2025-02-19 12:46:03,270 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:46:03,272 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:46:03,272 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:46:03,274 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:46:03,274 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:46:07,540 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:46:06 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:46:03Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:46:04Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:46:06Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:46:04Z'), (b'request-id', b'req_01XoPLfG8eMda19NpZmnodor'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9146039d0a0cbbe2-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:46:07,543 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:46:07,544 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:46:07,545 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:46:07,546 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:46:07,546 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:46:07,547 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:46:06 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:46:03Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:46:04Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:46:06Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:46:04Z', 'request-id': 'req_01XoPLfG8eMda19NpZmnodor', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9146039d0a0cbbe2-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:46:07,549 - anthropic._base_client - DEBUG - request_id: req_01XoPLfG8eMda19NpZmnodor
2025-02-19 12:46:07,559 - LLMModels            - DEBUG - Message(id='msg_017hBPMGL1x2AU97VBHMh8Ls', content=[TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "uywany": "5/5",\n        "zuyty": "4/5",\n        "stosowany": "3/5",\n        "przyzwyczajony": "2/5"\n    },\n    "Uycie": "Przymiotnik lub czasownik w czasie przeszym, opisujcy co, co byo wykorzystywane lub praktykowane",\n    "Zdanie": "She used the old computer.",\n    "Tumaczenie": "Ona uywaa starego komputera.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["przedmioty uywane", "nawyki", "przesze dziaania"],\n    "Synonimy": {\n        "utilized": "wykorzystany - 3/5",\n        "employed": "zastosowany - 3/5",\n        "secondhand": "uywany (o przedmiotach) - 4/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')], model='claude-3-5-sonnet-20240620', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(cache_creation_input_tokens=0, cache_read_input_tokens=1496, input_tokens=8, output_tokens=268))
2025-02-19 12:46:07,562 - formatter            - DEBUG - {
    "Tumaczenia": {
        "uywany": "5/5",
        "zuyty": "4/5",
        "stosowany": "3/5",
        "przyzwyczajony": "2/5"
    },
    "Uycie": "Przymiotnik lub czasownik w czasie przeszym, opisujcy co, co byo wykorzystywane lub praktykowane",
    "Zdanie": "She used the old computer.",
    "Tumaczenie": "Ona uywaa starego komputera.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["przedmioty uywane", "nawyki", "przesze dziaania"],
    "Synonimy": {
        "utilized": "wykorzystany - 3/5",
        "employed": "zastosowany - 3/5",
        "secondhand": "uywany (o przedmiotach) - 4/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 12:46:07,566 - queris               - INFO  - None
2025-02-19 12:48:11,538 - httpcore.connection  - DEBUG - close.started
2025-02-19 12:48:11,540 - httpcore.connection  - DEBUG - close.complete
2025-02-19 12:48:14,829 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 12:48:14,830 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 12:48:14,830 - events               - INFO  - EventManager init.
2025-02-19 12:48:14,831 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 12:48:14,940 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 12:48:14,954 - word_repository      - INFO  - WordRepository init.
2025-02-19 12:48:14,955 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 12:48:14,956 - word_repository      - DEBUG - ['used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman']
2025-02-19 12:48:14,957 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 12:48:14,958 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 12:48:14,962 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 12:48:15,728 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 12:48:15,729 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 12:48:15,730 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 12:48:15,730 - word_repository      - INFO  - Getting the top word: used
2025-02-19 12:48:15,731 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:48:15,732 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 12:48:15,732 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 12:48:15,733 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 12:48:19,984 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-19 12:48:19,985 - word_repository      - INFO  - Pushing back load.
2025-02-19 12:48:19,985 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:48:19,986 - word_repository      - DEBUG - ['used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 12:48:19,987 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:48:19,988 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-19 12:48:23,476 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 12:48:23,477 - word_repository      - INFO  - Pushing front unload.
2025-02-19 12:48:23,477 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 12:48:23,479 - word_repository      - DEBUG - ['unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 12:48:23,480 - word_repository      - INFO  - Words saved successfully.
2025-02-19 12:48:23,480 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 12:48:23,484 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'unload'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 12:48:23,680 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 12:48:23,681 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 12:48:23,703 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022C52EDFE60>
2025-02-19 12:48:23,704 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000022C52F0B550> server_hostname='api.anthropic.com' timeout=600
2025-02-19 12:48:23,717 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022C52D06180>
2025-02-19 12:48:23,718 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 12:48:23,719 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 12:48:23,719 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 12:48:23,720 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 12:48:23,721 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 12:48:27,417 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 11:48:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T11:48:24Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T11:48:25Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T11:48:26Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T11:48:25Z'), (b'request-id', b'req_019EBaLt9RVQW1nw6Xz7mcqd'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9146070acb52ecbf-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 12:48:27,420 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 12:48:27,421 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 12:48:27,422 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 12:48:27,423 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 12:48:27,423 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 12:48:27,424 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 11:48:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T11:48:24Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T11:48:25Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T11:48:26Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T11:48:25Z', 'request-id': 'req_019EBaLt9RVQW1nw6Xz7mcqd', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9146070acb52ecbf-WAW', 'content-encoding': 'gzip'})
2025-02-19 12:48:27,427 - anthropic._base_client - DEBUG - request_id: req_019EBaLt9RVQW1nw6Xz7mcqd
2025-02-19 12:48:27,438 - LLMModels            - DEBUG - Message(id='msg_01X57tkPsqjDNdeY6w3m3pT5', content=[TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "rozadowa": "5/5",\n        "wyadowa": "4/5",\n        "rozadowywa": "3/5",\n        "wypakowywa": "3/5"\n    },\n    "Uycie": "Czasownik, usuwa adunek lub zawarto z czego",\n    "Zdanie": "We need to unload the truck.",\n    "Tumaczenie": "Musimy rozadowa ciarwk.",\n    "Czstotliwo": "3/5, B1",\n    "Konteksty": ["transport", "logistyka", "magazynowanie"],\n    "Synonimy": {\n        "discharge": "rozadowa - 3/5",\n        "offload": "wyadowa - 3/5",\n        "empty": "oprni - 4/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')], model='claude-3-5-sonnet-20240620', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(cache_creation_input_tokens=0, cache_read_input_tokens=1496, input_tokens=9, output_tokens=257))
2025-02-19 12:48:27,440 - formatter            - DEBUG - {
    "Tumaczenia": {
        "rozadowa": "5/5",
        "wyadowa": "4/5",
        "rozadowywa": "3/5",
        "wypakowywa": "3/5"
    },
    "Uycie": "Czasownik, usuwa adunek lub zawarto z czego",
    "Zdanie": "We need to unload the truck.",
    "Tumaczenie": "Musimy rozadowa ciarwk.",
    "Czstotliwo": "3/5, B1",
    "Konteksty": ["transport", "logistyka", "magazynowanie"],
    "Synonimy": {
        "discharge": "rozadowa - 3/5",
        "offload": "wyadowa - 3/5",
        "empty": "oprni - 4/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 12:48:27,444 - queris               - INFO  - None
2025-02-19 12:48:37,452 - httpcore.connection  - DEBUG - close.started
2025-02-19 12:48:37,453 - httpcore.connection  - DEBUG - close.complete
2025-02-19 13:07:45,964 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 13:07:45,964 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 13:07:45,965 - events               - INFO  - EventManager init.
2025-02-19 13:07:45,965 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 13:07:46,075 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 13:07:46,089 - word_repository      - INFO  - WordRepository init.
2025-02-19 13:07:46,090 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 13:07:46,092 - word_repository      - DEBUG - ['unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:07:46,093 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 13:07:46,095 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 13:07:46,099 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 13:07:46,853 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 13:07:46,854 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 13:07:46,855 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 13:07:46,856 - word_repository      - INFO  - Getting the top word: unload
2025-02-19 13:07:46,856 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:07:46,857 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:07:46,858 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 13:07:46,858 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 13:07:53,458 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 13:07:53,459 - word_repository      - INFO  - Pushing front api key.
2025-02-19 13:07:53,460 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 13:07:53,461 - word_repository      - DEBUG - ['api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:07:53,462 - word_repository      - INFO  - Words saved successfully.
2025-02-19 13:07:53,462 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 13:07:53,466 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'api key'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 13:07:53,665 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 13:07:53,666 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 13:07:53,705 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023C43A42E40>
2025-02-19 13:07:53,706 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023C43A0BA50> server_hostname='api.anthropic.com' timeout=600
2025-02-19 13:07:53,718 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023C43A42B10>
2025-02-19 13:07:53,719 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 13:07:53,720 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 13:07:53,721 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 13:07:53,722 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 13:07:53,722 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 13:07:58,355 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 12:07:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T12:07:54Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T12:07:55Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T12:07:57Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T12:07:55Z'), (b'request-id', b'req_01NXwqZGSxYU25X7w3RTVhtN'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9146239b2847b1b2-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 13:07:58,359 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 13:07:58,359 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 13:07:58,361 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 13:07:58,361 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 13:07:58,362 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 13:07:58,362 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 12:07:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T12:07:54Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T12:07:55Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T12:07:57Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T12:07:55Z', 'request-id': 'req_01NXwqZGSxYU25X7w3RTVhtN', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9146239b2847b1b2-WAW', 'content-encoding': 'gzip'})
2025-02-19 13:07:58,364 - anthropic._base_client - DEBUG - request_id: req_01NXwqZGSxYU25X7w3RTVhtN
2025-02-19 13:07:58,375 - LLMModels            - DEBUG - Message(id='msg_01PoAj2GLa7Nh61WusYyGzNV', content=[TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "klucz API": "5/5",\n        "klucz interfejsu programowania aplikacji": "3/5",\n        "kod dostpu do API": "2/5"\n    },\n    "Uycie": "Rzeczownik, unikalny identyfikator uywany do autoryzacji dostpu do API",\n    "Zdanie": "You need an API key.",\n    "Tumaczenie": "Potrzebujesz klucza API.",\n    "Czstotliwo": "4/5, B1",\n    "Konteksty": ["programowanie", "bezpieczestwo", "integracja systemw"],\n    "Synonimy": {\n        "API token": "token API - 4/5",\n        "access key": "klucz dostpu - 3/5",\n        "API credential": "powiadczenie API - 2/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')], model='claude-3-5-sonnet-20240620', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(cache_creation_input_tokens=1496, cache_read_input_tokens=0, input_tokens=9, output_tokens=259))
2025-02-19 13:07:58,378 - formatter            - DEBUG - {
    "Tumaczenia": {
        "klucz API": "5/5",
        "klucz interfejsu programowania aplikacji": "3/5",
        "kod dostpu do API": "2/5"
    },
    "Uycie": "Rzeczownik, unikalny identyfikator uywany do autoryzacji dostpu do API",
    "Zdanie": "You need an API key.",
    "Tumaczenie": "Potrzebujesz klucza API.",
    "Czstotliwo": "4/5, B1",
    "Konteksty": ["programowanie", "bezpieczestwo", "integracja systemw"],
    "Synonimy": {
        "API token": "token API - 4/5",
        "access key": "klucz dostpu - 3/5",
        "API credential": "powiadczenie API - 2/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 13:07:58,382 - queris               - INFO  - None
2025-02-19 13:08:08,602 - httpcore.connection  - DEBUG - close.started
2025-02-19 13:08:08,605 - httpcore.connection  - DEBUG - close.complete
2025-02-19 13:20:22,818 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 13:20:22,819 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 13:20:22,819 - events               - INFO  - EventManager init.
2025-02-19 13:20:22,820 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 13:20:22,927 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 13:20:22,943 - word_repository      - INFO  - WordRepository init.
2025-02-19 13:20:22,944 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 13:20:22,945 - word_repository      - DEBUG - ['api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:20:22,946 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 13:20:22,947 - LLMModels            - INFO  - API key loaded successfully.
2025-02-19 13:20:22,948 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 13:20:22,953 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 13:20:23,725 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 13:20:23,726 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 13:20:23,727 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 13:20:23,728 - word_repository      - INFO  - Getting the top word: api key
2025-02-19 13:20:23,729 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:20:23,729 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:20:23,729 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 13:20:23,730 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 13:20:27,956 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 13:20:27,957 - word_repository      - INFO  - Pushing front hard.
2025-02-19 13:20:27,958 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 13:20:27,958 - word_repository      - DEBUG - ['hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:20:27,960 - word_repository      - INFO  - Words saved successfully.
2025-02-19 13:20:27,960 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 13:20:27,964 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'hard'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 13:20:28,165 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 13:20:28,166 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 13:20:28,215 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001DF9037D850>
2025-02-19 13:20:28,216 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001DF9040B850> server_hostname='api.anthropic.com' timeout=600
2025-02-19 13:20:28,230 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001DF90442A50>
2025-02-19 13:20:28,231 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 13:20:28,232 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 13:20:28,232 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 13:20:28,233 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 13:20:28,234 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 13:20:32,286 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 12:20:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T12:20:28Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T12:20:29Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T12:20:31Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T12:20:29Z'), (b'request-id', b'req_014LPqiyKMr2smEM51QbbqMr'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91463606ca850206-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 13:20:32,289 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 13:20:32,289 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 13:20:32,290 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 13:20:32,291 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 13:20:32,291 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 13:20:32,291 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 12:20:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T12:20:28Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T12:20:29Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T12:20:31Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T12:20:29Z', 'request-id': 'req_014LPqiyKMr2smEM51QbbqMr', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91463606ca850206-WAW', 'content-encoding': 'gzip'})
2025-02-19 13:20:32,293 - anthropic._base_client - DEBUG - request_id: req_014LPqiyKMr2smEM51QbbqMr
2025-02-19 13:20:32,304 - LLMModels            - DEBUG - Model responce on hard: 
Message(id='msg_01BjKGAadUic9VyJghw7V3CD', content=[TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "trudny": "5/5",\n        "ciki": "4/5",\n        "twardy": "3/5",\n        "surowy": "2/5"\n    },\n    "Uycie": "Przymiotnik, opisujcy co wymagajcego duego wysiku lub trudnego do wykonania",\n    "Zdanie": "This math problem is hard.",\n    "Tumaczenie": "To zadanie z matematyki jest trudne.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["edukacja", "praca", "materiay"],\n    "Synonimy": {\n        "difficult": "trudny - 5/5",\n        "tough": "trudny, wymagajcy - 4/5",\n        "challenging": "wymagajcy - 4/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')], model='claude-3-5-sonnet-20240620', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(cache_creation_input_tokens=1496, cache_read_input_tokens=0, input_tokens=8, output_tokens=251))
2025-02-19 13:20:32,306 - LLMModels            - DEBUG - Cache_creation_input_tokens=1496,
            
cache_read_input_tokens=0,
            
input_tokens=8,
            
output_tokens=251.
2025-02-19 13:20:32,307 - LLMModels            - INFO  - Cache hit rate: 0.0%
2025-02-19 13:20:32,308 - LLMModels            - INFO  - Tokens saved: 0
2025-02-19 13:20:32,308 - formatter            - DEBUG - {
    "Tumaczenia": {
        "trudny": "5/5",
        "ciki": "4/5",
        "twardy": "3/5",
        "surowy": "2/5"
    },
    "Uycie": "Przymiotnik, opisujcy co wymagajcego duego wysiku lub trudnego do wykonania",
    "Zdanie": "This math problem is hard.",
    "Tumaczenie": "To zadanie z matematyki jest trudne.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["edukacja", "praca", "materiay"],
    "Synonimy": {
        "difficult": "trudny - 5/5",
        "tough": "trudny, wymagajcy - 4/5",
        "challenging": "wymagajcy - 4/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 13:20:32,311 - queris               - INFO  - None
2025-02-19 13:20:55,227 - httpcore.connection  - DEBUG - close.started
2025-02-19 13:20:55,229 - httpcore.connection  - DEBUG - close.complete
2025-02-19 13:21:21,774 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 13:21:21,775 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 13:21:21,775 - events               - INFO  - EventManager init.
2025-02-19 13:21:21,776 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 13:21:21,883 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 13:21:21,898 - word_repository      - INFO  - WordRepository init.
2025-02-19 13:21:21,899 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 13:21:21,900 - word_repository      - DEBUG - ['hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:21:21,900 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 13:21:21,903 - LLMModels            - INFO  - API key loaded successfully.
2025-02-19 13:21:21,904 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 13:21:21,909 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 13:21:22,673 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 13:21:22,675 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 13:21:22,676 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 13:21:22,677 - word_repository      - INFO  - Getting the top word: hard
2025-02-19 13:21:22,677 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:21:22,678 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:21:22,678 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 13:21:22,679 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 13:21:26,486 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 13:21:26,487 - word_repository      - INFO  - Pushing front easy.
2025-02-19 13:21:26,488 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 13:21:26,489 - word_repository      - DEBUG - ['easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:21:26,490 - word_repository      - INFO  - Words saved successfully.
2025-02-19 13:21:26,490 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 13:21:26,494 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'easy'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 13:21:26,690 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 13:21:26,691 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 13:21:26,707 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022B4BF42E10>
2025-02-19 13:21:26,708 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000022B4BF0B8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 13:21:26,725 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022B4BF42BA0>
2025-02-19 13:21:26,726 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 13:21:26,727 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 13:21:26,728 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 13:21:26,728 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 13:21:26,729 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 13:21:30,303 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 12:21:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T12:21:27Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T12:21:28Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T12:21:29Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T12:21:28Z'), (b'request-id', b'req_01PJ7TpypvuQfXX47fubNDAE'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'914637746ac4ef8e-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 13:21:30,306 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 13:21:30,307 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 13:21:30,308 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 13:21:30,309 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 13:21:30,309 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 13:21:30,310 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 12:21:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T12:21:27Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T12:21:28Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T12:21:29Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T12:21:28Z', 'request-id': 'req_01PJ7TpypvuQfXX47fubNDAE', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '914637746ac4ef8e-WAW', 'content-encoding': 'gzip'})
2025-02-19 13:21:30,312 - anthropic._base_client - DEBUG - request_id: req_01PJ7TpypvuQfXX47fubNDAE
2025-02-19 13:21:30,322 - LLMModels            - DEBUG - Model responce on easy: 
Message(id='msg_01T1oCfF5EvUgFMyZb8k5k9j', content=[TextBlock(citations=None, text='{\n    "Tumaczenia": {\n        "atwy": "5/5",\n        "prosty": "4/5",\n        "bezproblemowy": "3/5"\n    },\n    "Uycie": "Przymiotnik, okrelajcy co, co nie wymaga duego wysiku",\n    "Zdanie": "This math problem is very easy.",\n    "Tumaczenie": "To zadanie matematyczne jest bardzo atwe.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["edukacja", "codzienne sytuacje", "poziom trudnoci"],\n    "Synonimy": {\n        "simple": "prosty - 5/5",\n        "effortless": "bezwysikowy - 3/5",\n        "straightforward": "nieskomplikowany - 4/5"\n    },\n    "Poprawny_wyraz": "ok"\n}', type='text')], model='claude-3-5-sonnet-20240620', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(cache_creation_input_tokens=0, cache_read_input_tokens=1496, input_tokens=8, output_tokens=249))
2025-02-19 13:21:30,324 - LLMModels            - DEBUG - Cache_creation_input_tokens=0,
            cache_read_input_tokens=1496,
            input_tokens=8,
            output_tokens=249.
2025-02-19 13:21:30,326 - LLMModels            - INFO  - Cache hit rate: 99.5%
2025-02-19 13:21:30,326 - LLMModels            - INFO  - Tokens saved: 1496
2025-02-19 13:21:30,327 - formatter            - DEBUG - {
    "Tumaczenia": {
        "atwy": "5/5",
        "prosty": "4/5",
        "bezproblemowy": "3/5"
    },
    "Uycie": "Przymiotnik, okrelajcy co, co nie wymaga duego wysiku",
    "Zdanie": "This math problem is very easy.",
    "Tumaczenie": "To zadanie matematyczne jest bardzo atwe.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["edukacja", "codzienne sytuacje", "poziom trudnoci"],
    "Synonimy": {
        "simple": "prosty - 5/5",
        "effortless": "bezwysikowy - 3/5",
        "straightforward": "nieskomplikowany - 4/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 13:25:34,480 - httpcore.connection  - DEBUG - close.started
2025-02-19 13:25:34,482 - httpcore.connection  - DEBUG - close.complete
2025-02-19 13:25:37,162 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 13:25:37,163 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 13:25:37,163 - events               - INFO  - EventManager init.
2025-02-19 13:25:37,164 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 13:25:37,279 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 13:25:37,295 - word_repository      - INFO  - WordRepository init.
2025-02-19 13:25:37,296 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 13:25:37,297 - word_repository      - DEBUG - ['easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:25:37,298 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 13:25:37,300 - LLMModels            - INFO  - API key loaded successfully.
2025-02-19 13:25:37,301 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 13:25:37,305 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 13:25:38,066 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 13:25:38,068 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 13:25:38,069 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 13:25:38,069 - word_repository      - INFO  - Getting the top word: easy
2025-02-19 13:25:38,069 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:25:38,070 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:25:38,070 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 13:25:38,071 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 13:25:47,158 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 13:25:47,159 - word_repository      - INFO  - Pushing front always.
2025-02-19 13:25:47,159 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 13:25:47,160 - word_repository      - DEBUG - ['always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:25:47,161 - word_repository      - INFO  - Words saved successfully.
2025-02-19 13:25:47,162 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 13:25:47,162 - LLMModels            - INFO  - Requesting: always
2025-02-19 13:25:47,166 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'always'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 13:25:47,363 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 13:25:47,364 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 13:25:47,392 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000229452FA660>
2025-02-19 13:25:47,393 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002294530B8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 13:25:47,409 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022945342F30>
2025-02-19 13:25:47,410 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 13:25:47,411 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 13:25:47,412 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 13:25:47,413 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 13:25:47,414 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 13:25:50,945 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 12:25:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T12:25:47Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T12:25:48Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T12:25:49Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T12:25:48Z'), (b'request-id', b'req_017uDpLZk4omZzSBXYYJiNMF'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91463dd1ab5bc3ae-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 13:25:50,948 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 13:25:50,948 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 13:25:50,949 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 13:25:50,950 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 13:25:50,950 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 13:25:50,950 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 12:25:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T12:25:47Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T12:25:48Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T12:25:49Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T12:25:48Z', 'request-id': 'req_017uDpLZk4omZzSBXYYJiNMF', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91463dd1ab5bc3ae-WAW', 'content-encoding': 'gzip'})
2025-02-19 13:25:50,952 - anthropic._base_client - DEBUG - request_id: req_017uDpLZk4omZzSBXYYJiNMF
2025-02-19 13:25:50,962 - LLMModels            - DEBUG - 
            Cache_creation_input_tokens=0,
            cache_read_input_tokens=1496,
            input_tokens=8,
            output_tokens=236.
2025-02-19 13:25:50,964 - LLMModels            - INFO  - Cache hit rate: 99.5%
2025-02-19 13:25:50,964 - LLMModels            - INFO  - Tokens saved: 1496
2025-02-19 13:25:50,965 - formatter            - DEBUG - {
    "Tumaczenia": {
        "zawsze": "5/5",
        "stale": "4/5",
        "cigle": "3/5"
    },
    "Uycie": "Przyswek, w kadym czasie lub w kadej sytuacji",
    "Zdanie": "She always arrives on time.",
    "Tumaczenie": "Ona zawsze przybywa na czas.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["czstotliwo", "zwyczaje", "stao"],
    "Synonimy": {
        "constantly": "nieustannie - 4/5",
        "forever": "na zawsze - 4/5",
        "perpetually": "wiecznie - 3/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 13:27:26,482 - httpcore.connection  - DEBUG - close.started
2025-02-19 13:27:26,484 - httpcore.connection  - DEBUG - close.complete
2025-02-19 13:27:30,461 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 13:27:30,462 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 13:27:30,462 - events               - INFO  - EventManager init.
2025-02-19 13:27:30,463 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 13:27:30,592 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 13:27:30,605 - word_repository      - INFO  - WordRepository init.
2025-02-19 13:27:30,606 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 13:27:30,607 - word_repository      - DEBUG - ['always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:27:30,608 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 13:27:30,609 - LLMModels            - INFO  - API key loaded successfully.
2025-02-19 13:27:30,610 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 13:27:30,614 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 13:27:31,421 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 13:27:31,422 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 13:27:31,423 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 13:27:31,424 - word_repository      - INFO  - Getting the top word: always
2025-02-19 13:27:31,425 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:27:31,425 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:27:31,426 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 13:27:31,427 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 13:27:35,704 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 13:27:35,705 - word_repository      - INFO  - Pushing front hard.
2025-02-19 13:27:35,705 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 13:27:35,707 - word_repository      - DEBUG - ['hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:27:35,708 - word_repository      - INFO  - Words saved successfully.
2025-02-19 13:27:35,709 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 13:27:35,710 - LLMModels            - INFO  - Requesting: hard
2025-02-19 13:27:35,713 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'hard'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 13:27:35,911 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 13:27:35,912 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 13:27:35,925 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000221EE342F00>
2025-02-19 13:27:35,926 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000221EE30B8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 13:27:35,941 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000221EE342E10>
2025-02-19 13:27:35,942 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 13:27:35,943 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 13:27:35,944 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 13:27:35,944 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 13:27:35,945 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 13:27:39,410 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 12:27:38 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T12:27:36Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T12:27:37Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T12:27:38Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T12:27:37Z'), (b'request-id', b'req_01VJPngH77H6KgJ6AWU876z7'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91464077fef0eed1-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 13:27:39,413 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 13:27:39,414 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 13:27:39,415 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 13:27:39,415 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 13:27:39,416 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 13:27:39,416 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 12:27:38 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T12:27:36Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T12:27:37Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T12:27:38Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T12:27:37Z', 'request-id': 'req_01VJPngH77H6KgJ6AWU876z7', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91464077fef0eed1-WAW', 'content-encoding': 'gzip'})
2025-02-19 13:27:39,418 - anthropic._base_client - DEBUG - request_id: req_01VJPngH77H6KgJ6AWU876z7
2025-02-19 13:27:39,430 - LLMModels            - INFO  - 
            Cache_creation_input_tokens=0,
            cache_read_input_tokens=1496,
            input_tokens=8,
            output_tokens=249,
            Cache hit rate: 99.5%,
            Tokens saved: 1496
2025-02-19 13:27:39,431 - formatter            - DEBUG - {
    "Tumaczenia": {
        "trudny": "5/5",
        "ciki": "4/5",
        "twardy": "3/5",
        "surowy": "2/5"
    },
    "Uycie": "Przymiotnik, opisujcy co wymagajcego duego wysiku lub trudnego do wykonania",
    "Zdanie": "The exam was very hard.",
    "Tumaczenie": "Egzamin by bardzo trudny.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["edukacja", "praca", "materiay"],
    "Synonimy": {
        "difficult": "trudny - 5/5",
        "challenging": "wymagajcy - 4/5",
        "arduous": "mudny - 2/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 13:28:18,425 - httpcore.connection  - DEBUG - close.started
2025-02-19 13:28:18,426 - httpcore.connection  - DEBUG - close.complete
2025-02-19 13:34:09,464 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 13:34:09,465 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 13:34:09,466 - events               - INFO  - EventManager init.
2025-02-19 13:34:09,466 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 13:34:09,575 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 13:34:09,600 - word_repository      - INFO  - WordRepository init.
2025-02-19 13:34:09,601 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 13:34:09,602 - word_repository      - DEBUG - ['hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:34:09,603 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 13:34:09,605 - LLMModels            - INFO  - API key loaded successfully.
2025-02-19 13:34:09,606 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 13:34:09,610 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 13:34:10,389 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 13:34:10,390 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 13:34:10,392 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 13:34:10,392 - word_repository      - INFO  - Getting the top word: hard
2025-02-19 13:34:10,393 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:34:10,393 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:34:10,394 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 13:34:10,395 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 13:34:14,416 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 13:34:14,417 - word_repository      - INFO  - Pushing front easy.
2025-02-19 13:34:14,417 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 13:34:14,418 - word_repository      - DEBUG - ['easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:34:14,420 - word_repository      - INFO  - Words saved successfully.
2025-02-19 13:34:14,420 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 13:34:14,421 - LLMModels            - INFO  - Requesting: easy
2025-02-19 13:34:14,424 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'easy'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 13:34:14,624 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 13:34:14,625 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 13:34:14,691 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020BA6A8D1C0>
2025-02-19 13:34:14,692 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020BA7E3A3D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 13:34:14,708 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020BA7E64710>
2025-02-19 13:34:14,709 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 13:34:14,710 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 13:34:14,711 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 13:34:14,712 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 13:34:14,712 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 13:34:19,027 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 12:34:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T12:34:15Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T12:34:16Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T12:34:18Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T12:34:16Z'), (b'request-id', b'req_01Q4SwNWWxUm4BzaxkuvuZtN'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91464a3439b4b1f1-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 13:34:19,031 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 13:34:19,032 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 13:34:19,033 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 13:34:19,034 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 13:34:19,034 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 13:34:19,035 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 12:34:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T12:34:15Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T12:34:16Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T12:34:18Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T12:34:16Z', 'request-id': 'req_01Q4SwNWWxUm4BzaxkuvuZtN', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91464a3439b4b1f1-WAW', 'content-encoding': 'gzip'})
2025-02-19 13:34:19,037 - anthropic._base_client - DEBUG - request_id: req_01Q4SwNWWxUm4BzaxkuvuZtN
2025-02-19 13:34:19,045 - LLMModels            - INFO  - Cache_creation_input_tokens=1496, cache_read_input_tokens=0, input_tokens=8, output_tokens=246, Cache hit rate: 0.0%, Tokens saved: 0
2025-02-19 13:34:19,046 - formatter            - DEBUG - {
    "Tumaczenia": {
        "atwy": "5/5",
        "prosty": "4/5",
        "bezproblemowy": "3/5"
    },
    "Uycie": "Przymiotnik, okrelajcy co, co nie wymaga duego wysiku",
    "Zdanie": "This math problem is easy.",
    "Tumaczenie": "To zadanie matematyczne jest atwe.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["nauka", "codzienne czynnoci", "poziom trudnoci"],
    "Synonimy": {
        "simple": "prosty - 4/5",
        "effortless": "bezwysikowy - 3/5",
        "straightforward": "nieskomplikowany - 3/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 13:34:20,653 - httpcore.connection  - DEBUG - close.started
2025-02-19 13:34:20,654 - httpcore.connection  - DEBUG - close.complete
2025-02-19 13:35:11,464 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 13:35:11,465 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 13:35:11,466 - events               - INFO  - EventManager init.
2025-02-19 13:35:11,466 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 13:35:11,578 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 13:35:11,601 - word_repository      - INFO  - WordRepository init.
2025-02-19 13:35:11,601 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 13:35:11,603 - word_repository      - DEBUG - ['easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:35:11,604 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 13:35:11,606 - LLMModels            - INFO  - API key loaded successfully.
2025-02-19 13:35:11,607 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 13:35:11,611 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 13:35:12,383 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 13:35:12,385 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 13:35:12,386 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 13:35:12,387 - word_repository      - INFO  - Getting the top word: easy
2025-02-19 13:35:12,387 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:35:12,388 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 13:35:12,388 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 13:35:12,389 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 13:35:23,981 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 13:35:23,982 - word_repository      - INFO  - Pushing front ideosincises.
2025-02-19 13:35:23,983 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 13:35:23,984 - word_repository      - DEBUG - ['ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 13:35:23,985 - word_repository      - INFO  - Words saved successfully.
2025-02-19 13:35:23,986 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 13:35:23,986 - LLMModels            - INFO  - Requesting: ideosincises
2025-02-19 13:35:23,990 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'ideosincises'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 13:35:24,187 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 13:35:24,188 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 13:35:24,205 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000016127F77590>
2025-02-19 13:35:24,206 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000016128C3A3D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 13:35:24,222 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000161279EF560>
2025-02-19 13:35:24,223 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 13:35:24,224 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 13:35:24,224 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 13:35:24,225 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 13:35:24,225 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 13:35:28,566 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 12:35:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T12:35:24Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T12:35:25Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T12:35:27Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T12:35:25Z'), (b'request-id', b'req_01TqPzHUtJhxPAEH6zjn3N15'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91464be6ad0dc077-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 13:35:28,569 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 13:35:28,570 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 13:35:28,571 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 13:35:28,572 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 13:35:28,572 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 13:35:28,572 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 12:35:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T12:35:24Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T12:35:25Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T12:35:27Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T12:35:25Z', 'request-id': 'req_01TqPzHUtJhxPAEH6zjn3N15', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91464be6ad0dc077-WAW', 'content-encoding': 'gzip'})
2025-02-19 13:35:28,574 - anthropic._base_client - DEBUG - request_id: req_01TqPzHUtJhxPAEH6zjn3N15
2025-02-19 13:35:28,584 - LLMModels            - INFO  - Cache_creation_input_tokens=0
cache_read_input_tokens=1496
input_tokens=11
output_tokens=252
Cache hit rate: 99.3%
Tokens saved: 1496
2025-02-19 13:35:28,586 - formatter            - DEBUG - {
    "Tumaczenia": {
        "osobliwoci": "4/5",
        "idiosynkrazje": "3/5",
        "dziwactwa": "3/5"
    },
    "Uycie": "Rzeczownik, charakterystyczne cechy lub zachowania jednostki",
    "Zdanie": "His idiosyncrasies make him unique.",
    "Tumaczenie": "Jego osobliwoci czyni go wyjtkowym.",
    "Czstotliwo": "2/5, C1",
    "Konteksty": ["psychologia", "zachowanie", "osobowo"],
    "Synonimy": {
        "peculiarities": "osobliwoci - 3/5",
        "quirks": "dziwactwa - 3/5",
        "eccentricities": "ekscentrycznoci - 2/5"
    },
    "Poprawny_wyraz": "idiosyncrasies"
}
2025-02-19 13:35:38,259 - httpcore.connection  - DEBUG - close.started
2025-02-19 13:35:38,261 - httpcore.connection  - DEBUG - close.complete
2025-02-19 14:30:14,165 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 14:30:14,166 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 14:30:14,167 - events               - INFO  - EventManager init.
2025-02-19 14:30:14,167 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 14:30:14,277 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 14:30:14,293 - word_repository      - INFO  - WordRepository init.
2025-02-19 14:30:14,294 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 14:30:14,295 - word_repository      - DEBUG - ['ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 14:30:14,296 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 14:30:14,298 - LLMModels            - INFO  - API key loaded successfully.
2025-02-19 14:30:14,299 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 14:30:14,303 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 14:30:15,080 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 14:30:15,083 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 14:30:15,084 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 14:30:15,085 - word_repository      - INFO  - Getting the top word: ideosincises
2025-02-19 14:30:15,085 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 14:30:15,086 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 14:30:15,086 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 14:30:15,087 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-19 14:30:18,181 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 14:30:18,182 - word_repository      - INFO  - Pushing front dog.
2025-02-19 14:30:18,183 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 14:30:18,184 - word_repository      - DEBUG - ['dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 14:30:18,185 - word_repository      - INFO  - Words saved successfully.
2025-02-19 14:30:18,185 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 14:30:18,186 - LLMModels            - INFO  - Requesting: dog
2025-02-19 14:30:18,189 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'dog'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 14:30:18,404 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 14:30:18,405 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 14:30:18,446 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E22C6F4F80>
2025-02-19 14:30:18,447 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001E22D1363D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 14:30:18,458 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E22D008650>
2025-02-19 14:30:18,459 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 14:30:18,460 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 14:30:18,461 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 14:30:18,462 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 14:30:18,462 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 14:30:21,613 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 13:30:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T13:30:18Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T13:30:19Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T13:30:20Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T13:30:19Z'), (b'request-id', b'req_01W9Wn9CLtacTxfGh1NFzPJ3'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91469c534914eeb6-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 14:30:21,617 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 14:30:21,617 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 14:30:21,618 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 14:30:21,620 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 14:30:21,620 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 14:30:21,621 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 13:30:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T13:30:18Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T13:30:19Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T13:30:20Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T13:30:19Z', 'request-id': 'req_01W9Wn9CLtacTxfGh1NFzPJ3', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91469c534914eeb6-WAW', 'content-encoding': 'gzip'})
2025-02-19 14:30:21,623 - anthropic._base_client - DEBUG - request_id: req_01W9Wn9CLtacTxfGh1NFzPJ3
2025-02-19 14:30:21,632 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1496
cache_read_input_tokens=0
input_tokens=8
output_tokens=239
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-19 14:30:21,634 - formatter            - DEBUG - {
    "Tumaczenia": {
        "pies": "5/5",
        "psina": "3/5",
        "kundel": "2/5"
    },
    "Uycie": "Rzeczownik, zwierz domowe z rodziny psowatych",
    "Zdanie": "The dog barks at strangers.",
    "Tumaczenie": "Pies szczeka na obcych.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["zwierzta domowe", "ochrona", "przyja"],
    "Synonimy": {
        "canine": "pies - 3/5",
        "hound": "pies myliwski - 2/5",
        "pooch": "piesek - 2/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 14:30:21,636 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-19 14:30:21,636 - queris               - DEBUG - Removed validation element 'Poprawny_wyraz: ok' from result.
2025-02-19 14:30:29,049 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 14:30:29,049 - word_repository      - INFO  - Pushing front dobe.
2025-02-19 14:30:29,050 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 14:30:29,051 - word_repository      - DEBUG - ['dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 14:30:29,052 - word_repository      - INFO  - Words saved successfully.
2025-02-19 14:30:29,053 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 14:30:29,053 - LLMModels            - INFO  - Requesting: dobe
2025-02-19 14:30:29,056 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'dobe'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 14:30:29,062 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 14:30:29,063 - httpcore.connection  - DEBUG - close.started
2025-02-19 14:30:29,064 - httpcore.connection  - DEBUG - close.complete
2025-02-19 14:30:29,065 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 14:30:29,071 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E22D194980>
2025-02-19 14:30:29,072 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001E22D1363D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 14:30:29,087 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E22D194620>
2025-02-19 14:30:29,087 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 14:30:29,090 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 14:30:29,091 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 14:30:29,092 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 14:30:29,092 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 14:30:32,744 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 13:30:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T13:30:29Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T13:30:30Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T13:30:31Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T13:30:30Z'), (b'request-id', b'req_01QsWysZd2Ksdh6V5QF1FNhb'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91469c95b853eeba-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 14:30:32,746 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 14:30:32,747 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 14:30:32,748 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 14:30:32,749 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 14:30:32,749 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 14:30:32,750 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 13:30:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T13:30:29Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T13:30:30Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T13:30:31Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T13:30:30Z', 'request-id': 'req_01QsWysZd2Ksdh6V5QF1FNhb', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91469c95b853eeba-WAW', 'content-encoding': 'gzip'})
2025-02-19 14:30:32,752 - anthropic._base_client - DEBUG - request_id: req_01QsWysZd2Ksdh6V5QF1FNhb
2025-02-19 14:30:32,753 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1496
input_tokens=9
output_tokens=241
Cache hit rate: 99.4%
Tokens saved: 1496
2025-02-19 14:30:32,754 - formatter            - DEBUG - {
    "Tumaczenia": {
        "dobry": "4/5",
        "doberman": "3/5",
        "rodzaj psa": "3/5"
    },
    "Uycie": "Rzeczownik, rasa psa lub Przymiotnik, przestarzaa forma 'dobry'",
    "Zdanie": "The Doberman is a loyal dobe.",
    "Tumaczenie": "Doberman to wierny pies.",
    "Czstotliwo": "2/5, C1",
    "Konteksty": ["rasy psw", "slang", "archaic English"],
    "Synonimy": {
        "Doberman": "doberman - 4/5",
        "good": "dobry - 5/5",
        "canine": "pies - 3/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-19 14:30:32,757 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-19 14:30:32,757 - queris               - DEBUG - Removed validation element 'Poprawny_wyraz: ok' from result.
2025-02-19 14:30:50,293 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-19 14:30:50,294 - word_repository      - INFO  - Pushing front juste.
2025-02-19 14:30:50,294 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-19 14:30:50,295 - word_repository      - DEBUG - ['juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 14:30:50,297 - word_repository      - INFO  - Words saved successfully.
2025-02-19 14:30:50,297 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-19 14:30:50,298 - LLMModels            - INFO  - Requesting: juste
2025-02-19 14:30:50,301 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'juste'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-19 14:30:50,307 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-19 14:30:50,308 - httpcore.connection  - DEBUG - close.started
2025-02-19 14:30:50,309 - httpcore.connection  - DEBUG - close.complete
2025-02-19 14:30:50,309 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-19 14:30:50,315 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E22D16C4A0>
2025-02-19 14:30:50,316 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001E22D1363D0> server_hostname='api.anthropic.com' timeout=600
2025-02-19 14:30:50,333 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E22D16C830>
2025-02-19 14:30:50,334 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-19 14:30:50,335 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-19 14:30:50,336 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-19 14:30:50,337 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-19 14:30:50,337 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-19 14:30:54,056 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 19 Feb 2025 13:30:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-19T13:30:51Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-19T13:30:52Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-19T13:30:53Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-19T13:30:52Z'), (b'request-id', b'req_01FMVvHLWtiiMKjxBE9xxQkq'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91469d1a8f9cbfee-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-19 14:30:54,058 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-19 14:30:54,060 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-19 14:30:54,061 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-19 14:30:54,062 - httpcore.http11      - DEBUG - response_closed.started
2025-02-19 14:30:54,062 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-19 14:30:54,063 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Wed, 19 Feb 2025 13:30:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-19T13:30:51Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-19T13:30:52Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-19T13:30:53Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-19T13:30:52Z', 'request-id': 'req_01FMVvHLWtiiMKjxBE9xxQkq', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91469d1a8f9cbfee-WAW', 'content-encoding': 'gzip'})
2025-02-19 14:30:54,064 - anthropic._base_client - DEBUG - request_id: req_01FMVvHLWtiiMKjxBE9xxQkq
2025-02-19 14:30:54,066 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1496
input_tokens=9
output_tokens=242
Cache hit rate: 99.4%
Tokens saved: 1496
2025-02-19 14:30:54,067 - formatter            - DEBUG - {
    "Tumaczenia": {
        "sprawiedliwy": "4/5",
        "suszny": "3/5",
        "prawy": "2/5"
    },
    "Uycie": "Przymiotnik, charakteryzujcy co jako waciwe, uczciwe lub zasuone",
    "Zdanie": "The decision was fair and just.",
    "Tumaczenie": "Decyzja bya uczciwa i sprawiedliwa.",
    "Czstotliwo": "3/5, B2",
    "Konteksty": ["prawo", "etyka", "filozofia"],
    "Synonimy": {
        "fair": "uczciwy - 4/5",
        "equitable": "sprawiedliwy - 3/5",
        "righteous": "prawy - 2/5"
    },
    "Poprawny_wyraz": "just"
}
2025-02-19 14:30:54,070 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-19 14:30:59,078 - httpcore.connection  - DEBUG - close.started
2025-02-19 14:30:59,079 - httpcore.connection  - DEBUG - close.complete
2025-02-19 15:50:45,180 - __main__             - INFO  - Launching AnkiAdder.
2025-02-19 15:50:45,180 - anki_adder           - INFO  - AnkiAdder init.
2025-02-19 15:50:45,181 - events               - INFO  - EventManager init.
2025-02-19 15:50:45,181 - gui.main_window      - INFO  - MainWindow init.
2025-02-19 15:50:45,319 - gui.components.word_input - INFO  - WordInput init.
2025-02-19 15:50:45,334 - word_repository      - INFO  - WordRepository init.
2025-02-19 15:50:45,335 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-19 15:50:45,336 - word_repository      - DEBUG - ['juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-19 15:50:45,337 - word_repository      - INFO  - Words loaded successfully.
2025-02-19 15:50:45,340 - LLMModels            - INFO  - API key loaded successfully.
2025-02-19 15:50:45,341 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-19 15:50:45,345 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-19 15:50:46,128 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-19 15:50:46,129 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-19 15:50:46,130 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-19 15:50:46,130 - word_repository      - INFO  - Getting the top word: juste
2025-02-19 15:50:46,131 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-19 15:50:46,132 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-19 15:50:46,133 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-19 15:50:46,133 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-20 16:34:30,084 - __main__             - INFO  - Launching AnkiAdder.
2025-02-20 16:34:30,086 - anki_adder           - INFO  - AnkiAdder init.
2025-02-20 16:34:30,086 - events               - INFO  - EventManager init.
2025-02-20 16:34:30,087 - gui.main_window      - INFO  - MainWindow init.
2025-02-20 16:34:30,315 - gui.components.word_input - INFO  - WordInput init.
2025-02-20 16:34:30,334 - word_repository      - INFO  - WordRepository init.
2025-02-20 16:34:30,334 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-20 16:34:30,336 - word_repository      - DEBUG - ['juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-20 16:34:30,337 - word_repository      - INFO  - Words loaded successfully.
2025-02-20 16:34:30,338 - LLMModels            - INFO  - API key loaded successfully.
2025-02-20 16:34:30,339 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-20 16:34:30,356 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-20 16:34:31,228 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-20 16:34:31,231 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-20 16:34:31,234 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-20 16:34:31,235 - word_repository      - INFO  - Getting the top word: juste
2025-02-20 16:34:31,236 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-20 16:34:31,237 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-20 16:34:31,237 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-20 16:34:31,238 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-20 16:34:36,415 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-20 16:34:36,416 - word_repository      - INFO  - Pushing front juice.
2025-02-20 16:34:36,416 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-20 16:34:36,417 - word_repository      - DEBUG - ['juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-20 16:34:36,419 - word_repository      - INFO  - Words saved successfully.
2025-02-20 16:34:36,420 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-20 16:35:06,961 - __main__             - INFO  - Launching AnkiAdder.
2025-02-20 16:35:06,962 - anki_adder           - INFO  - AnkiAdder init.
2025-02-20 16:35:06,962 - events               - INFO  - EventManager init.
2025-02-20 16:35:06,963 - gui.main_window      - INFO  - MainWindow init.
2025-02-20 16:35:07,108 - gui.components.word_input - INFO  - WordInput init.
2025-02-20 16:35:07,124 - word_repository      - INFO  - WordRepository init.
2025-02-20 16:35:07,125 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-20 16:35:07,126 - word_repository      - DEBUG - ['juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load']
2025-02-20 16:35:07,127 - word_repository      - INFO  - Words loaded successfully.
2025-02-20 16:35:07,129 - LLMModels            - INFO  - API key loaded successfully.
2025-02-20 16:35:07,130 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-20 16:35:07,134 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-20 16:35:07,912 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-20 16:35:07,912 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-20 16:35:07,913 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-20 16:35:07,914 - word_repository      - INFO  - Getting the top word: juice
2025-02-20 16:35:07,915 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-20 16:35:07,915 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-20 16:35:07,916 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-20 16:35:07,916 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-20 16:35:10,779 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-20 16:35:10,780 - word_repository      - INFO  - Pushing back juice.
2025-02-20 16:35:10,780 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-20 16:35:10,781 - word_repository      - DEBUG - ['juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load', 'juice']
2025-02-20 16:35:10,783 - word_repository      - INFO  - Words saved successfully.
2025-02-20 16:35:10,783 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-20 16:35:14,951 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-20 16:35:14,952 - word_repository      - INFO  - Pushing front juice.
2025-02-20 16:35:14,952 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-20 16:35:14,953 - word_repository      - DEBUG - ['juice', 'juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load', 'juice']
2025-02-20 16:35:14,955 - word_repository      - INFO  - Words saved successfully.
2025-02-20 16:35:14,955 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-20 16:35:14,956 - LLMModels            - INFO  - Requesting: juice
2025-02-20 16:35:14,964 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'juice'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-20 16:35:15,129 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-20 16:35:15,130 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-20 16:35:15,200 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002BE91FAEE70>
2025-02-20 16:35:15,201 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002BE92F3AA50> server_hostname='api.anthropic.com' timeout=600
2025-02-20 16:35:15,221 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002BE91E518E0>
2025-02-20 16:35:15,223 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-20 16:35:15,224 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-20 16:35:15,225 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-20 16:35:15,226 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-20 16:35:15,226 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-20 16:35:18,993 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Feb 2025 15:35:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-20T15:35:14Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-20T15:35:15Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-20T15:35:17Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-20T15:35:15Z'), (b'request-id', b'req_01Y2yuozFaduQDcNMk4JGx1S'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'914f90b5fc490178-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-20 16:35:18,996 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-20 16:35:18,997 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-20 16:35:18,999 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-20 16:35:19,000 - httpcore.http11      - DEBUG - response_closed.started
2025-02-20 16:35:19,000 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-20 16:35:19,001 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Thu, 20 Feb 2025 15:35:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-20T15:35:14Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-20T15:35:15Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-20T15:35:17Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-20T15:35:15Z', 'request-id': 'req_01Y2yuozFaduQDcNMk4JGx1S', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '914f90b5fc490178-WAW', 'content-encoding': 'gzip'})
2025-02-20 16:35:19,004 - anthropic._base_client - DEBUG - request_id: req_01Y2yuozFaduQDcNMk4JGx1S
2025-02-20 16:35:19,018 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1496
cache_read_input_tokens=0
input_tokens=8
output_tokens=245
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-20 16:35:19,020 - formatter            - DEBUG - {
    "Tumaczenia": {
        "sok": "5/5",
        "wycisn": "2/5",
        "esencja": "1/5"
    },
    "Uycie": "Rzeczownik, napj uzyskany przez wycinicie owocw lub warzyw",
    "Zdanie": "I drink orange juice every morning.",
    "Tumaczenie": "Pij sok pomaraczowy kadego ranka.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["napoje", "dieta", "gotowanie"],
    "Synonimy": {
        "nectar": "nektar - 3/5",
        "smoothie": "koktajl owocowy - 4/5",
        "beverage": "napj - 4/5"
    },
    "Poprawny_wyraz": "ok"
}
2025-02-20 16:35:19,024 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-20 16:35:19,025 - queris               - DEBUG - Removed validation element 'Poprawny_wyraz: ok' from result.
2025-02-20 16:35:29,857 - httpcore.connection  - DEBUG - close.started
2025-02-20 16:35:29,859 - httpcore.connection  - DEBUG - close.complete
2025-02-20 16:37:27,342 - __main__             - INFO  - Launching AnkiAdder.
2025-02-20 16:37:27,342 - anki_adder           - INFO  - AnkiAdder init.
2025-02-20 16:37:27,342 - events               - INFO  - EventManager init.
2025-02-20 16:37:27,342 - gui.main_window      - INFO  - MainWindow init.
2025-02-20 16:37:27,456 - gui.components.word_input - INFO  - WordInput init.
2025-02-20 16:37:27,469 - word_repository      - INFO  - WordRepository init.
2025-02-20 16:37:27,470 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-20 16:37:27,471 - word_repository      - DEBUG - ['juice', 'juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load', 'juice']
2025-02-20 16:37:27,472 - word_repository      - INFO  - Words loaded successfully.
2025-02-20 16:37:27,473 - LLMModels            - INFO  - API key loaded successfully.
2025-02-20 16:37:27,474 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-20 16:37:27,479 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-20 16:37:28,383 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-20 16:37:28,386 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-20 16:37:28,387 - queris               - ERROR - Prompt file not found: data\prompts\find_word_prompt.txt
2025-02-20 16:37:28,388 - queris               - ERROR - Failed to load prompts: {<ConfigKey.FIND_WORD: 3>}
2025-02-20 16:37:28,388 - queris               - ERROR - Error loading prompts: Missing required prompts: {<ConfigKey.FIND_WORD: 3>}
2025-02-20 16:37:28,389 - error_handler        - ERROR - Error: Error loading prompts: Missing required prompts: {<ConfigKey.FIND_WORD: 3>}
2025-02-20 16:45:09,846 - __main__             - INFO  - Launching AnkiAdder.
2025-02-20 16:45:09,846 - anki_adder           - INFO  - AnkiAdder init.
2025-02-20 16:45:09,847 - events               - INFO  - EventManager init.
2025-02-20 16:45:09,847 - gui.main_window      - INFO  - MainWindow init.
2025-02-20 16:45:09,988 - gui.components.word_input - INFO  - WordInput init.
2025-02-20 16:45:10,001 - word_repository      - INFO  - WordRepository init.
2025-02-20 16:45:10,001 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-20 16:45:10,003 - word_repository      - DEBUG - ['juice', 'juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load', 'juice']
2025-02-20 16:45:10,004 - word_repository      - INFO  - Words loaded successfully.
2025-02-20 16:45:10,006 - LLMModels            - INFO  - API key loaded successfully.
2025-02-20 16:45:10,007 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-20 16:45:10,011 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-20 16:45:10,842 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-20 16:45:10,843 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-20 16:45:10,844 - queris               - ERROR - Prompt file not found: data\prompts\find_word_prompt.txt
2025-02-20 16:45:10,845 - queris               - ERROR - Failed to load prompts: {<ConfigKey.FIND_WORD: 3>}
2025-02-20 16:45:10,845 - queris               - ERROR - Error loading prompts: Missing required prompts: {<ConfigKey.FIND_WORD: 3>}
2025-02-20 16:45:10,846 - error_handler        - ERROR - Configuration Error: Missing required prompts: {<ConfigKey.FIND_WORD: 3>}
2025-02-20 16:45:13,113 - error_handler        - CRITICAL - FATAL ERROR - Fatal Error: Can not load required prompts, can not preceed
2025-02-20 16:53:11,113 - __main__             - INFO  - Launching AnkiAdder.
2025-02-20 16:53:11,114 - anki_adder           - INFO  - AnkiAdder init.
2025-02-20 16:53:11,114 - events               - INFO  - EventManager init.
2025-02-20 16:53:11,114 - gui.main_window      - INFO  - MainWindow init.
2025-02-20 16:53:11,232 - gui.components.word_input - INFO  - WordInput init.
2025-02-20 16:53:11,272 - word_repository      - INFO  - WordRepository init.
2025-02-20 16:53:11,273 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-20 16:53:11,278 - word_repository      - DEBUG - ['juice', 'juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load', 'juice']
2025-02-20 16:53:11,280 - word_repository      - INFO  - Words loaded successfully.
2025-02-20 16:53:11,282 - LLMModels            - INFO  - API key loaded successfully.
2025-02-20 16:53:11,283 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-20 16:53:11,287 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-20 16:53:12,076 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-20 16:53:12,078 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-20 16:53:12,079 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-20 16:53:12,080 - word_repository      - INFO  - Getting the top word: juice
2025-02-20 16:53:12,080 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-20 16:53:12,081 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-20 16:53:12,082 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-20 16:53:12,082 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-20 16:53:17,589 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-20 16:53:17,590 - word_repository      - INFO  - Pushing front kola.
2025-02-20 16:53:17,590 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-20 16:53:17,592 - word_repository      - DEBUG - ['kola', 'juice', 'juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load', 'juice']
2025-02-20 16:53:17,594 - word_repository      - INFO  - Words saved successfully.
2025-02-20 16:53:17,594 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-20 16:53:17,595 - LLMModels            - INFO  - Requesting: kola
2025-02-20 16:53:17,600 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'kola'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-20 16:53:17,763 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-20 16:53:17,764 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-20 16:53:17,785 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000024FDCB69610>
2025-02-20 16:53:17,786 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000024FDCB3ABD0> server_hostname='api.anthropic.com' timeout=600
2025-02-20 16:53:17,805 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000024FDCADF740>
2025-02-20 16:53:17,806 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-20 16:53:17,807 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-20 16:53:17,807 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-20 16:53:17,808 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-20 16:53:17,808 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-20 16:53:22,076 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Feb 2025 15:53:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-20T15:53:17Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-20T15:53:18Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-20T15:53:20Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-20T15:53:18Z'), (b'request-id', b'req_01LnegaP3w3UyvibsqzMM4Bs'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'914fab229e953bc5-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-20 16:53:22,079 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-20 16:53:22,080 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-20 16:53:22,081 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-20 16:53:22,082 - httpcore.http11      - DEBUG - response_closed.started
2025-02-20 16:53:22,082 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-20 16:53:22,083 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Thu, 20 Feb 2025 15:53:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-20T15:53:17Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-20T15:53:18Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-20T15:53:20Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-20T15:53:18Z', 'request-id': 'req_01LnegaP3w3UyvibsqzMM4Bs', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '914fab229e953bc5-WAW', 'content-encoding': 'gzip'})
2025-02-20 16:53:22,085 - anthropic._base_client - DEBUG - request_id: req_01LnegaP3w3UyvibsqzMM4Bs
2025-02-20 16:53:22,097 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1496
cache_read_input_tokens=0
input_tokens=9
output_tokens=254
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-20 16:53:22,101 - error_handler        - ERROR - Operation failed: 'str' object has no attribute 'content'
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\error_handler.py", line 43, in safe_execute
    return operation()
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 80, in <lambda>
    operation=lambda: self._get_translation_impl(word),
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 65, in _get_translation_impl
    translation_parts = self.formatter.get_formatted_text(model_response.content)
                                                          ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'content'

2025-02-20 16:53:22,103 - error_handler        - INFO  - Asking for retry: Translation Error for 'kola': An error occured: 'str' object has no attribute 'content'

Would you like to retry?
2025-02-20 16:53:33,348 - LLMModels            - INFO  - Requesting: kola
2025-02-20 16:53:33,351 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'kola'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-20 16:53:33,358 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-20 16:53:33,358 - httpcore.connection  - DEBUG - close.started
2025-02-20 16:53:33,359 - httpcore.connection  - DEBUG - close.complete
2025-02-20 16:53:33,360 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-20 16:53:33,365 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000024FDCB94FE0>
2025-02-20 16:53:33,366 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000024FDCB3ABD0> server_hostname='api.anthropic.com' timeout=600
2025-02-20 16:53:33,382 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000024FDCB94F20>
2025-02-20 16:53:33,383 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-20 16:53:33,384 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-20 16:53:33,384 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-20 16:53:33,385 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-20 16:53:33,385 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-20 16:53:37,176 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Feb 2025 15:53:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-20T15:53:32Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-20T15:53:33Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-20T15:53:35Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-20T15:53:33Z'), (b'request-id', b'req_016P53NV88AkffPaXKzd82Zx'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'914fab83eacebf2e-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-20 16:53:37,178 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-20 16:53:37,179 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-20 16:53:37,180 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-20 16:53:37,181 - httpcore.http11      - DEBUG - response_closed.started
2025-02-20 16:53:37,181 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-20 16:53:37,182 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Thu, 20 Feb 2025 15:53:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-20T15:53:32Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-20T15:53:33Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-20T15:53:35Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-20T15:53:33Z', 'request-id': 'req_016P53NV88AkffPaXKzd82Zx', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '914fab83eacebf2e-WAW', 'content-encoding': 'gzip'})
2025-02-20 16:53:37,184 - anthropic._base_client - DEBUG - request_id: req_016P53NV88AkffPaXKzd82Zx
2025-02-20 16:53:37,185 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1496
input_tokens=9
output_tokens=239
Cache hit rate: 99.4%
Tokens saved: 1496
2025-02-20 16:53:37,188 - error_handler        - ERROR - Operation failed: 'str' object has no attribute 'content'
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\error_handler.py", line 43, in safe_execute
    return operation()
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 80, in <lambda>
    operation=lambda: self._get_translation_impl(word),
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 65, in _get_translation_impl
    translation_parts = self.formatter.get_formatted_text(model_response.content)
                                                          ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'content'

2025-02-20 16:53:37,190 - error_handler        - INFO  - Asking for retry: Translation Error for 'kola': An error occured: 'str' object has no attribute 'content'

Would you like to retry?
2025-02-20 16:53:43,609 - error_handler        - CRITICAL - FATAL ERROR - Fatal Error: Can not preceeed!
2025-02-20 16:54:02,548 - __main__             - INFO  - Launching AnkiAdder.
2025-02-20 16:54:02,549 - anki_adder           - INFO  - AnkiAdder init.
2025-02-20 16:54:02,549 - events               - INFO  - EventManager init.
2025-02-20 16:54:02,550 - gui.main_window      - INFO  - MainWindow init.
2025-02-20 16:54:02,665 - gui.components.word_input - INFO  - WordInput init.
2025-02-20 16:54:02,678 - word_repository      - INFO  - WordRepository init.
2025-02-20 16:54:02,678 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-20 16:54:02,680 - word_repository      - DEBUG - ['kola', 'juice', 'juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load', 'juice']
2025-02-20 16:54:02,681 - word_repository      - INFO  - Words loaded successfully.
2025-02-20 16:54:02,683 - LLMModels            - INFO  - API key loaded successfully.
2025-02-20 16:54:02,684 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-20 16:54:02,689 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-20 16:54:03,484 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-20 16:54:03,487 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-20 16:54:03,488 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-20 16:54:03,489 - word_repository      - INFO  - Getting the top word: kola
2025-02-20 16:54:03,489 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-20 16:54:03,490 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-20 16:54:03,491 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-20 16:54:03,491 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-20 16:54:07,223 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-20 16:54:07,224 - word_repository      - INFO  - Pushing front kolaa.
2025-02-20 16:54:07,224 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-20 16:54:07,225 - word_repository      - DEBUG - ['kolaa', 'kola', 'juice', 'juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load', 'juice']
2025-02-20 16:54:07,227 - word_repository      - INFO  - Words saved successfully.
2025-02-20 16:54:07,227 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-20 16:54:07,228 - LLMModels            - INFO  - Requesting: kolaa
2025-02-20 16:54:07,231 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'kolaa'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-20 16:54:07,383 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-20 16:54:07,384 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-20 16:54:07,400 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000017FA0022DE0>
2025-02-20 16:54:07,401 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000017FA003ABD0> server_hostname='api.anthropic.com' timeout=600
2025-02-20 16:54:07,422 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000017F9F893F80>
2025-02-20 16:54:07,423 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-20 16:54:07,425 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-20 16:54:07,425 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-20 16:54:07,426 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-20 16:54:07,426 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-20 16:54:10,932 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Feb 2025 15:54:09 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-20T15:54:06Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-20T15:54:07Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-20T15:54:08Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-20T15:54:07Z'), (b'request-id', b'req_01KDarvhwwP4HKRwfRKzDGsa'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'914fac58add4c3d8-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-20 16:54:10,935 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-20 16:54:10,936 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-20 16:54:10,937 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-20 16:54:10,938 - httpcore.http11      - DEBUG - response_closed.started
2025-02-20 16:54:10,938 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-20 16:54:10,939 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Thu, 20 Feb 2025 15:54:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-20T15:54:06Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-20T15:54:07Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-20T15:54:08Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-20T15:54:07Z', 'request-id': 'req_01KDarvhwwP4HKRwfRKzDGsa', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '914fac58add4c3d8-WAW', 'content-encoding': 'gzip'})
2025-02-20 16:54:10,941 - anthropic._base_client - DEBUG - request_id: req_01KDarvhwwP4HKRwfRKzDGsa
2025-02-20 16:54:10,953 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1496
input_tokens=9
output_tokens=235
Cache hit rate: 99.4%
Tokens saved: 1496
2025-02-20 16:54:10,955 - formatter            - DEBUG - }jsdfsdjfa{ jfjas} jsdlfj jaki syf
2025-02-20 16:54:10,956 - formatter            - WARNING - Received malformed JSON - attempting to extract valid JSON object! json_str: }jsdfsdjfa{ jfjas} jsdlfj jaki syf
2025-02-20 16:54:10,957 - formatter            - INFO  - Trimmed 10 characters from the beginning.
2025-02-20 16:54:10,958 - formatter            - INFO  - Trimmed 17 characters from the end.
2025-02-20 16:54:10,961 - error_handler        - ERROR - Operation failed: Invalid JSON: Expecting property name enclosed in double quotes: line 1 column 3 (char 2)
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\formatter.py", line 24, in get_formatted_text
    data = json.loads(json_str)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2544.0_x64__qbz5n2kfra8p0\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2544.0_x64__qbz5n2kfra8p0\Lib\json\decoder.py", line 338, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2544.0_x64__qbz5n2kfra8p0\Lib\json\decoder.py", line 354, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 1 column 3 (char 2)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\error_handler.py", line 43, in safe_execute
    return operation()
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 80, in <lambda>
    operation=lambda: self._get_translation_impl(word),
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 65, in _get_translation_impl
    translation_parts = self.formatter.get_formatted_text(model_response.content)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\formatter.py", line 26, in get_formatted_text
    raise ValueError(f"Invalid JSON: {str(e)}")
ValueError: Invalid JSON: Expecting property name enclosed in double quotes: line 1 column 3 (char 2)

2025-02-20 16:54:10,967 - error_handler        - INFO  - Asking for retry: Translation Error for 'kolaa': An error occured: Invalid JSON: Expecting property name enclosed in double quotes: line 1 column 3 (char 2)

Would you like to retry?
2025-02-20 16:54:59,862 - error_handler        - CRITICAL - FATAL ERROR - Fatal Error: Can not preceeed!
2025-02-20 17:10:07,374 - __main__             - INFO  - Launching AnkiAdder.
2025-02-20 17:10:07,375 - anki_adder           - INFO  - AnkiAdder init.
2025-02-20 17:10:07,375 - events               - INFO  - EventManager init.
2025-02-20 17:10:07,376 - gui.main_window      - INFO  - MainWindow init.
2025-02-20 17:10:07,487 - gui.components.word_input - INFO  - WordInput init.
2025-02-20 17:10:07,501 - word_repository      - INFO  - WordRepository init.
2025-02-20 17:10:07,502 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-20 17:10:07,503 - word_repository      - DEBUG - ['kolaa', 'kola', 'juice', 'juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load', 'juice']
2025-02-20 17:10:07,504 - word_repository      - INFO  - Words loaded successfully.
2025-02-20 17:10:07,505 - LLMModels            - INFO  - API key loaded successfully.
2025-02-20 17:10:07,506 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-20 17:10:07,510 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-20 17:10:08,336 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-20 17:10:08,337 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-20 17:10:08,338 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-20 17:10:08,339 - word_repository      - INFO  - Getting the top word: kolaa
2025-02-20 17:10:08,339 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-20 17:10:08,340 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-20 17:10:08,340 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-20 17:10:08,341 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-20 17:10:10,950 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-20 17:10:10,951 - word_repository      - INFO  - Pushing back pap.
2025-02-20 17:10:10,952 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-20 17:10:10,953 - word_repository      - DEBUG - ['kolaa', 'kola', 'juice', 'juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load', 'juice', 'pap']
2025-02-20 17:10:10,954 - word_repository      - INFO  - Words saved successfully.
2025-02-20 17:10:10,954 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-20 17:10:13,399 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-20 17:10:13,400 - word_repository      - INFO  - Pushing front pfp.
2025-02-20 17:10:13,400 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-20 17:10:13,401 - word_repository      - DEBUG - ['pfp', 'kolaa', 'kola', 'juice', 'juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load', 'juice', 'pap']
2025-02-20 17:10:13,403 - word_repository      - INFO  - Words saved successfully.
2025-02-20 17:10:13,403 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-20 17:10:13,404 - LLMModels            - INFO  - Requesting: pfp
2025-02-20 17:10:13,407 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'pfp'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-20 17:10:13,561 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-20 17:10:13,562 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-20 17:10:13,610 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000243B7A2B9E0>
2025-02-20 17:10:13,611 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000243B7B3ABD0> server_hostname='api.anthropic.com' timeout=600
2025-02-20 17:10:13,623 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000243B6EBAC30>
2025-02-20 17:10:13,623 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-20 17:10:13,625 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-20 17:10:13,625 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-20 17:10:13,626 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-20 17:10:13,627 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-20 17:10:24,878 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Feb 2025 16:10:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-20T16:10:13Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-20T16:10:20Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-20T16:10:22Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-20T16:10:20Z'), (b'request-id', b'req_018PDtT2RwWitmGKrb2zbW8V'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'914fc3ee08c7eec7-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-20 17:10:24,882 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-20 17:10:24,883 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-20 17:10:24,884 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-20 17:10:24,885 - httpcore.http11      - DEBUG - response_closed.started
2025-02-20 17:10:24,885 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-20 17:10:24,886 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Thu, 20 Feb 2025 16:10:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-20T16:10:13Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-20T16:10:20Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-20T16:10:22Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-20T16:10:20Z', 'request-id': 'req_018PDtT2RwWitmGKrb2zbW8V', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '914fc3ee08c7eec7-WAW', 'content-encoding': 'gzip'})
2025-02-20 17:10:24,888 - anthropic._base_client - DEBUG - request_id: req_018PDtT2RwWitmGKrb2zbW8V
2025-02-20 17:10:24,899 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1496
cache_read_input_tokens=0
input_tokens=9
output_tokens=266
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-20 17:10:24,901 - formatter            - DEBUG - }jsdfsdjfa{ jfjas} jsdlfj jaki syf
2025-02-20 17:10:24,902 - formatter            - WARNING - Received malformed JSON - attempting to extract valid JSON object! json_str: }jsdfsdjfa{ jfjas} jsdlfj jaki syf
2025-02-20 17:10:24,903 - formatter            - INFO  - Trimmed 10 characters from the beginning.
2025-02-20 17:10:24,903 - formatter            - INFO  - Trimmed 17 characters from the end.
2025-02-20 17:10:24,907 - error_handler        - ERROR - Operation failed: Invalid JSON: Expecting property name enclosed in double quotes: line 1 column 3 (char 2)
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\formatter.py", line 24, in get_formatted_text
    data = json.loads(json_str)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2544.0_x64__qbz5n2kfra8p0\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2544.0_x64__qbz5n2kfra8p0\Lib\json\decoder.py", line 338, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.12_3.12.2544.0_x64__qbz5n2kfra8p0\Lib\json\decoder.py", line 354, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 1 column 3 (char 2)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\error_handler.py", line 43, in safe_execute
    return operation()
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 80, in <lambda>
    operation=lambda: self._get_translation_impl(word),
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 65, in _get_translation_impl
    translation_parts = self.formatter.get_formatted_text(model_response.content)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\formatter.py", line 26, in get_formatted_text
    raise ValueError(f"Invalid JSON: {str(e)}")
ValueError: Invalid JSON: Expecting property name enclosed in double quotes: line 1 column 3 (char 2)

2025-02-20 17:10:24,912 - error_handler        - INFO  - Asking for retry: Translation Error for 'pfp': An error occured: Invalid JSON: Expecting property name enclosed in double quotes: line 1 column 3 (char 2)

Would you like to retry?
2025-02-20 17:10:37,011 - error_handler        - CRITICAL - FATAL ERROR - Fatal Error: Can not preceeed!
2025-02-20 17:13:26,864 - __main__             - INFO  - Launching AnkiAdder.
2025-02-20 17:13:26,865 - anki_adder           - INFO  - AnkiAdder init.
2025-02-20 17:13:26,865 - events               - INFO  - EventManager init.
2025-02-20 17:13:26,866 - gui.main_window      - INFO  - MainWindow init.
2025-02-20 17:13:26,979 - gui.components.word_input - INFO  - WordInput init.
2025-02-20 17:13:26,994 - word_repository      - INFO  - WordRepository init.
2025-02-20 17:13:26,995 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-20 17:13:26,996 - word_repository      - DEBUG - ['pfp', 'kolaa', 'kola', 'juice', 'juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load', 'juice', 'pap']
2025-02-20 17:13:26,997 - word_repository      - INFO  - Words loaded successfully.
2025-02-20 17:13:26,999 - LLMModels            - INFO  - API key loaded successfully.
2025-02-20 17:13:27,000 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-20 17:13:27,005 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-20 17:13:27,802 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-20 17:13:27,804 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-20 17:13:27,805 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-20 17:13:27,806 - word_repository      - INFO  - Getting the top word: pfp
2025-02-20 17:13:27,807 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-20 17:13:27,807 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-20 17:13:27,808 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-20 17:13:27,809 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-20 17:13:33,376 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-20 17:13:33,377 - word_repository      - INFO  - Pushing front strow.
2025-02-20 17:13:33,378 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-20 17:13:33,379 - word_repository      - DEBUG - ['strow', 'pfp', 'kolaa', 'kola', 'juice', 'juice', 'juste', 'dobe', 'dog', 'ideosincises', 'easy', 'hard', 'always', 'easy', 'hard', 'api key', 'unload', 'used', 'men', 'man', 'forgave', 'sit', 'froze', 'join', 'craft', 'hoves', 'bush', 'mouse', 'life jacket', 'boat', 'tree', 'XCV', 'linig fro oyr', 'onion', 'do you like her?', 'Do you like me?', 'butterfly', 'glib', 'bed', 'dog', 'party', 'xcfvSD', 'xCV', 'z', 'key', 'men', 'waman', 'load', 'juice', 'pap']
2025-02-20 17:13:33,380 - word_repository      - INFO  - Words saved successfully.
2025-02-20 17:13:33,381 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-20 17:13:33,381 - LLMModels            - INFO  - Requesting: strow
2025-02-20 17:13:33,385 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'strow'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "Poprawny_wyraz":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "Poprawny wyraz" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany pbezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "Poprawny_wyraz": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "Poprawny_wyraz": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-20 17:13:33,542 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-20 17:13:33,543 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-20 17:13:33,559 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001DB3655B8F0>
2025-02-20 17:13:33,560 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001DB3653ABD0> server_hostname='api.anthropic.com' timeout=600
2025-02-20 17:13:33,582 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001DB36512270>
2025-02-20 17:13:33,583 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-20 17:13:33,584 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-20 17:13:33,585 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-20 17:13:33,586 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-20 17:13:33,586 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-20 17:13:37,437 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 20 Feb 2025 16:13:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-20T16:13:32Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-20T16:13:33Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-20T16:13:35Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-20T16:13:33Z'), (b'request-id', b'req_011LKAfYVMVcUx2cwi6g8PAa'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'914fc8cf8c17bfcb-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-20 17:13:37,440 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-20 17:13:37,441 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-20 17:13:37,443 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-20 17:13:37,444 - httpcore.http11      - DEBUG - response_closed.started
2025-02-20 17:13:37,444 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-20 17:13:37,445 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Thu, 20 Feb 2025 16:13:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-20T16:13:32Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-20T16:13:33Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-20T16:13:35Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-20T16:13:33Z', 'request-id': 'req_011LKAfYVMVcUx2cwi6g8PAa', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '914fc8cf8c17bfcb-WAW', 'content-encoding': 'gzip'})
2025-02-20 17:13:37,448 - anthropic._base_client - DEBUG - request_id: req_011LKAfYVMVcUx2cwi6g8PAa
2025-02-20 17:13:37,462 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1496
input_tokens=9
output_tokens=237
Cache hit rate: 99.4%
Tokens saved: 1496
2025-02-20 17:13:37,463 - formatter            - DEBUG - {
    "Tumaczenia": {
        "soma": "5/5",
        "dbo": "3/5",
        "somka": "2/5"
    },
    "Uycie": "Rzeczownik, suche odygi zb lub innych rolin",
    "Zdanie": "The farmer collected the straw.",
    "Tumaczenie": "Rolnik zebra som.",
    "Czstotliwo": "3/5, B1",
    "Konteksty": ["rolnictwo", "materiay naturalne", "rkodzieo"],
    "Synonimy": {
        "hay": "siano - 4/5",
        "chaff": "plewy - 2/5",
        "stalks": "odygi - 3/5"
    },
    "Poprawny_wyraz": "straw"
}
2025-02-20 17:13:37,466 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-20 17:15:33,878 - httpcore.connection  - DEBUG - close.started
2025-02-20 17:15:33,888 - httpcore.connection  - DEBUG - close.complete
2025-02-21 21:20:48,322 - __main__             - INFO  - Launching AnkiAdder.
2025-02-21 21:20:48,322 - anki_adder           - INFO  - AnkiAdder init.
2025-02-21 21:20:48,322 - events               - INFO  - EventManager init.
2025-02-21 21:20:48,322 - gui.main_window      - INFO  - MainWindow init.
2025-02-21 21:20:48,532 - gui.components.word_input - INFO  - WordInput init.
2025-02-21 21:21:41,507 - __main__             - INFO  - Launching AnkiAdder.
2025-02-21 21:21:41,508 - anki_adder           - INFO  - AnkiAdder init.
2025-02-21 21:21:41,508 - events               - INFO  - EventManager init.
2025-02-21 21:21:41,509 - gui.main_window      - INFO  - MainWindow init.
2025-02-21 21:21:41,599 - gui.components.word_input - INFO  - WordInput init.
2025-02-21 21:21:41,615 - word_repository      - INFO  - WordRepository init.
2025-02-21 21:21:41,615 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-21 21:21:41,630 - word_repository      - DEBUG - ['waman', 'load', 'juice', 'pap']
2025-02-21 21:21:41,630 - word_repository      - INFO  - Words loaded successfully.
2025-02-21 21:21:41,633 - LLMModels            - INFO  - API key loaded successfully.
2025-02-21 21:21:41,634 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-21 21:21:41,649 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-21 21:21:42,416 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-21 21:21:42,416 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-21 21:21:42,416 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-21 21:21:42,416 - word_repository      - INFO  - Getting the top word: waman
2025-02-21 21:21:42,416 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-21 21:21:42,416 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-21 21:21:42,416 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-21 21:21:42,416 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-21 21:21:42,430 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-21 21:21:42,430 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-21 21:22:08,135 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-21 21:22:08,135 - LLMModels            - INFO  - Requesting: I like your shirt
2025-02-21 21:22:08,152 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I like your shirt'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-21 21:22:08,397 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-21 21:22:08,397 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-21 21:22:08,450 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002B9D425C4A0>
2025-02-21 21:22:08,450 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002B9D433AD50> server_hostname='api.anthropic.com' timeout=600
2025-02-21 21:22:08,473 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002B9D3A22FF0>
2025-02-21 21:22:08,473 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-21 21:22:08,476 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-21 21:22:08,476 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-21 21:22:08,477 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-21 21:22:08,478 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-21 21:22:10,421 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 21 Feb 2025 20:22:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-21T20:22:09Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-21T20:22:10Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-21T20:22:10Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-21T20:22:10Z'), (b'request-id', b'req_01QvF8rjGqceWxdSoRrtq1sS'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9159725e59d8ecc4-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-21 21:22:10,421 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-21 21:22:10,421 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-21 21:22:10,438 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-21 21:22:10,439 - httpcore.http11      - DEBUG - response_closed.started
2025-02-21 21:22:10,439 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-21 21:22:10,440 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 21 Feb 2025 20:22:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-21T20:22:09Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-21T20:22:10Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-21T20:22:10Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-21T20:22:10Z', 'request-id': 'req_01QvF8rjGqceWxdSoRrtq1sS', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9159725e59d8ecc4-WAW', 'content-encoding': 'gzip'})
2025-02-21 21:22:10,443 - anthropic._base_client - DEBUG - request_id: req_01QvF8rjGqceWxdSoRrtq1sS
2025-02-21 21:22:10,453 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1143
cache_read_input_tokens=0
input_tokens=11
output_tokens=98
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-21 21:22:10,453 - formatter            - DEBUG - {
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Poprawne",
"Zdanie angielskie": "I like your shirt.",
"Tumaczenie zdania": "Podoba mi si twoja koszula.",
"notatka": "To proste zdanie jest czsto uywane do wyraania komplementu."
}
2025-02-21 21:22:10,453 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-21 21:22:29,497 - httpcore.connection  - DEBUG - close.started
2025-02-21 21:22:29,501 - httpcore.connection  - DEBUG - close.complete
2025-02-21 21:24:13,498 - __main__             - INFO  - Launching AnkiAdder.
2025-02-21 21:24:13,499 - anki_adder           - INFO  - AnkiAdder init.
2025-02-21 21:24:13,499 - events               - INFO  - EventManager init.
2025-02-21 21:24:13,500 - gui.main_window      - INFO  - MainWindow init.
2025-02-21 21:24:13,612 - gui.components.word_input - INFO  - WordInput init.
2025-02-21 21:24:13,644 - word_repository      - INFO  - WordRepository init.
2025-02-21 21:24:13,645 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-21 21:24:13,646 - word_repository      - DEBUG - ['waman', 'load', 'juice', 'pap']
2025-02-21 21:24:13,646 - word_repository      - INFO  - Words loaded successfully.
2025-02-21 21:24:13,653 - LLMModels            - INFO  - API key loaded successfully.
2025-02-21 21:24:13,654 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-21 21:24:13,658 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-21 21:24:14,397 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-21 21:24:14,397 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-21 21:24:14,397 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-21 21:24:14,397 - word_repository      - INFO  - Getting the top word: waman
2025-02-21 21:24:14,397 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-21 21:24:14,397 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-21 21:24:14,397 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-21 21:24:14,397 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-21 21:24:14,404 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-21 21:24:14,404 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-21 21:24:28,885 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-21 21:24:28,885 - LLMModels            - INFO  - Requesting: do you love me?
2025-02-21 21:24:28,900 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'do you love me?'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-21 21:24:29,098 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-21 21:24:29,098 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-21 21:24:29,110 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E428769880>
2025-02-21 21:24:29,110 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001E42873AC50> server_hostname='api.anthropic.com' timeout=600
2025-02-21 21:24:29,134 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E42794AFF0>
2025-02-21 21:24:29,135 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-21 21:24:29,136 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-21 21:24:29,137 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-21 21:24:29,138 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-21 21:24:29,139 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-21 21:24:31,495 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 21 Feb 2025 20:24:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-21T20:24:30Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-21T20:24:30Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-21T20:24:31Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-21T20:24:30Z'), (b'request-id', b'req_012tRnF9oRH4V1Nqanuk3EPi'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915975cd6f183563-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-21 21:24:31,498 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-21 21:24:31,499 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-21 21:24:31,501 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-21 21:24:31,502 - httpcore.http11      - DEBUG - response_closed.started
2025-02-21 21:24:31,502 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-21 21:24:31,503 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 21 Feb 2025 20:24:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-21T20:24:30Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-21T20:24:30Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-21T20:24:31Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-21T20:24:30Z', 'request-id': 'req_012tRnF9oRH4V1Nqanuk3EPi', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915975cd6f183563-WAW', 'content-encoding': 'gzip'})
2025-02-21 21:24:31,506 - anthropic._base_client - DEBUG - request_id: req_012tRnF9oRH4V1Nqanuk3EPi
2025-02-21 21:24:31,516 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=12
output_tokens=117
Cache hit rate: 99.0%
Tokens saved: 1143
2025-02-21 21:24:31,519 - formatter            - DEBUG - {
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Poprawne",
"Zdanie angielskie": "Do you love me?",
"Tumaczenie zdania": "Czy ty mnie kochasz?",
"notatka": "To proste pytanie w czasie teraniejszym prostym (Present Simple) z uyciem czasownika 'do' do tworzenia pytania."
}
2025-02-21 21:24:31,521 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-21 21:24:52,940 - httpcore.connection  - DEBUG - close.started
2025-02-21 21:24:52,941 - httpcore.connection  - DEBUG - close.complete
2025-02-21 21:25:56,000 - __main__             - INFO  - Launching AnkiAdder.
2025-02-21 21:25:56,002 - anki_adder           - INFO  - AnkiAdder init.
2025-02-21 21:25:56,002 - events               - INFO  - EventManager init.
2025-02-21 21:25:56,002 - gui.main_window      - INFO  - MainWindow init.
2025-02-21 21:25:56,118 - gui.components.word_input - INFO  - WordInput init.
2025-02-21 21:25:56,149 - word_repository      - INFO  - WordRepository init.
2025-02-21 21:25:56,149 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-21 21:25:56,151 - word_repository      - DEBUG - ['waman', 'load', 'juice', 'pap']
2025-02-21 21:25:56,152 - word_repository      - INFO  - Words loaded successfully.
2025-02-21 21:25:56,154 - LLMModels            - INFO  - API key loaded successfully.
2025-02-21 21:25:56,156 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-21 21:25:56,160 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-21 21:25:56,934 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-21 21:25:56,934 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-21 21:25:56,934 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-21 21:25:56,934 - word_repository      - INFO  - Getting the top word: waman
2025-02-21 21:25:56,934 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-21 21:25:56,934 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-21 21:25:56,934 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-21 21:25:56,934 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-21 21:25:56,934 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-21 21:25:56,934 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-21 21:26:15,335 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-21 21:26:15,335 - LLMModels            - INFO  - Requesting: Do tentecle like your idesincrates
2025-02-21 21:26:15,335 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do tentecle like your idesincrates'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-21 21:26:15,534 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-21 21:26:15,534 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-21 21:26:15,561 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000012F70F10710>
2025-02-21 21:26:15,562 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000012F7173AC50> server_hostname='api.anthropic.com' timeout=600
2025-02-21 21:26:15,577 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000012F716A2FF0>
2025-02-21 21:26:15,577 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-21 21:26:15,579 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-21 21:26:15,579 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-21 21:26:15,580 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-21 21:26:15,581 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-21 21:26:19,282 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 21 Feb 2025 20:26:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-21T20:26:16Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-21T20:26:17Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-21T20:26:19Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-21T20:26:17Z'), (b'request-id', b'req_012Fzed5pkNMqeCNt6CoFswh'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91597866ba7fbfc3-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-21 21:26:19,282 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-21 21:26:19,282 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-21 21:26:19,282 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-21 21:26:19,282 - httpcore.http11      - DEBUG - response_closed.started
2025-02-21 21:26:19,294 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-21 21:26:19,295 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Fri, 21 Feb 2025 20:26:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-21T20:26:16Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-21T20:26:17Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-21T20:26:19Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-21T20:26:17Z', 'request-id': 'req_012Fzed5pkNMqeCNt6CoFswh', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91597866ba7fbfc3-WAW', 'content-encoding': 'gzip'})
2025-02-21 21:26:19,297 - anthropic._base_client - DEBUG - request_id: req_012Fzed5pkNMqeCNt6CoFswh
2025-02-21 21:26:19,306 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=17
output_tokens=208
Cache hit rate: 98.5%
Tokens saved: 1143
2025-02-21 21:26:19,306 - formatter            - DEBUG - {
"Poprawno gramatyczna": "Liczne bdy: 'Do' powinno by 'Does', 'tentecle' to bdna pisownia, brak 's' w 3. os. lp., 'idesincrates' to nieistniejce sowo",
"Naturalno jzykowa": "Zdanie jest nienaturalne i niezrozumiae ze wzgldu na bdy i uycie nieistniejcego sowa",
"Zdanie angielskie": "Does the tentacle like your idiosyncrasies?",
"Tumaczenie zdania": "Czy macka lubi twoje dziwactwa?",
"notatka": "'Idiosyncrasy' oznacza osobliwo lub dziwactwo charakterystyczne dla danej osoby."
}
2025-02-21 21:26:19,313 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-21 21:27:42,138 - httpcore.connection  - DEBUG - close.started
2025-02-21 21:27:42,138 - httpcore.connection  - DEBUG - close.complete
2025-02-21 21:35:53,097 - __main__             - INFO  - Launching AnkiAdder.
2025-02-21 21:35:53,097 - anki_adder           - INFO  - AnkiAdder init.
2025-02-21 21:35:53,098 - events               - INFO  - EventManager init.
2025-02-21 21:35:53,098 - gui.main_window      - INFO  - MainWindow init.
2025-02-21 21:35:53,222 - gui.components.word_input - INFO  - WordInput init.
2025-02-21 21:35:53,247 - word_repository      - INFO  - WordRepository init.
2025-02-21 21:35:53,247 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-21 21:35:53,251 - word_repository      - DEBUG - ['waman', 'load', 'juice', 'pap']
2025-02-21 21:35:53,251 - word_repository      - INFO  - Words loaded successfully.
2025-02-21 21:35:53,253 - LLMModels            - INFO  - API key loaded successfully.
2025-02-21 21:35:53,254 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-21 21:35:53,258 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-21 21:35:54,010 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-21 21:35:54,010 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-21 21:35:54,026 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-21 21:35:54,026 - word_repository      - INFO  - Getting the top word: waman
2025-02-21 21:35:54,026 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-21 21:35:54,026 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-21 21:35:54,026 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-21 21:35:54,026 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-21 21:35:54,031 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-21 21:35:54,032 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 11:20:51,661 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 11:20:51,663 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 11:20:51,663 - events               - INFO  - EventManager init.
2025-02-22 11:20:51,664 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 11:20:51,868 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 11:20:51,883 - word_repository      - INFO  - WordRepository init.
2025-02-22 11:20:51,884 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 11:20:51,885 - word_repository      - DEBUG - ['waman', 'load', 'juice', 'pap']
2025-02-22 11:20:51,886 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 11:20:51,888 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 11:20:51,889 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 11:20:51,906 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 11:20:52,729 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 11:20:52,731 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 11:20:52,733 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 11:20:52,734 - word_repository      - INFO  - Getting the top word: waman
2025-02-22 11:20:52,734 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:20:52,735 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:20:52,736 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 11:20:52,736 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 11:20:52,737 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 11:20:52,738 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 11:21:03,945 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 11:21:03,947 - word_repository      - INFO  - Pushing front lie.
2025-02-22 11:21:03,947 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 11:21:03,948 - word_repository      - DEBUG - ['lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:21:03,948 - word_repository      - INFO  - Words saved successfully.
2025-02-22 11:21:03,950 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 11:21:03,950 - LLMModels            - INFO  - Requesting: lie
2025-02-22 11:21:03,956 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'lie'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 11:21:04,166 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 11:21:04,168 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 11:21:04,212 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002E617A93620>
2025-02-22 11:21:04,213 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002E618232E50> server_hostname='api.anthropic.com' timeout=600
2025-02-22 11:21:04,234 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002E61825B740>
2025-02-22 11:21:04,236 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 11:21:04,237 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 11:21:04,238 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 11:21:04,238 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 11:21:04,239 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 11:21:07,730 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 10:21:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T10:21:05Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T10:21:06Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T10:21:07Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T10:21:06Z'), (b'request-id', b'req_01Hvp5ZyXc2YXe2FTheonnmU'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915e3f475ff8ecbf-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 11:21:07,733 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 11:21:07,735 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 11:21:07,737 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 11:21:07,738 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 11:21:07,738 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 11:21:07,739 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 10:21:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T10:21:05Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T10:21:06Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T10:21:07Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T10:21:06Z', 'request-id': 'req_01Hvp5ZyXc2YXe2FTheonnmU', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915e3f475ff8ecbf-WAW', 'content-encoding': 'gzip'})
2025-02-22 11:21:07,743 - anthropic._base_client - DEBUG - request_id: req_01Hvp5ZyXc2YXe2FTheonnmU
2025-02-22 11:21:07,757 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=262
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 11:21:07,758 - formatter            - DEBUG - {
    "Tumaczenia": {
        "kama": "5/5",
        "lee": "4/5",
        "kamstwo": "4/5",
        "pooy si": "3/5"
    },
    "Uycie": "Czasownik, mwi nieprawd lub znajdowa si w pozycji poziomej",
    "Zdanie": "Don't lie to me, please.",
    "Tumaczenie": "Prosz, nie kam mi.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["komunikacja", "etyka", "pozycja ciaa"],
    "Synonimy": {
        "fib": "kamstewko - 3/5",
        "recline": "opiera si - 3/5",
        "falsehood": "nieprawda - 3/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 11:21:07,762 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 11:21:35,817 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 11:21:35,818 - word_repository      - INFO  - Pushing front liwing.
2025-02-22 11:21:35,818 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 11:21:35,820 - word_repository      - DEBUG - ['liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:21:35,820 - word_repository      - INFO  - Words saved successfully.
2025-02-22 11:21:35,821 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 11:21:35,822 - LLMModels            - INFO  - Requesting: liwing
2025-02-22 11:21:35,825 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'liwing'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 11:21:35,834 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 11:21:35,834 - httpcore.connection  - DEBUG - close.started
2025-02-22 11:21:35,835 - httpcore.connection  - DEBUG - close.complete
2025-02-22 11:21:35,836 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 11:21:35,844 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002E618298F50>
2025-02-22 11:21:35,845 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002E618232E50> server_hostname='api.anthropic.com' timeout=600
2025-02-22 11:21:35,858 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002E618298E60>
2025-02-22 11:21:35,859 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 11:21:35,860 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 11:21:35,861 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 11:21:35,862 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 11:21:35,863 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 11:21:39,300 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 10:21:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T10:21:37Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T10:21:38Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T10:21:39Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T10:21:38Z'), (b'request-id', b'req_012GvLf4KPQsMQ5xdcSshXch'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915e400d0a95c05e-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 11:21:39,303 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 11:21:39,304 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 11:21:39,304 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 11:21:39,305 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 11:21:39,306 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 11:21:39,306 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 10:21:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T10:21:37Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T10:21:38Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T10:21:39Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T10:21:38Z', 'request-id': 'req_012GvLf4KPQsMQ5xdcSshXch', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915e400d0a95c05e-WAW', 'content-encoding': 'gzip'})
2025-02-22 11:21:39,309 - anthropic._base_client - DEBUG - request_id: req_012GvLf4KPQsMQ5xdcSshXch
2025-02-22 11:21:39,311 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=10
output_tokens=240
Cache hit rate: 99.3%
Tokens saved: 1484
2025-02-22 11:21:39,312 - formatter            - DEBUG - {
    "Tumaczenia": {
        "ycie": "5/5",
        "mieszkanie": "4/5",
        "egzystencja": "3/5"
    },
    "Uycie": "Rzeczownik, proces ycia lub warunki mieszkaniowe",
    "Zdanie": "Modern living can be quite stressful.",
    "Tumaczenie": "Wspczesne ycie moe by do stresujce.",
    "Czstotliwo": "5/5, A2",
    "Konteksty": ["styl ycia", "warunki mieszkaniowe", "codzienne funkcjonowanie"],
    "Synonimy": {
        "existence": "istnienie - 3/5",
        "lifestyle": "styl ycia - 4/5",
        "dwelling": "mieszkanie - 3/5"
    },
    "is_word_correct": "living"
}
2025-02-22 11:21:39,315 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 11:21:50,388 - httpcore.connection  - DEBUG - close.started
2025-02-22 11:21:50,389 - httpcore.connection  - DEBUG - close.complete
2025-02-22 11:22:51,949 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 11:22:51,949 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 11:22:51,950 - events               - INFO  - EventManager init.
2025-02-22 11:22:51,951 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 11:22:52,072 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 11:22:52,084 - word_repository      - INFO  - WordRepository init.
2025-02-22 11:22:52,085 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 11:22:52,086 - word_repository      - DEBUG - ['liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:22:52,088 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 11:22:52,088 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 11:22:52,090 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 11:22:52,095 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 11:22:52,864 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 11:22:52,866 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 11:22:52,867 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 11:22:52,868 - word_repository      - INFO  - Getting the top word: liwing
2025-02-22 11:22:52,868 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:22:52,869 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:22:52,869 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 11:22:52,870 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 11:22:52,870 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 11:22:52,871 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 11:23:00,204 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 11:23:00,205 - word_repository      - INFO  - Pushing front biing.
2025-02-22 11:23:00,206 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 11:23:00,207 - word_repository      - DEBUG - ['biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:23:00,208 - word_repository      - INFO  - Words saved successfully.
2025-02-22 11:23:00,208 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 11:23:00,209 - LLMModels            - INFO  - Requesting: biing
2025-02-22 11:23:00,214 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'biing'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 11:23:00,412 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 11:23:00,413 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 11:23:00,429 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A6D5A0FE60>
2025-02-22 11:23:00,430 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001A6D622EE50> server_hostname='api.anthropic.com' timeout=600
2025-02-22 11:23:00,447 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A6D528B1A0>
2025-02-22 11:23:00,448 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 11:23:00,449 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 11:23:00,449 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 11:23:00,450 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 11:23:00,451 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 11:23:05,085 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 10:23:05 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T10:23:02Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T10:23:03Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T10:23:05Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T10:23:03Z'), (b'request-id', b'req_01VAt1GEbNWX1TNNNydfFUU3'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915e421dae06b1d9-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 11:23:05,088 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 11:23:05,089 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 11:23:05,090 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 11:23:05,090 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 11:23:05,091 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 11:23:05,093 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 10:23:05 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T10:23:02Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T10:23:03Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T10:23:05Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T10:23:03Z', 'request-id': 'req_01VAt1GEbNWX1TNNNydfFUU3', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915e421dae06b1d9-WAW', 'content-encoding': 'gzip'})
2025-02-22 11:23:05,096 - anthropic._base_client - DEBUG - request_id: req_01VAt1GEbNWX1TNNNydfFUU3
2025-02-22 11:23:05,107 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=9
output_tokens=217
Cache hit rate: 99.4%
Tokens saved: 1484
2025-02-22 11:23:05,108 - formatter            - DEBUG - {
    "Tumaczenia": {
        "by": "5/5",
        "istnie": "4/5",
        "znajdowa si": "3/5"
    },
    "Uycie": "Czasownik, wyraanie istnienia lub stanu",
    "Zdanie": "She is being very helpful.",
    "Tumaczenie": "Ona jest bardzo pomocna.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["istnienie", "stan", "tosamo"],
    "Synonimy": {
        "exist": "istnie - 4/5",
        "occur": "wystpowa - 3/5",
        "happen": "dzia si - 4/5"
    },
    "is_word_correct": "being"
}
2025-02-22 11:23:05,112 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 11:23:40,791 - httpcore.connection  - DEBUG - close.started
2025-02-22 11:23:40,796 - httpcore.connection  - DEBUG - close.complete
2025-02-22 11:25:31,594 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 11:25:31,595 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 11:25:31,595 - events               - INFO  - EventManager init.
2025-02-22 11:25:31,596 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 11:25:31,706 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 11:25:31,720 - word_repository      - INFO  - WordRepository init.
2025-02-22 11:25:31,720 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 11:25:31,721 - word_repository      - DEBUG - ['biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:25:31,722 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 11:25:31,724 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 11:25:31,725 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 11:25:31,731 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 11:25:32,537 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 11:25:32,538 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 11:25:32,539 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 11:25:32,539 - word_repository      - INFO  - Getting the top word: biing
2025-02-22 11:25:32,540 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:25:32,541 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:25:32,541 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 11:25:32,542 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 11:25:32,543 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 11:25:32,544 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 11:25:40,913 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 11:25:40,914 - word_repository      - INFO  - Pushing front boring.
2025-02-22 11:25:40,914 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 11:25:40,915 - word_repository      - DEBUG - ['boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:25:40,916 - word_repository      - INFO  - Words saved successfully.
2025-02-22 11:25:40,917 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 11:25:40,918 - LLMModels            - INFO  - Requesting: boring
2025-02-22 11:25:40,922 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'boring'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 11:25:41,114 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 11:25:41,115 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 11:25:41,157 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002672D3246E0>
2025-02-22 11:25:41,158 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002672D336E50> server_hostname='api.anthropic.com' timeout=600
2025-02-22 11:25:41,173 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002672D22BFE0>
2025-02-22 11:25:41,174 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 11:25:41,175 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 11:25:41,177 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 11:25:41,178 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 11:25:41,179 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 11:25:45,203 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 10:25:45 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T10:25:42Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T10:25:43Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T10:25:45Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T10:25:43Z'), (b'request-id', b'req_01KgdHn8u6PSDw9KvjSb7ESL'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915e460a3b45b61b-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 11:25:45,207 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 11:25:45,208 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 11:25:45,208 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 11:25:45,210 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 11:25:45,211 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 11:25:45,212 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 10:25:45 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T10:25:42Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T10:25:43Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T10:25:45Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T10:25:43Z', 'request-id': 'req_01KgdHn8u6PSDw9KvjSb7ESL', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915e460a3b45b61b-WAW', 'content-encoding': 'gzip'})
2025-02-22 11:25:45,215 - anthropic._base_client - DEBUG - request_id: req_01KgdHn8u6PSDw9KvjSb7ESL
2025-02-22 11:25:45,229 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=242
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 11:25:45,230 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "nudny": "5/5",
        "nucy": "4/5",
        "monotonny": "3/5"
    },
    "Uycie": "Przymiotnik, opisujcy co, co nie jest interesujce lub ekscytujce",
    "Zdanie": "This movie is really boring.",
    "Tumaczenie": "Ten film jest naprawd nudny.",
    "Czstotliwo": "5/5, A2",
    "Konteksty": ["rozrywka", "codzienna rutyna", "opinie"],
    "Synonimy": {
        "dull": "nudny - 4/5",
        "tedious": "nucy - 3/5",
        "uninteresting": "nieinteresujcy - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 11:25:45,233 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 11:25:45,235 - formatter            - DEBUG - formatted parts: [('Tumaczenia:', ' nudny: 5/5\n nucy: 4/5\n monotonny: 3/5'), ('Uycie:', 'Przymiotnik, opisujcy co, co nie jest interesujce lub ekscytujce'), ('Zdanie:', 'This movie is really boring.'), ('Tumaczenie:', 'Ten film jest naprawd nudny.'), ('Czstotliwo:', '5/5, A2'), ('Konteksty:', 'rozrywka, codzienna rutyna, opinie'), ('Synonimy:', ' dull: nudny - 4/5\n tedious: nucy - 3/5\n uninteresting: nieinteresujcy - 4/5'), ('is_word_correct:', 'ok')]
2025-02-22 11:26:31,765 - httpcore.connection  - DEBUG - close.started
2025-02-22 11:26:31,767 - httpcore.connection  - DEBUG - close.complete
2025-02-22 11:27:10,869 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 11:27:10,870 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 11:27:10,871 - events               - INFO  - EventManager init.
2025-02-22 11:27:10,871 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 11:27:10,976 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 11:27:10,988 - word_repository      - INFO  - WordRepository init.
2025-02-22 11:27:10,988 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 11:27:10,990 - word_repository      - DEBUG - ['boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:27:10,990 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 11:27:10,992 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 11:27:10,993 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 11:27:10,998 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 11:27:11,791 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 11:27:11,792 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 11:27:11,793 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 11:27:11,794 - word_repository      - INFO  - Getting the top word: boring
2025-02-22 11:27:11,795 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:27:11,796 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:27:11,797 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 11:27:11,798 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 11:27:11,798 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 11:27:11,799 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 11:27:17,098 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 11:27:17,099 - word_repository      - INFO  - Pushing front boring.
2025-02-22 11:27:17,099 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 11:27:17,100 - word_repository      - DEBUG - ['boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:27:17,101 - word_repository      - INFO  - Words saved successfully.
2025-02-22 11:27:17,102 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 11:27:17,102 - LLMModels            - INFO  - Requesting: boring
2025-02-22 11:27:17,106 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'boring'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 11:27:17,301 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 11:27:17,302 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 11:27:17,360 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CE59869850>
2025-02-22 11:27:17,362 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CE5983AE50> server_hostname='api.anthropic.com' timeout=600
2025-02-22 11:27:17,379 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CE5854B020>
2025-02-22 11:27:17,380 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 11:27:17,381 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 11:27:17,382 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 11:27:17,383 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 11:27:17,384 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 11:27:21,613 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 10:27:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T10:27:18Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T10:27:20Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T10:27:21Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T10:27:20Z'), (b'request-id', b'req_01Ko9rYM65vKo3jVZhaMHsk6'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915e48637e27c3c3-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 11:27:21,616 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 11:27:21,617 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 11:27:21,618 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 11:27:21,618 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 11:27:21,619 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 11:27:21,620 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 10:27:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T10:27:18Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T10:27:20Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T10:27:21Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T10:27:20Z', 'request-id': 'req_01Ko9rYM65vKo3jVZhaMHsk6', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915e48637e27c3c3-WAW', 'content-encoding': 'gzip'})
2025-02-22 11:27:21,622 - anthropic._base_client - DEBUG - request_id: req_01Ko9rYM65vKo3jVZhaMHsk6
2025-02-22 11:27:21,633 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=242
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 11:27:21,635 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "nudny": "5/5",
        "nucy": "4/5",
        "monotonny": "3/5"
    },
    "Uycie": "Przymiotnik, opisujcy co, co nie jest interesujce lub ekscytujce",
    "Zdanie": "This lecture is extremely boring.",
    "Tumaczenie": "Ten wykad jest niezwykle nudny.",
    "Czstotliwo": "5/5, A2",
    "Konteksty": ["rozrywka", "edukacja", "praca"],
    "Synonimy": {
        "dull": "nudny - 4/5",
        "tedious": "mudny - 3/5",
        "uninteresting": "nieciekawy - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 11:27:21,637 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 11:27:21,638 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' nudny: 5/5\n nucy: 4/5\n monotonny: 3/5'), ('Uycie', 'Przymiotnik, opisujcy co, co nie jest interesujce lub ekscytujce'), ('Zdanie', 'This lecture is extremely boring.'), ('Tumaczenie', 'Ten wykad jest niezwykle nudny.'), ('Czstotliwo', '5/5, A2'), ('Konteksty', 'rozrywka, edukacja, praca'), ('Synonimy', ' dull: nudny - 4/5\n tedious: mudny - 3/5\n uninteresting: nieciekawy - 4/5'), ('is_word_correct', 'ok')]
2025-02-22 11:27:37,843 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 11:27:37,844 - word_repository      - INFO  - Pushing front lyke.
2025-02-22 11:27:37,844 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 11:27:37,846 - word_repository      - DEBUG - ['lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:27:37,847 - word_repository      - INFO  - Words saved successfully.
2025-02-22 11:27:37,847 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 11:27:37,848 - LLMModels            - INFO  - Requesting: lyke
2025-02-22 11:27:37,851 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'lyke'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 11:27:37,859 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 11:27:37,860 - httpcore.connection  - DEBUG - close.started
2025-02-22 11:27:37,860 - httpcore.connection  - DEBUG - close.complete
2025-02-22 11:27:37,861 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 11:27:37,889 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CE59891040>
2025-02-22 11:27:37,890 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CE5983AE50> server_hostname='api.anthropic.com' timeout=600
2025-02-22 11:27:37,907 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CE59890F50>
2025-02-22 11:27:37,908 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 11:27:37,909 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 11:27:37,910 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 11:27:37,912 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 11:27:37,912 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 11:27:41,618 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 10:27:41 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T10:27:39Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T10:27:40Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T10:27:41Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T10:27:40Z'), (b'request-id', b'req_016XkjB12A6xqBg1sWCaJgqQ'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915e48e3ce15c3c9-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 11:27:41,621 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 11:27:41,622 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 11:27:41,623 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 11:27:41,623 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 11:27:41,624 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 11:27:41,625 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 10:27:41 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T10:27:39Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T10:27:40Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T10:27:41Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T10:27:40Z', 'request-id': 'req_016XkjB12A6xqBg1sWCaJgqQ', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915e48e3ce15c3c9-WAW', 'content-encoding': 'gzip'})
2025-02-22 11:27:41,628 - anthropic._base_client - DEBUG - request_id: req_016XkjB12A6xqBg1sWCaJgqQ
2025-02-22 11:27:41,629 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=9
output_tokens=232
Cache hit rate: 99.4%
Tokens saved: 1484
2025-02-22 11:27:41,630 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "lubi": "5/5",
        "podoba si": "4/5",
        "polubi": "3/5"
    },
    "Uycie": "Czasownik, wyraanie upodobania lub preferencji",
    "Zdanie": "I like watching movies.",
    "Tumaczenie": "Lubi oglda filmy.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["preferencje", "opinie", "relacje midzyludzkie"],
    "Synonimy": {
        "enjoy": "cieszy si - 4/5",
        "prefer": "wole - 3/5",
        "fancy": "mie ochot na - 2/5"
    },
    "is_word_correct": "like"
}
2025-02-22 11:27:41,633 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 11:27:41,634 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' lubi: 5/5\n podoba si: 4/5\n polubi: 3/5'), ('Uycie', 'Czasownik, wyraanie upodobania lub preferencji'), ('Zdanie', 'I like watching movies.'), ('Tumaczenie', 'Lubi oglda filmy.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'preferencje, opinie, relacje midzyludzkie'), ('Synonimy', ' enjoy: cieszy si - 4/5\n prefer: wole - 3/5\n fancy: mie ochot na - 2/5'), ('is_word_correct', 'like')]
2025-02-22 11:27:46,700 - httpcore.connection  - DEBUG - close.started
2025-02-22 11:27:46,701 - httpcore.connection  - DEBUG - close.complete
2025-02-22 11:31:35,403 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 11:31:35,404 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 11:31:35,404 - events               - INFO  - EventManager init.
2025-02-22 11:31:35,405 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 11:31:35,514 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 11:31:35,525 - word_repository      - INFO  - WordRepository init.
2025-02-22 11:31:35,525 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 11:31:35,526 - word_repository      - DEBUG - ['lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:31:35,527 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 11:31:35,529 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 11:31:35,530 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 11:31:35,534 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 11:31:36,313 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 11:31:36,315 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 11:31:36,317 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 11:31:36,318 - word_repository      - INFO  - Getting the top word: lyke
2025-02-22 11:31:36,318 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:31:36,319 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:31:36,319 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 11:31:36,320 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 11:31:36,320 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 11:31:36,321 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 11:31:43,119 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 11:31:43,119 - word_repository      - INFO  - Pushing front sky.
2025-02-22 11:31:43,120 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 11:31:43,121 - word_repository      - DEBUG - ['sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:31:43,122 - word_repository      - INFO  - Words saved successfully.
2025-02-22 11:31:43,123 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 11:31:43,123 - LLMModels            - INFO  - Requesting: sky
2025-02-22 11:31:43,127 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'sky'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 11:31:43,326 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 11:31:43,327 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 11:31:43,345 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F2E52131A0>
2025-02-22 11:31:43,347 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F2E522EE50> server_hostname='api.anthropic.com' timeout=600
2025-02-22 11:31:43,365 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F2E3E6A690>
2025-02-22 11:31:43,366 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 11:31:43,367 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 11:31:43,368 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 11:31:43,369 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 11:31:43,369 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 11:31:47,075 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 10:31:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T10:31:44Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T10:31:46Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T10:31:47Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T10:31:46Z'), (b'request-id', b'req_01EyZh2SBHyPv2gxNzBUGuFa'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915e4ee1ebc7eebb-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 11:31:47,078 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 11:31:47,080 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 11:31:47,080 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 11:31:47,081 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 11:31:47,082 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 11:31:47,082 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 10:31:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T10:31:44Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T10:31:46Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T10:31:47Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T10:31:46Z', 'request-id': 'req_01EyZh2SBHyPv2gxNzBUGuFa', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915e4ee1ebc7eebb-WAW', 'content-encoding': 'gzip'})
2025-02-22 11:31:47,085 - anthropic._base_client - DEBUG - request_id: req_01EyZh2SBHyPv2gxNzBUGuFa
2025-02-22 11:31:47,096 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=224
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 11:31:47,099 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "niebo": "5/5",
        "przestworza": "3/5",
        "firmament": "2/5"
    },
    "Uycie": "Rzeczownik, widoczna atmosfera nad Ziemi",
    "Zdanie": "The sky is clear today.",
    "Tumaczenie": "Niebo jest dzi bezchmurne.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["pogoda", "astronomia", "lotnictwo"],
    "Synonimy": {
        "heavens": "niebiosa - 3/5",
        "firmament": "firmament - 2/5",
        "atmosphere": "atmosfera - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 11:31:47,102 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 11:31:47,102 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' niebo: 5/5\n przestworza: 3/5\n firmament: 2/5'), ('Uycie', 'Rzeczownik, widoczna atmosfera nad Ziemi'), ('Zdanie', 'The sky is clear today.'), ('Tumaczenie', 'Niebo jest dzi bezchmurne.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'pogoda, astronomia, lotnictwo'), ('Synonimy', ' heavens: niebiosa - 3/5\n firmament: firmament - 2/5\n atmosphere: atmosfera - 4/5'), ('is_word_correct', 'ok')]
2025-02-22 11:31:52,622 - httpcore.connection  - DEBUG - close.started
2025-02-22 11:31:52,623 - httpcore.connection  - DEBUG - close.complete
2025-02-22 11:49:21,423 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 11:49:21,423 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 11:49:21,423 - events               - INFO  - EventManager init.
2025-02-22 11:49:21,423 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 11:49:21,539 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 11:49:21,558 - word_repository      - INFO  - WordRepository init.
2025-02-22 11:49:21,559 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 11:49:21,560 - word_repository      - DEBUG - ['sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:49:21,560 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 11:49:21,562 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 11:49:21,563 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 11:49:21,567 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 11:49:22,271 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 11:49:22,271 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 11:49:22,271 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 11:49:22,271 - word_repository      - INFO  - Getting the top word: sky
2025-02-22 11:49:22,271 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:49:22,271 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:49:22,271 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 11:49:22,271 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 11:49:22,271 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 11:49:22,271 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 11:49:38,358 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 11:49:38,359 - word_repository      - INFO  - Pushing front mold.
2025-02-22 11:49:38,359 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 11:49:38,360 - word_repository      - DEBUG - ['mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:49:38,361 - word_repository      - INFO  - Words saved successfully.
2025-02-22 11:49:38,362 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 11:49:38,363 - LLMModels            - INFO  - Requesting: mold
2025-02-22 11:49:38,366 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'mold'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 11:49:38,521 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 11:49:38,521 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 11:49:38,544 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E650569820>
2025-02-22 11:49:38,544 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001E65052EE50> server_hostname='api.anthropic.com' timeout=600
2025-02-22 11:49:38,557 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E6505243E0>
2025-02-22 11:49:38,557 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 11:49:38,570 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 11:49:38,571 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 11:49:38,571 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 11:49:38,572 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 11:49:43,150 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 10:49:43 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T10:49:40Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T10:49:41Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T10:49:43Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T10:49:41Z'), (b'request-id', b'req_012bkZwAkjNvYkKoWuisPNEg'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915e6921d9ec34d0-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 11:49:43,150 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 11:49:43,150 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 11:49:43,150 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 11:49:43,150 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 11:49:43,150 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 11:49:43,150 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 10:49:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T10:49:40Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T10:49:41Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T10:49:43Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T10:49:41Z', 'request-id': 'req_012bkZwAkjNvYkKoWuisPNEg', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915e6921d9ec34d0-WAW', 'content-encoding': 'gzip'})
2025-02-22 11:49:43,162 - anthropic._base_client - DEBUG - request_id: req_012bkZwAkjNvYkKoWuisPNEg
2025-02-22 11:49:43,174 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=9
output_tokens=259
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 11:49:43,176 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "ple": "5/5",
        "forma": "4/5",
        "ksztatowa": "3/5",
        "formowa": "3/5"
    },
    "Uycie": "Rzeczownik, grzyb rosncy na wilgotnych powierzchniach lub Czasownik, nadawa ksztat",
    "Zdanie": "There's mold growing in the bathroom.",
    "Tumaczenie": "W azience ronie ple.",
    "Czstotliwo": "3/5, B1",
    "Konteksty": ["biologia", "budownictwo", "rzemioso"],
    "Synonimy": {
        "fungus": "grzyb - 3/5",
        "shape": "ksztatowa - 4/5",
        "cast": "odlewa - 3/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 11:49:43,179 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 11:49:43,180 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' ple: 5/5\n forma: 4/5\n ksztatowa: 3/5\n formowa: 3/5'), ('Uycie', 'Rzeczownik, grzyb rosncy na wilgotnych powierzchniach lub Czasownik, nadawa ksztat'), ('Zdanie', "There's mold growing in the bathroom."), ('Tumaczenie', 'W azience ronie ple.'), ('Czstotliwo', '3/5, B1'), ('Konteksty', 'biologia, budownictwo, rzemioso'), ('Synonimy', ' fungus: grzyb - 3/5\n shape: ksztatowa - 4/5\n cast: odlewa - 3/5'), ('is_word_correct', 'ok')]
2025-02-22 11:49:43,181 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 11:49:43,181 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 11:50:13,221 - httpcore.connection  - DEBUG - close.started
2025-02-22 11:50:13,223 - httpcore.connection  - DEBUG - close.complete
2025-02-22 11:51:13,607 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 11:51:13,607 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 11:51:13,607 - events               - INFO  - EventManager init.
2025-02-22 11:51:13,607 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 11:51:13,708 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 11:51:13,724 - word_repository      - INFO  - WordRepository init.
2025-02-22 11:51:13,724 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 11:51:13,734 - word_repository      - DEBUG - ['mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:51:13,734 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 11:51:13,736 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 11:51:13,737 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 11:51:13,742 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 11:51:14,508 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 11:51:14,508 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 11:51:14,508 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 11:51:14,508 - word_repository      - INFO  - Getting the top word: mold
2025-02-22 11:51:14,508 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:51:14,508 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:51:14,508 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 11:51:14,508 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 11:51:14,508 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 11:51:14,508 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 11:51:18,478 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 11:51:18,478 - word_repository      - INFO  - Pushing front motor.
2025-02-22 11:51:18,479 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 11:51:18,480 - word_repository      - DEBUG - ['motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:51:18,481 - word_repository      - INFO  - Words saved successfully.
2025-02-22 11:51:18,482 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 11:51:18,482 - LLMModels            - INFO  - Requesting: motor
2025-02-22 11:51:18,486 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'motor'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 11:51:18,636 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 11:51:18,636 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 11:51:18,664 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001AD78AA7F20>
2025-02-22 11:51:18,674 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001AD78B2EE50> server_hostname='api.anthropic.com' timeout=600
2025-02-22 11:51:18,677 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001AD7827B6E0>
2025-02-22 11:51:18,691 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 11:51:18,691 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 11:51:18,693 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 11:51:18,694 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 11:51:18,695 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 11:51:22,937 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 10:51:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T10:51:20Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T10:51:21Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T10:51:23Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T10:51:21Z'), (b'request-id', b'req_01BF1bdqi4BxgXo5bLt7aFJM'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915e6b939a8dc3e7-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 11:51:22,937 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 11:51:22,937 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 11:51:22,937 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 11:51:22,937 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 11:51:22,937 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 11:51:22,950 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 10:51:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T10:51:20Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T10:51:21Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T10:51:23Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T10:51:21Z', 'request-id': 'req_01BF1bdqi4BxgXo5bLt7aFJM', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915e6b939a8dc3e7-WAW', 'content-encoding': 'gzip'})
2025-02-22 11:51:22,953 - anthropic._base_client - DEBUG - request_id: req_01BF1bdqi4BxgXo5bLt7aFJM
2025-02-22 11:51:22,965 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=249
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 11:51:22,967 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "silnik": "5/5",
        "motocykl": "4/5",
        "napd": "3/5",
        "motor": "3/5"
    },
    "Uycie": "Rzeczownik, urzdzenie przeksztacajce energi na ruch lub pojazd dwukoowy",
    "Zdanie": "The car's motor needs repair.",
    "Tumaczenie": "Silnik samochodu wymaga naprawy.",
    "Czstotliwo": "4/5, A2",
    "Konteksty": ["mechanika", "transport", "inynieria"],
    "Synonimy": {
        "engine": "silnik - 5/5",
        "motorcycle": "motocykl - 4/5",
        "drive": "napd - 3/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 11:51:22,969 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 11:51:22,970 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' silnik: 5/5\n motocykl: 4/5\n napd: 3/5\n motor: 3/5'), ('Uycie', 'Rzeczownik, urzdzenie przeksztacajce energi na ruch lub pojazd dwukoowy'), ('Zdanie', "The car's motor needs repair."), ('Tumaczenie', 'Silnik samochodu wymaga naprawy.'), ('Czstotliwo', '4/5, A2'), ('Konteksty', 'mechanika, transport, inynieria'), ('Synonimy', ' engine: silnik - 5/5\n motorcycle: motocykl - 4/5\n drive: napd - 3/5'), ('is_word_correct', 'ok')]
2025-02-22 11:51:22,972 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 11:51:22,973 - error_handler        - ERROR - Operation failed: argument of type 'builtin_function_or_method' is not iterable
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\error_handler.py", line 43, in safe_execute
    return operation()
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 95, in <lambda>
    operation=lambda: self._get_translation_impl(word),
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 77, in _get_translation_impl
    if ResponseField.IS_WORD_CORRECT in fields.values:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: argument of type 'builtin_function_or_method' is not iterable

2025-02-22 11:51:22,974 - error_handler        - INFO  - Asking for retry: Word Translation Error for 'motor': An error occured: argument of type 'builtin_function_or_method' is not iterable

Would you like to retry?
2025-02-22 11:52:02,633 - error_handler        - CRITICAL - FATAL ERROR - Fatal Error: Can not preceeed!
2025-02-22 11:54:12,759 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 11:54:12,759 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 11:54:12,759 - events               - INFO  - EventManager init.
2025-02-22 11:54:12,759 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 11:54:12,876 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 11:54:12,876 - word_repository      - INFO  - WordRepository init.
2025-02-22 11:54:12,876 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 11:54:12,892 - word_repository      - DEBUG - ['motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:54:12,893 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 11:54:12,895 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 11:54:12,896 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 11:54:12,901 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 11:54:13,592 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 11:54:13,592 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 11:54:13,592 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 11:54:13,592 - word_repository      - INFO  - Getting the top word: motor
2025-02-22 11:54:13,592 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:54:13,608 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 11:54:13,608 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 11:54:13,609 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 11:54:13,610 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 11:54:13,610 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 11:54:19,293 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 11:54:19,294 - word_repository      - INFO  - Pushing front trumpet.
2025-02-22 11:54:19,294 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 11:54:19,295 - word_repository      - DEBUG - ['trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:54:19,296 - word_repository      - INFO  - Words saved successfully.
2025-02-22 11:54:19,297 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 11:54:19,298 - LLMModels            - INFO  - Requesting: trumpet
2025-02-22 11:54:19,302 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'trumpet'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 11:54:19,509 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 11:54:19,509 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 11:54:19,547 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000165016DFE60>
2025-02-22 11:54:19,548 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001650172EE50> server_hostname='api.anthropic.com' timeout=600
2025-02-22 11:54:19,562 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000016501713920>
2025-02-22 11:54:19,563 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 11:54:19,564 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 11:54:19,564 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 11:54:19,565 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 11:54:19,566 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 11:54:22,942 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 10:54:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T10:54:21Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T10:54:22Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T10:54:23Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T10:54:22Z'), (b'request-id', b'req_01DKNzpCHtMcMvCkG9KZsSaw'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915e6ffe0c65ef8b-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 11:54:22,942 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 11:54:22,942 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 11:54:22,942 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 11:54:22,942 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 11:54:22,942 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 11:54:22,942 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 10:54:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T10:54:21Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T10:54:22Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T10:54:23Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T10:54:22Z', 'request-id': 'req_01DKNzpCHtMcMvCkG9KZsSaw', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915e6ffe0c65ef8b-WAW', 'content-encoding': 'gzip'})
2025-02-22 11:54:22,955 - anthropic._base_client - DEBUG - request_id: req_01DKNzpCHtMcMvCkG9KZsSaw
2025-02-22 11:54:22,963 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=248
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 11:54:22,969 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "trbka": "5/5",
        "trbi": "3/5",
        "gosi": "2/5"
    },
    "Uycie": "Rzeczownik, instrument muzyczny dty blaszany lub Czasownik, ogasza gono",
    "Zdanie": "He plays the trumpet beautifully.",
    "Tumaczenie": "On piknie gra na trbce.",
    "Czstotliwo": "4/5, B1",
    "Konteksty": ["muzyka", "orkiestra", "instrument"],
    "Synonimy": {
        "horn": "rg - 3/5",
        "bugle": "trbka sygnaowa - 2/5",
        "proclaim": "ogasza - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 11:54:22,971 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 11:54:22,972 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' trbka: 5/5\n trbi: 3/5\n gosi: 2/5'), ('Uycie', 'Rzeczownik, instrument muzyczny dty blaszany lub Czasownik, ogasza gono'), ('Zdanie', 'He plays the trumpet beautifully.'), ('Tumaczenie', 'On piknie gra na trbce.'), ('Czstotliwo', '4/5, B1'), ('Konteksty', 'muzyka, orkiestra, instrument'), ('Synonimy', ' horn: rg - 3/5\n bugle: trbka sygnaowa - 2/5\n proclaim: ogasza - 2/5'), ('is_word_correct', 'ok')]
2025-02-22 11:54:22,974 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 11:54:22,974 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 11:54:22,975 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 11:54:33,828 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 11:54:33,828 - word_repository      - INFO  - Pushing front malfanktion.
2025-02-22 11:54:33,829 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 11:54:33,830 - word_repository      - DEBUG - ['malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 11:54:33,831 - word_repository      - INFO  - Words saved successfully.
2025-02-22 11:54:33,832 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 11:54:33,833 - LLMModels            - INFO  - Requesting: malfanktion
2025-02-22 11:54:33,835 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'malfanktion'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 11:54:33,847 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 11:54:33,848 - httpcore.connection  - DEBUG - close.started
2025-02-22 11:54:33,849 - httpcore.connection  - DEBUG - close.complete
2025-02-22 11:54:33,849 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 11:54:33,860 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000016501791250>
2025-02-22 11:54:33,860 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001650172EE50> server_hostname='api.anthropic.com' timeout=600
2025-02-22 11:54:33,870 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000016501791160>
2025-02-22 11:54:33,875 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 11:54:33,876 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 11:54:33,877 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 11:54:33,878 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 11:54:33,879 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 11:54:37,193 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 10:54:37 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T10:54:35Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T10:54:36Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T10:54:37Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T10:54:36Z'), (b'request-id', b'req_01MPFiWKXLbKVsqAUQ1HpVsk'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915e70577ccdee45-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 11:54:37,193 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 11:54:37,193 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 11:54:37,193 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 11:54:37,193 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 11:54:37,193 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 11:54:37,193 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 10:54:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T10:54:35Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T10:54:36Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T10:54:37Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T10:54:36Z', 'request-id': 'req_01MPFiWKXLbKVsqAUQ1HpVsk', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915e70577ccdee45-WAW', 'content-encoding': 'gzip'})
2025-02-22 11:54:37,208 - anthropic._base_client - DEBUG - request_id: req_01MPFiWKXLbKVsqAUQ1HpVsk
2025-02-22 11:54:37,210 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=11
output_tokens=241
Cache hit rate: 99.3%
Tokens saved: 1484
2025-02-22 11:54:37,211 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "awaria": "4/5",
        "usterka": "4/5",
        "nieprawidowe dziaanie": "3/5"
    },
    "Uycie": "Rzeczownik, nieprawidowe lub wadliwe dziaanie urzdzenia lub systemu",
    "Zdanie": "The engine malfunction caused the delay.",
    "Tumaczenie": "Awaria silnika spowodowaa opnienie.",
    "Czstotliwo": "3/5, B2",
    "Konteksty": ["mechanika", "elektronika", "systemy"],
    "Synonimy": {
        "failure": "awaria - 4/5",
        "breakdown": "awaria - 4/5",
        "glitch": "usterka - 3/5"
    },
    "is_word_correct": "malfunction"
}
2025-02-22 11:54:37,214 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 11:54:37,215 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' awaria: 4/5\n usterka: 4/5\n nieprawidowe dziaanie: 3/5'), ('Uycie', 'Rzeczownik, nieprawidowe lub wadliwe dziaanie urzdzenia lub systemu'), ('Zdanie', 'The engine malfunction caused the delay.'), ('Tumaczenie', 'Awaria silnika spowodowaa opnienie.'), ('Czstotliwo', '3/5, B2'), ('Konteksty', 'mechanika, elektronika, systemy'), ('Synonimy', ' failure: awaria - 4/5\n breakdown: awaria - 4/5\n glitch: usterka - 3/5'), ('is_word_correct', 'malfunction')]
2025-02-22 11:54:37,216 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 11:54:37,216 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 11:54:37,218 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 11:54:49,090 - httpcore.connection  - DEBUG - close.started
2025-02-22 11:54:49,091 - httpcore.connection  - DEBUG - close.complete
2025-02-22 13:20:31,887 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 13:20:31,888 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 13:20:31,888 - events               - INFO  - EventManager init.
2025-02-22 13:20:31,888 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 13:20:32,002 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 13:20:32,015 - word_repository      - INFO  - WordRepository init.
2025-02-22 13:20:32,015 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 13:20:32,018 - word_repository      - DEBUG - ['malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 13:20:32,018 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 13:20:32,020 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 13:20:32,022 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 13:20:32,028 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 13:20:32,795 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 13:20:32,800 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 13:20:32,800 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 13:20:32,800 - word_repository      - INFO  - Getting the top word: malfanktion
2025-02-22 13:20:32,800 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:20:32,800 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:20:32,800 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 13:20:32,800 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 13:20:32,806 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 13:20:32,808 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 13:20:56,510 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 13:20:56,510 - word_repository      - INFO  - Pushing front guitar.
2025-02-22 13:20:56,511 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 13:20:56,512 - word_repository      - DEBUG - ['guitar', 'malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 13:20:56,513 - word_repository      - INFO  - Words saved successfully.
2025-02-22 13:20:56,514 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 13:20:56,514 - LLMModels            - INFO  - Requesting: guitar
2025-02-22 13:20:56,518 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'guitar'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:20:56,735 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:20:56,735 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 13:20:56,790 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000190C188A480>
2025-02-22 13:20:56,790 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000190C223F250> server_hostname='api.anthropic.com' timeout=600
2025-02-22 13:20:56,813 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000190C0D978C0>
2025-02-22 13:20:56,814 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:20:56,815 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:20:56,816 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:20:56,817 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:20:56,817 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:21:00,020 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:21:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:20:58Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:20:59Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:21:00Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:20:59Z'), (b'request-id', b'req_01AGyy1vx1g9Y5cn5hDWj69w'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915eeee07ce6bf34-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:21:00,025 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:21:00,025 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:21:00,025 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:21:00,025 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:21:00,025 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:21:00,031 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:21:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:20:58Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:20:59Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:21:00Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:20:59Z', 'request-id': 'req_01AGyy1vx1g9Y5cn5hDWj69w', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915eeee07ce6bf34-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:21:00,034 - anthropic._base_client - DEBUG - request_id: req_01AGyy1vx1g9Y5cn5hDWj69w
2025-02-22 13:21:00,046 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=221
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 13:21:00,048 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "gitara": "5/5",
        "gra na gitarze": "4/5"
    },
    "Uycie": "Rzeczownik, strunowy instrument muzyczny",
    "Zdanie": "She plays the guitar beautifully.",
    "Tumaczenie": "Ona piknie gra na gitarze.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["muzyka", "instrumenty", "rozrywka"],
    "Synonimy": {
        "acoustic": "gitara akustyczna - 4/5",
        "electric": "gitara elektryczna - 4/5",
        "ax": "gitara (slang) - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 13:21:00,050 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:21:00,050 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' gitara: 5/5\n gra na gitarze: 4/5'), ('Uycie', 'Rzeczownik, strunowy instrument muzyczny'), ('Zdanie', 'She plays the guitar beautifully.'), ('Tumaczenie', 'Ona piknie gra na gitarze.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'muzyka, instrumenty, rozrywka'), ('Synonimy', ' acoustic: gitara akustyczna - 4/5\n electric: gitara elektryczna - 4/5\n ax: gitara (slang) - 2/5'), ('is_word_correct', 'ok')]
2025-02-22 13:21:00,052 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 13:21:00,052 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 13:21:00,052 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 13:21:00,056 - error_handler        - ERROR - Operation failed: cannot access local variable 'data' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\error_handler.py", line 43, in safe_execute
    return operation()
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 123, in <lambda>
    operation=lambda: self._get_translation_impl(word),
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 100, in _get_translation_impl
    return QueryResponse(parts=translation_parts, data=data)
                                                       ^^^^
UnboundLocalError: cannot access local variable 'data' where it is not associated with a value

2025-02-22 13:21:00,060 - error_handler        - INFO  - Asking for retry: Word Translation Error for 'guitar': An error occured: cannot access local variable 'data' where it is not associated with a value

Would you like to retry?
2025-02-22 13:21:07,899 - LLMModels            - INFO  - Requesting: guitar
2025-02-22 13:21:07,902 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'guitar'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:21:07,912 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:21:07,913 - httpcore.connection  - DEBUG - close.started
2025-02-22 13:21:07,915 - httpcore.connection  - DEBUG - close.complete
2025-02-22 13:21:07,915 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 13:21:07,923 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000190C22956A0>
2025-02-22 13:21:07,925 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000190C223F250> server_hostname='api.anthropic.com' timeout=600
2025-02-22 13:21:07,938 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000190C22955B0>
2025-02-22 13:21:07,939 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:21:07,941 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:21:07,941 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:21:07,942 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:21:07,943 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:21:11,175 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:21:11 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:21:09Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:21:10Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:21:11Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:21:10Z'), (b'request-id', b'req_01FMwAjUQgL9HakGUggJAZcq'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915eef25fdb5ecc6-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:21:11,175 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:21:11,185 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:21:11,185 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:21:11,185 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:21:11,185 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:21:11,188 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:21:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:21:09Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:21:10Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:21:11Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:21:10Z', 'request-id': 'req_01FMwAjUQgL9HakGUggJAZcq', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915eef25fdb5ecc6-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:21:11,191 - anthropic._base_client - DEBUG - request_id: req_01FMwAjUQgL9HakGUggJAZcq
2025-02-22 13:21:11,192 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=227
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 13:21:11,193 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "gitara": "5/5",
        "gra na gitarze": "3/5"
    },
    "Uycie": "Rzeczownik, strunowy instrument muzyczny",
    "Zdanie": "She plays the guitar beautifully.",
    "Tumaczenie": "Ona piknie gra na gitarze.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["muzyka", "instrumenty", "rozrywka"],
    "Synonimy": {
        "axe": "gitara (slang) - 2/5",
        "six-string": "szeciostrunowiec - 2/5",
        "acoustic": "gitara akustyczna - 3/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 13:21:11,196 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:21:11,197 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' gitara: 5/5\n gra na gitarze: 3/5'), ('Uycie', 'Rzeczownik, strunowy instrument muzyczny'), ('Zdanie', 'She plays the guitar beautifully.'), ('Tumaczenie', 'Ona piknie gra na gitarze.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'muzyka, instrumenty, rozrywka'), ('Synonimy', ' axe: gitara (slang) - 2/5\n six-string: szeciostrunowiec - 2/5\n acoustic: gitara akustyczna - 3/5'), ('is_word_correct', 'ok')]
2025-02-22 13:21:11,198 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 13:21:11,199 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 13:21:11,200 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 13:21:11,202 - error_handler        - ERROR - Operation failed: cannot access local variable 'data' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\error_handler.py", line 43, in safe_execute
    return operation()
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 123, in <lambda>
    operation=lambda: self._get_translation_impl(word),
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 100, in _get_translation_impl
    return QueryResponse(parts=translation_parts, data=data)
                                                       ^^^^
UnboundLocalError: cannot access local variable 'data' where it is not associated with a value

2025-02-22 13:21:11,204 - error_handler        - INFO  - Asking for retry: Word Translation Error for 'guitar': An error occured: cannot access local variable 'data' where it is not associated with a value

Would you like to retry?
2025-02-22 13:21:12,105 - error_handler        - CRITICAL - FATAL ERROR - Fatal Error: Can not preceeed!
2025-02-22 13:22:30,180 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 13:22:30,180 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 13:22:30,180 - events               - INFO  - EventManager init.
2025-02-22 13:22:30,180 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 13:22:30,285 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 13:22:30,308 - word_repository      - INFO  - WordRepository init.
2025-02-22 13:22:30,308 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 13:22:30,308 - word_repository      - DEBUG - ['guitar', 'malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 13:22:30,308 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 13:22:30,308 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 13:22:30,315 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 13:22:30,318 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 13:22:31,055 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 13:22:31,055 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 13:22:31,055 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 13:22:31,055 - word_repository      - INFO  - Getting the top word: guitar
2025-02-22 13:22:31,055 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:22:31,055 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:22:31,055 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 13:22:31,055 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 13:22:31,055 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 13:22:31,055 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 13:22:40,585 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 13:22:40,585 - word_repository      - INFO  - Getting the top word: guitar
2025-02-22 13:22:40,585 - LLMModels            - INFO  - Requesting: I like playing on guitar
2025-02-22 13:22:40,595 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I like playing on guitar'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:22:40,785 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:22:40,785 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 13:22:40,812 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D9A0866120>
2025-02-22 13:22:40,813 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001D9A083F250> server_hostname='api.anthropic.com' timeout=600
2025-02-22 13:22:40,828 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D99FF03530>
2025-02-22 13:22:40,829 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:22:40,830 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:22:40,831 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:22:40,831 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:22:40,832 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:22:44,015 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:22:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:22:42Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:22:42Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:22:44Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:22:42Z'), (b'request-id', b'req_01W1ytK2bipfjSmL5EZK6TzB'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915ef16a8f00ee47-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:22:44,015 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:22:44,015 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:22:44,015 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:22:44,015 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:22:44,015 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:22:44,022 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:22:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:22:42Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:22:42Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:22:44Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:22:42Z', 'request-id': 'req_01W1ytK2bipfjSmL5EZK6TzB', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915ef16a8f00ee47-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:22:44,024 - anthropic._base_client - DEBUG - request_id: req_01W1ytK2bipfjSmL5EZK6TzB
2025-02-22 13:22:44,036 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1143
cache_read_input_tokens=0
input_tokens=12
output_tokens=173
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 13:22:44,038 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Bd w uyciu przyimka - powinno by 'the guitar' lub samo 'guitar' bez przyimka",
"Naturalno jzykowa": "Lekko nienaturalne - typowo uywa si 'play the guitar' lub 'play guitar'",
"Zdanie angielskie": "I like playing the guitar.",
"Tumaczenie zdania": "Lubi gra na gitarze.",
"notatka": "W jzyku angielskim, mwic o grze na instrumentach, zazwyczaj uywamy okrelnika 'the' przed nazw instrumentu lub pomijamy przyimek."
}
2025-02-22 13:22:44,040 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:22:44,041 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Bd w uyciu przyimka - powinno by 'the guitar' lub samo 'guitar' bez przyimka"), ('Naturalno jzykowa', "Lekko nienaturalne - typowo uywa si 'play the guitar' lub 'play guitar'"), ('Zdanie angielskie', 'I like playing the guitar.'), ('Tumaczenie zdania', 'Lubi gra na gitarze.'), ('notatka', "W jzyku angielskim, mwic o grze na instrumentach, zazwyczaj uywamy okrelnika 'the' przed nazw instrumentu lub pomijamy przyimek.")]
2025-02-22 13:22:44,042 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 13:22:44,043 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 13:22:44,045 - error_handler        - ERROR - Operation failed: Query._get_sentence_corrections() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\error_handler.py", line 43, in safe_execute
    return operation()
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 140, in <lambda>
    operation=lambda: self._get_sentence_corrections(english, word),
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Query._get_sentence_corrections() takes 2 positional arguments but 3 were given

2025-02-22 13:22:44,047 - error_handler        - INFO  - Asking for retry: Flashcard Query Error for 'I like playing the guitar.: guitar': An error occured: Query._get_sentence_corrections() takes 2 positional arguments but 3 were given

Would you like to retry?
2025-02-22 13:22:54,555 - error_handler        - CRITICAL - FATAL ERROR - Fatal Error: Can not preceeed!
2025-02-22 13:23:48,058 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 13:23:48,062 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 13:23:48,062 - events               - INFO  - EventManager init.
2025-02-22 13:23:48,064 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 13:23:48,232 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 13:23:48,254 - word_repository      - INFO  - WordRepository init.
2025-02-22 13:23:48,255 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 13:23:48,256 - word_repository      - DEBUG - ['guitar', 'malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 13:23:48,256 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 13:23:48,258 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 13:23:48,259 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 13:23:48,263 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 13:23:49,095 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 13:23:49,095 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 13:23:49,095 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 13:23:49,095 - word_repository      - INFO  - Getting the top word: guitar
2025-02-22 13:23:49,095 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:23:49,105 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:23:49,105 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 13:23:49,108 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 13:23:49,108 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 13:23:49,109 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 13:23:52,940 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 13:23:52,943 - word_repository      - INFO  - Pushing front drums.
2025-02-22 13:23:52,943 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 13:23:52,944 - word_repository      - DEBUG - ['drums', 'guitar', 'malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 13:23:52,946 - word_repository      - INFO  - Words saved successfully.
2025-02-22 13:23:52,946 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 13:23:52,947 - LLMModels            - INFO  - Requesting: drums
2025-02-22 13:23:52,951 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'drums'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:23:53,180 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:23:53,180 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 13:23:53,223 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CA00903620>
2025-02-22 13:23:53,225 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CA0123F250> server_hostname='api.anthropic.com' timeout=600
2025-02-22 13:23:53,242 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CA01213500>
2025-02-22 13:23:53,243 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:23:53,243 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:23:53,245 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:23:53,245 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:23:53,245 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:23:56,935 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:23:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:23:54Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:23:55Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:23:57Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:23:55Z'), (b'request-id', b'req_01XCtqx8wSC7P1jL9dL2aVuz'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915ef32f1d65ee44-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:23:56,935 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:23:56,945 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:23:56,945 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:23:56,945 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:23:56,945 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:23:56,948 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:23:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:23:54Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:23:55Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:23:57Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:23:55Z', 'request-id': 'req_01XCtqx8wSC7P1jL9dL2aVuz', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915ef32f1d65ee44-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:23:56,951 - anthropic._base_client - DEBUG - request_id: req_01XCtqx8wSC7P1jL9dL2aVuz
2025-02-22 13:23:56,962 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=248
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 13:23:56,965 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "bbny": "5/5",
        "perkusja": "5/5",
        "werble": "3/5"
    },
    "Uycie": "Rzeczownik, instrument muzyczny skadajcy si z membran uderzanych paeczkami",
    "Zdanie": "He plays the drums brilliantly.",
    "Tumaczenie": "On gra wietnie na perkusji.",
    "Czstotliwo": "4/5, A2",
    "Konteksty": ["muzyka", "instrumenty", "zesp muzyczny"],
    "Synonimy": {
        "percussion": "perkusja - 3/5",
        "toms": "tomy (cz perkusji) - 2/5",
        "skins": "membrany (slang) - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 13:23:56,967 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:23:56,967 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' bbny: 5/5\n perkusja: 5/5\n werble: 3/5'), ('Uycie', 'Rzeczownik, instrument muzyczny skadajcy si z membran uderzanych paeczkami'), ('Zdanie', 'He plays the drums brilliantly.'), ('Tumaczenie', 'On gra wietnie na perkusji.'), ('Czstotliwo', '4/5, A2'), ('Konteksty', 'muzyka, instrumenty, zesp muzyczny'), ('Synonimy', ' percussion: perkusja - 3/5\n toms: tomy (cz perkusji) - 2/5\n skins: membrany (slang) - 2/5'), ('is_word_correct', 'ok')]
2025-02-22 13:23:56,969 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 13:23:56,970 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 13:23:56,970 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 13:24:06,675 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 13:24:06,685 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:24:06,685 - LLMModels            - INFO  - Requesting: have you ever played drums?
2025-02-22 13:24:06,685 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'have you ever played drums?'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:24:06,697 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:24:06,698 - httpcore.connection  - DEBUG - close.started
2025-02-22 13:24:06,699 - httpcore.connection  - DEBUG - close.complete
2025-02-22 13:24:06,699 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 13:24:06,715 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CA012959A0>
2025-02-22 13:24:06,716 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CA0123F250> server_hostname='api.anthropic.com' timeout=600
2025-02-22 13:24:06,732 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CA012958B0>
2025-02-22 13:24:06,732 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:24:06,732 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:24:06,732 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:24:06,735 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:24:06,735 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:24:09,025 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:24:09 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:24:08Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:24:08Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:24:09Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:24:08Z'), (b'request-id', b'req_01GR3GEXFdwWbSUBw7foHu1F'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915ef3836b7ac3c4-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:24:09,030 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:24:09,030 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:24:09,035 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:24:09,035 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:24:09,035 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:24:09,036 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:24:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:24:08Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:24:08Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:24:09Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:24:08Z', 'request-id': 'req_01GR3GEXFdwWbSUBw7foHu1F', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915ef3836b7ac3c4-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:24:09,038 - anthropic._base_client - DEBUG - request_id: req_01GR3GEXFdwWbSUBw7foHu1F
2025-02-22 13:24:09,041 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=13
output_tokens=122
Cache hit rate: 98.9%
Tokens saved: 1143
2025-02-22 13:24:09,042 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Poprawne",
"Zdanie angielskie": "Have you ever played drums?",
"Tumaczenie zdania": "Czy kiedykolwiek grae na perkusji?",
"notatka": "To pytanie uywa czasu Present Perfect z 'ever', co jest typowe dla pyta o dowiadczenia yciowe."
}
2025-02-22 13:24:09,043 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:24:09,044 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Poprawne'), ('Naturalno jzykowa', 'Poprawne'), ('Zdanie angielskie', 'Have you ever played drums?'), ('Tumaczenie zdania', 'Czy kiedykolwiek grae na perkusji?'), ('notatka', "To pytanie uywa czasu Present Perfect z 'ever', co jest typowe dla pyta o dowiadczenia yciowe.")]
2025-02-22 13:24:09,045 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 13:24:09,046 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 13:24:09,047 - LLMModels            - INFO  - Requesting: Have you ever played drums?:drums
2025-02-22 13:24:09,049 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Have you ever played drums?:drums'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:24:09,055 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:24:09,056 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:24:09,057 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:24:09,057 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:24:09,057 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:24:09,057 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:24:10,115 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:24:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:24:10Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:24:10Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:24:10Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:24:10Z'), (b'request-id', b'req_01FQvhVZpCsjqrqwxwJ34NmJ'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915ef391fe18c3c4-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:24:10,125 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:24:10,125 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:24:10,125 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:24:10,125 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:24:10,125 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:24:10,129 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:24:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:24:10Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:24:10Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:24:10Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:24:10Z', 'request-id': 'req_01FQvhVZpCsjqrqwxwJ34NmJ', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915ef391fe18c3c4-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:24:10,131 - anthropic._base_client - DEBUG - request_id: req_01FQvhVZpCsjqrqwxwJ34NmJ
2025-02-22 13:24:10,133 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1010
output_tokens=34
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 13:24:10,134 - formatter            - DEBUG - json str:{
"Zdanie": "Have you ever played [[perkusj]]?",
"Wyraz": "drums"
}
2025-02-22 13:24:10,135 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:24:10,135 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Have you ever played [[perkusj]]?'), ('Wyraz', 'drums')]
2025-02-22 13:24:10,135 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 13:24:47,494 - httpcore.connection  - DEBUG - close.started
2025-02-22 13:24:47,496 - httpcore.connection  - DEBUG - close.complete
2025-02-22 13:26:25,859 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 13:26:25,859 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 13:26:25,859 - events               - INFO  - EventManager init.
2025-02-22 13:26:25,859 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 13:26:25,965 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 13:26:25,981 - word_repository      - INFO  - WordRepository init.
2025-02-22 13:26:25,981 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 13:26:25,981 - word_repository      - DEBUG - ['drums', 'guitar', 'malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 13:26:25,981 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 13:26:25,985 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 13:26:25,985 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 13:26:25,990 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 13:26:26,770 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 13:26:26,770 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 13:26:26,770 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 13:26:26,770 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:26:26,770 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:26:26,770 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:26:26,775 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 13:26:26,775 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 13:26:26,775 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 13:26:26,775 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 13:26:36,495 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 13:26:36,495 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:26:36,495 - LLMModels            - INFO  - Requesting: do you play drums?
2025-02-22 13:26:36,495 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'do you play drums?'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:26:36,695 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:26:36,695 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 13:26:36,795 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028F5B4CBDA0>
2025-02-22 13:26:36,795 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028F5BE3F1D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 13:26:36,809 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028F5B50B770>
2025-02-22 13:26:36,810 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:26:36,812 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:26:36,812 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:26:36,814 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:26:36,814 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:26:39,085 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:26:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:26:38Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:26:38Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:26:39Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:26:38Z'), (b'request-id', b'req_01RPyCSV98TsqwXgVToigxLq'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915ef72d6e1eeeca-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:26:39,085 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:26:39,095 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:26:39,095 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:26:39,095 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:26:39,095 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:26:39,098 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:26:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:26:38Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:26:38Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:26:39Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:26:38Z', 'request-id': 'req_01RPyCSV98TsqwXgVToigxLq', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915ef72d6e1eeeca-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:26:39,101 - anthropic._base_client - DEBUG - request_id: req_01RPyCSV98TsqwXgVToigxLq
2025-02-22 13:26:39,112 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=12
output_tokens=119
Cache hit rate: 99.0%
Tokens saved: 1143
2025-02-22 13:26:39,114 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Poprawne",
"Zdanie angielskie": "Do you play drums?",
"Tumaczenie zdania": "Czy grasz na perkusji?",
"notatka": "W jzyku angielskim czsto uywa si liczby mnogiej 'drums' na okrelenie perkusji, mimo e odnosi si do jednego instrumentu."
}
2025-02-22 13:26:39,115 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:26:39,116 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Poprawne'), ('Naturalno jzykowa', 'Poprawne'), ('Zdanie angielskie', 'Do you play drums?'), ('Tumaczenie zdania', 'Czy grasz na perkusji?'), ('notatka', "W jzyku angielskim czsto uywa si liczby mnogiej 'drums' na okrelenie perkusji, mimo e odnosi si do jednego instrumentu.")]
2025-02-22 13:26:39,116 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 13:26:39,116 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 13:26:39,116 - LLMModels            - INFO  - Requesting: Do you play drums?:drums
2025-02-22 13:26:39,116 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you play drums?:drums'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:26:39,127 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:26:39,128 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:26:39,129 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:26:39,130 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:26:39,130 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:26:39,131 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:26:40,145 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:26:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:26:40Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:26:40Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:26:40Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:26:40Z'), (b'request-id', b'req_01R4NkfhAJyPh6PzZW1kAfan'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915ef73be936eeca-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:26:40,145 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:26:40,145 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:26:40,145 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:26:40,145 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:26:40,145 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:26:40,155 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:26:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:26:40Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:26:40Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:26:40Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:26:40Z', 'request-id': 'req_01R4NkfhAJyPh6PzZW1kAfan', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915ef73be936eeca-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:26:40,158 - anthropic._base_client - DEBUG - request_id: req_01R4NkfhAJyPh6PzZW1kAfan
2025-02-22 13:26:40,159 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1009
output_tokens=33
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 13:26:40,161 - formatter            - DEBUG - json str:{
"Zdanie": "Do you play [[perkusj]]?",
"Wyraz": "drums"
}
2025-02-22 13:26:40,161 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:26:40,162 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Do you play [[perkusj]]?'), ('Wyraz', 'drums')]
2025-02-22 13:26:40,162 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 13:26:55,569 - httpcore.connection  - DEBUG - close.started
2025-02-22 13:26:55,569 - httpcore.connection  - DEBUG - close.complete
2025-02-22 13:27:10,000 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 13:27:10,005 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 13:27:10,005 - events               - INFO  - EventManager init.
2025-02-22 13:27:10,005 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 13:27:10,115 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 13:27:10,130 - word_repository      - INFO  - WordRepository init.
2025-02-22 13:27:10,130 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 13:27:10,131 - word_repository      - DEBUG - ['drums', 'guitar', 'malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 13:27:10,132 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 13:27:10,132 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 13:27:10,135 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 13:27:10,139 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 13:27:10,878 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 13:27:10,885 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 13:27:10,885 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 13:27:10,885 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:27:10,885 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:27:10,885 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:27:10,885 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 13:27:10,885 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 13:27:10,885 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 13:27:10,885 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 13:27:19,545 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 13:27:19,545 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:27:19,545 - LLMModels            - INFO  - Requesting: do you play drumas?
2025-02-22 13:27:19,555 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'do you play drumas?'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:27:19,745 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:27:19,745 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 13:27:19,769 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001AAAEFBCDD0>
2025-02-22 13:27:19,770 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001AAAFC3F250> server_hostname='api.anthropic.com' timeout=600
2025-02-22 13:27:19,786 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001AAAEA4A150>
2025-02-22 13:27:19,787 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:27:19,788 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:27:19,789 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:27:19,790 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:27:19,790 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:27:22,215 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:27:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:27:21Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:27:21Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:27:22Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:27:21Z'), (b'request-id', b'req_01HsjA9r6W1zNcrd9UtNEJ8L'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915ef839f864b5fa-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:27:22,215 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:27:22,215 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:27:22,215 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:27:22,215 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:27:22,215 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:27:22,225 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:27:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:27:21Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:27:21Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:27:22Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:27:21Z', 'request-id': 'req_01HsjA9r6W1zNcrd9UtNEJ8L', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915ef839f864b5fa-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:27:22,228 - anthropic._base_client - DEBUG - request_id: req_01HsjA9r6W1zNcrd9UtNEJ8L
2025-02-22 13:27:22,235 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=13
output_tokens=140
Cache hit rate: 98.9%
Tokens saved: 1143
2025-02-22 13:27:22,240 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Bd w pisowni - 'drumas' powinno by 'drums'",
"Naturalno jzykowa": "Poprawne, ale z bdem w pisowni",
"Zdanie angielskie": "Do you play drums?",
"Tumaczenie zdania": "Czy grasz na perkusji?",
"notatka": "'Drums' to rzeczownik niepoliczalny w liczbie mnogiej, oznaczajcy instrument muzyczny - perkusj."
}
2025-02-22 13:27:22,242 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:27:22,243 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Bd w pisowni - 'drumas' powinno by 'drums'"), ('Naturalno jzykowa', 'Poprawne, ale z bdem w pisowni'), ('Zdanie angielskie', 'Do you play drums?'), ('Tumaczenie zdania', 'Czy grasz na perkusji?'), ('notatka', "'Drums' to rzeczownik niepoliczalny w liczbie mnogiej, oznaczajcy instrument muzyczny - perkusj.")]
2025-02-22 13:27:22,244 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 13:27:22,245 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 13:27:22,245 - LLMModels            - INFO  - Requesting: Do you play drums?:drums
2025-02-22 13:27:22,245 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you play drums?:drums'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:27:22,254 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:27:22,255 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:27:22,255 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:27:22,255 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:27:22,255 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:27:22,258 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:27:23,305 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:27:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:27:23Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:27:24Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:27:23Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:27:23Z'), (b'request-id', b'req_01M11RNoQRnduidWRLZb4VDs'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915ef8496bb0b5fa-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:27:23,305 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:27:23,315 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:27:23,315 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:27:23,315 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:27:23,315 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:27:23,315 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:27:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:27:23Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:27:24Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:27:23Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:27:23Z', 'request-id': 'req_01M11RNoQRnduidWRLZb4VDs', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915ef8496bb0b5fa-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:27:23,320 - anthropic._base_client - DEBUG - request_id: req_01M11RNoQRnduidWRLZb4VDs
2025-02-22 13:27:23,321 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1009
output_tokens=33
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 13:27:23,322 - formatter            - DEBUG - json str:{
"Zdanie": "Do you play [[perkusj]]?",
"Wyraz": "drums"
}
2025-02-22 13:27:23,323 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:27:23,323 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Do you play [[perkusj]]?'), ('Wyraz', 'drums')]
2025-02-22 13:27:23,324 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 13:27:23,325 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 13:27:34,165 - httpcore.connection  - DEBUG - close.started
2025-02-22 13:27:34,165 - httpcore.connection  - DEBUG - close.complete
2025-02-22 13:30:00,042 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 13:30:00,042 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 13:30:00,044 - events               - INFO  - EventManager init.
2025-02-22 13:30:00,045 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 13:30:00,161 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 13:30:00,175 - word_repository      - INFO  - WordRepository init.
2025-02-22 13:30:00,176 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 13:30:00,179 - word_repository      - DEBUG - ['drums', 'guitar', 'malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 13:30:00,179 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 13:30:00,181 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 13:30:00,182 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 13:30:00,187 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 13:30:01,125 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 13:30:01,128 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 13:30:01,129 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 13:30:01,129 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:30:01,130 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:30:01,130 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:30:01,131 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 13:30:01,132 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 13:30:01,132 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 13:30:01,133 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 13:30:08,906 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 13:30:08,907 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:30:08,908 - LLMModels            - INFO  - Requesting: do you like drums?
2025-02-22 13:30:08,911 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'do you like drums?'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:30:09,115 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:30:09,115 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 13:30:09,142 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CEE9B69B80>
2025-02-22 13:30:09,143 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CEE9B3F1D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 13:30:09,160 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CEE93918E0>
2025-02-22 13:30:09,162 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:30:09,163 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:30:09,163 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:30:09,165 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:30:09,165 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:30:11,298 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:30:11 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:30:10Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:30:11Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:30:11Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:30:11Z'), (b'request-id', b'req_01UQvkWo8L4JRRLYt9FHkvPD'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915efc5c9e550206-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:30:11,301 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:30:11,302 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:30:11,303 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:30:11,304 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:30:11,304 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:30:11,305 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:30:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:30:10Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:30:11Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:30:11Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:30:11Z', 'request-id': 'req_01UQvkWo8L4JRRLYt9FHkvPD', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915efc5c9e550206-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:30:11,307 - anthropic._base_client - DEBUG - request_id: req_01UQvkWo8L4JRRLYt9FHkvPD
2025-02-22 13:30:11,321 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=12
output_tokens=110
Cache hit rate: 99.0%
Tokens saved: 1143
2025-02-22 13:30:11,322 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Poprawne",
"Zdanie angielskie": "Do you like drums?",
"Tumaczenie zdania": "Czy lubisz perkusj?",
"notatka": "To proste pytanie w czasie teraniejszym prostym (Present Simple) uywane do pytania o preferencje."
}
2025-02-22 13:30:11,324 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:30:11,325 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Poprawne'), ('Naturalno jzykowa', 'Poprawne'), ('Zdanie angielskie', 'Do you like drums?'), ('Tumaczenie zdania', 'Czy lubisz perkusj?'), ('notatka', 'To proste pytanie w czasie teraniejszym prostym (Present Simple) uywane do pytania o preferencje.')]
2025-02-22 13:30:11,326 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 13:30:11,327 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 13:30:11,327 - LLMModels            - INFO  - Requesting: Do you like drums?:drums
2025-02-22 13:30:11,327 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you like drums?:drums'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:30:11,339 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:30:11,340 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:30:11,341 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:30:11,343 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:30:11,344 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:30:11,345 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:30:12,745 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:30:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:30:12Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:30:13Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:30:12Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:30:12Z'), (b'request-id', b'req_01FGagm1HUoJa6NLEECG7wN3'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915efc6a38190206-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:30:12,745 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:30:12,745 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:30:12,755 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:30:12,755 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:30:12,755 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:30:12,755 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:30:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:30:12Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:30:13Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:30:12Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:30:12Z', 'request-id': 'req_01FGagm1HUoJa6NLEECG7wN3', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915efc6a38190206-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:30:12,758 - anthropic._base_client - DEBUG - request_id: req_01FGagm1HUoJa6NLEECG7wN3
2025-02-22 13:30:12,760 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1009
output_tokens=32
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 13:30:12,761 - formatter            - DEBUG - json str:{
"Zdanie": "Do you like [[bbny]]?",
"Wyraz": "drums"
}
2025-02-22 13:30:12,762 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:30:12,763 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Do you like [[bbny]]?'), ('Wyraz', 'drums')]
2025-02-22 13:30:12,763 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 13:30:12,764 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 13:30:12,764 - queris               - DEBUG - parts: [('Zdanie', 'Do you like [[bbny]]?'), ('Wyraz', 'drums')], data: {<ResponseField.FRONT: 'Zdanie'>: 'Do you like [[bbny]]?', <ResponseField.BACK: 'Wyraz'>: 'drums'}
2025-02-22 13:31:07,653 - httpcore.connection  - DEBUG - close.started
2025-02-22 13:31:07,654 - httpcore.connection  - DEBUG - close.complete
2025-02-22 13:31:52,230 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 13:31:52,230 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 13:31:52,231 - events               - INFO  - EventManager init.
2025-02-22 13:31:52,231 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 13:31:52,362 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 13:31:52,380 - word_repository      - INFO  - WordRepository init.
2025-02-22 13:31:52,381 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 13:31:52,382 - word_repository      - DEBUG - ['drums', 'guitar', 'malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 13:31:52,383 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 13:31:52,385 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 13:31:52,385 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 13:31:52,389 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 13:31:53,289 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 13:31:53,291 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 13:31:53,292 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 13:31:53,293 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:31:53,293 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:31:53,294 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:31:53,296 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 13:31:53,296 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 13:31:53,297 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 13:31:53,298 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 13:31:58,702 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 13:31:58,702 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:31:58,703 - LLMModels            - INFO  - Requesting: do you like play drums
2025-02-22 13:31:58,706 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'do you like play drums'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:31:58,961 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:31:58,963 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 13:31:58,990 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000210E486A090>
2025-02-22 13:31:58,990 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000210E483F150> server_hostname='api.anthropic.com' timeout=600
2025-02-22 13:31:59,005 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000210E3926B40>
2025-02-22 13:31:59,006 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:31:59,008 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:31:59,008 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:31:59,009 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:31:59,009 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:32:01,762 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:32:01 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:32:00Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:32:01Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:32:01Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:32:01Z'), (b'request-id', b'req_01AKEpu2uM65R5cFtnJxjcXb'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915eff0b18423566-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:32:01,765 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:32:01,765 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:32:01,765 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:32:01,770 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:32:01,770 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:32:01,771 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:32:01 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:32:00Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:32:01Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:32:01Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:32:01Z', 'request-id': 'req_01AKEpu2uM65R5cFtnJxjcXb', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915eff0b18423566-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:32:01,774 - anthropic._base_client - DEBUG - request_id: req_01AKEpu2uM65R5cFtnJxjcXb
2025-02-22 13:32:01,788 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=12
output_tokens=144
Cache hit rate: 99.0%
Tokens saved: 1143
2025-02-22 13:32:01,790 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Brak 'to' po 'like' - powinno by 'like to play'",
"Naturalno jzykowa": "Brak zaimka osobowego na pocztku zdania",
"Zdanie angielskie": "Do you like to play the drums?",
"Tumaczenie zdania": "Czy lubisz gra na perkusji?",
"notatka": "Po czasowniku 'like' uywamy konstrukcji 'to + bezokolicznik' lub formy '-ing'"
}
2025-02-22 13:32:01,791 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:32:01,792 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Brak 'to' po 'like' - powinno by 'like to play'"), ('Naturalno jzykowa', 'Brak zaimka osobowego na pocztku zdania'), ('Zdanie angielskie', 'Do you like to play the drums?'), ('Tumaczenie zdania', 'Czy lubisz gra na perkusji?'), ('notatka', "Po czasowniku 'like' uywamy konstrukcji 'to + bezokolicznik' lub formy '-ing'")]
2025-02-22 13:32:01,794 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 13:32:01,795 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 13:32:01,797 - LLMModels            - INFO  - Requesting: Do you like to play the drums?:drums
2025-02-22 13:32:01,800 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you like to play the drums?:drums'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:32:01,807 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:32:01,809 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:32:01,809 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:32:01,810 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:32:01,812 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:32:01,812 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:32:02,828 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:32:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:32:03Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:32:03Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:32:02Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:32:02Z'), (b'request-id', b'req_01JnmARy9n9oZt8DprayerLE'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915eff1c9ace3566-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:32:02,832 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:32:02,833 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:32:02,834 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:32:02,835 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:32:02,835 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:32:02,836 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:32:03 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:32:03Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:32:03Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:32:02Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:32:02Z', 'request-id': 'req_01JnmARy9n9oZt8DprayerLE', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915eff1c9ace3566-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:32:02,839 - anthropic._base_client - DEBUG - request_id: req_01JnmARy9n9oZt8DprayerLE
2025-02-22 13:32:02,840 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1012
output_tokens=35
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 13:32:02,841 - formatter            - DEBUG - json str:{
"Zdanie": "Do you like to play the [[bbny]]?",
"Wyraz": "drums"
}
2025-02-22 13:32:02,842 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:32:02,843 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Do you like to play the [[bbny]]?'), ('Wyraz', 'drums')]
2025-02-22 13:32:02,844 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 13:32:02,845 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 13:32:02,846 - queris               - DEBUG - parts: [('Zdanie', 'Do you like to play the [[bbny]]?'), ('Wyraz', 'drums')], data: {<ResponseField.FRONT: 'Zdanie'>: 'Do you like to play the [[bbny]]?', <ResponseField.BACK: 'Wyraz'>: 'drums'}
2025-02-22 13:32:20,336 - httpcore.connection  - DEBUG - close.started
2025-02-22 13:32:20,338 - httpcore.connection  - DEBUG - close.complete
2025-02-22 13:32:45,829 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 13:32:45,830 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 13:32:45,831 - events               - INFO  - EventManager init.
2025-02-22 13:32:45,831 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 13:32:45,946 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 13:32:45,959 - word_repository      - INFO  - WordRepository init.
2025-02-22 13:32:45,960 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 13:32:45,962 - word_repository      - DEBUG - ['drums', 'guitar', 'malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 13:32:45,963 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 13:32:45,965 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 13:32:45,966 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 13:32:45,971 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 13:32:46,840 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 13:32:46,841 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 13:32:46,843 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 13:32:46,844 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:32:46,848 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:32:46,850 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:32:46,851 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 13:32:46,852 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 13:32:46,853 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 13:32:46,854 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 13:32:55,565 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 13:32:55,565 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:32:55,565 - LLMModels            - INFO  - Requesting: Do you like play drums?
2025-02-22 13:32:55,565 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you like play drums?'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:32:55,785 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:32:55,785 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 13:32:55,808 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000252F08A6900>
2025-02-22 13:32:55,809 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000252F093F250> server_hostname='api.anthropic.com' timeout=600
2025-02-22 13:32:55,826 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000252F00FB5F0>
2025-02-22 13:32:55,828 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:32:55,830 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:32:55,831 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:32:55,831 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:32:55,832 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:32:58,501 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:32:58 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:32:57Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:32:57Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:32:58Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:32:57Z'), (b'request-id', b'req_01H91ahhrQHLKhee4dzrVkqq'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f006e3d5e0282-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:32:58,505 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:32:58,505 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:32:58,506 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:32:58,507 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:32:58,507 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:32:58,508 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:32:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:32:57Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:32:57Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:32:58Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:32:57Z', 'request-id': 'req_01H91ahhrQHLKhee4dzrVkqq', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f006e3d5e0282-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:32:58,511 - anthropic._base_client - DEBUG - request_id: req_01H91ahhrQHLKhee4dzrVkqq
2025-02-22 13:32:58,523 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=13
output_tokens=140
Cache hit rate: 98.9%
Tokens saved: 1143
2025-02-22 13:32:58,525 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Brak 'to' przed bezokolicznikiem 'play'",
"Naturalno jzykowa": "Poprawne",
"Zdanie angielskie": "Do you like to play drums?",
"Tumaczenie zdania": "Czy lubisz gra na perkusji?",
"notatka": "Po czasowniku 'like' zazwyczaj uywamy 'to' przed bezokolicznikiem, chyba e stosujemy form '-ing'."
}
2025-02-22 13:32:58,526 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:32:58,527 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Brak 'to' przed bezokolicznikiem 'play'"), ('Naturalno jzykowa', 'Poprawne'), ('Zdanie angielskie', 'Do you like to play drums?'), ('Tumaczenie zdania', 'Czy lubisz gra na perkusji?'), ('notatka', "Po czasowniku 'like' zazwyczaj uywamy 'to' przed bezokolicznikiem, chyba e stosujemy form '-ing'.")]
2025-02-22 13:32:58,529 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 13:32:58,529 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 13:32:58,529 - LLMModels            - INFO  - Requesting: Do you like to play drums?:drums
2025-02-22 13:32:58,535 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you like to play drums?:drums'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:32:58,541 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:32:58,542 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:32:58,543 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:32:58,543 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:32:58,546 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:32:58,547 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:32:59,455 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:32:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:33:00Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:33:00Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:32:59Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:32:59Z'), (b'request-id', b'req_01H11gAWRbvaSevPRXsY57Cz'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f007f2e1a0282-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:32:59,455 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:32:59,455 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:32:59,455 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:32:59,461 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:32:59,462 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:32:59,463 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:32:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:33:00Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:33:00Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:32:59Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:32:59Z', 'request-id': 'req_01H11gAWRbvaSevPRXsY57Cz', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f007f2e1a0282-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:32:59,466 - anthropic._base_client - DEBUG - request_id: req_01H11gAWRbvaSevPRXsY57Cz
2025-02-22 13:32:59,467 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1011
output_tokens=34
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 13:32:59,468 - formatter            - DEBUG - json str:{
"Zdanie": "Do you like to play [[bbny]]?",
"Wyraz": "drums"
}
2025-02-22 13:32:59,469 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:32:59,469 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Do you like to play [[bbny]]?'), ('Wyraz', 'drums')]
2025-02-22 13:32:59,470 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 13:32:59,470 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 13:32:59,471 - queris               - DEBUG - parts: [('Zdanie', 'Do you like to play [[bbny]]?'), ('Wyraz', 'drums')], data: {<ResponseField.FRONT: 'Zdanie'>: 'Do you like to play [[bbny]]?', <ResponseField.BACK: 'Wyraz'>: 'drums'}
2025-02-22 13:36:15,802 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 13:36:15,803 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 13:36:15,803 - events               - INFO  - EventManager init.
2025-02-22 13:36:15,804 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 13:36:15,915 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 13:36:15,935 - word_repository      - INFO  - WordRepository init.
2025-02-22 13:36:15,935 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 13:36:15,937 - word_repository      - DEBUG - ['drums', 'guitar', 'malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 13:36:15,937 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 13:36:15,939 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 13:36:15,940 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 13:36:15,944 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 13:36:16,747 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 13:36:16,747 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 13:36:16,747 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 13:36:16,747 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:36:16,747 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:36:16,747 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:36:16,755 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 13:36:16,755 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 13:36:16,757 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 13:36:16,757 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 13:36:22,785 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 13:36:22,785 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:36:22,785 - LLMModels            - INFO  - Requesting: do you like playing drums?
2025-02-22 13:36:22,785 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'do you like playing drums?'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:36:23,007 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:36:23,007 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 13:36:23,025 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002E0158F4B30>
2025-02-22 13:36:23,025 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002E017C33150> server_hostname='api.anthropic.com' timeout=600
2025-02-22 13:36:23,044 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002E017C252E0>
2025-02-22 13:36:23,045 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:36:23,047 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:36:23,048 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:36:23,049 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:36:23,050 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:36:25,710 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:36:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:36:24Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:36:25Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:36:25Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:36:25Z'), (b'request-id', b'req_01DNENGmiVAooyTEw8VRAVos'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f057d5c1bbf32-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:36:25,716 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:36:25,717 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:36:25,719 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:36:25,719 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:36:25,720 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:36:25,721 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:36:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:36:24Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:36:25Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:36:25Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:36:25Z', 'request-id': 'req_01DNENGmiVAooyTEw8VRAVos', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f057d5c1bbf32-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:36:25,723 - anthropic._base_client - DEBUG - request_id: req_01DNENGmiVAooyTEw8VRAVos
2025-02-22 13:36:25,736 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=13
output_tokens=121
Cache hit rate: 98.9%
Tokens saved: 1143
2025-02-22 13:36:25,738 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Poprawne",
"Zdanie angielskie": "Do you like playing drums?",
"Tumaczenie zdania": "Czy lubisz gra na perkusji?",
"notatka": "W jzyku angielskim czsto uywa si formy '-ing' (gerund) po czasowniku 'like' do wyraania upodoba."
}
2025-02-22 13:36:25,739 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:36:25,739 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Poprawne'), ('Naturalno jzykowa', 'Poprawne'), ('Zdanie angielskie', 'Do you like playing drums?'), ('Tumaczenie zdania', 'Czy lubisz gra na perkusji?'), ('notatka', "W jzyku angielskim czsto uywa si formy '-ing' (gerund) po czasowniku 'like' do wyraania upodoba.")]
2025-02-22 13:36:25,740 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 13:36:25,741 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 13:36:25,741 - LLMModels            - INFO  - Requesting: Do you like playing drums?:drums
2025-02-22 13:36:25,742 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you like playing drums?:drums'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:36:25,752 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:36:25,753 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:36:25,753 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:36:25,754 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:36:25,755 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:36:25,755 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:36:26,837 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:36:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:36:27Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:36:27Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:36:26Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:36:26Z'), (b'request-id', b'req_01WYvVgdSiQRwXE8Dcfh9Kno'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f058e3bbebf32-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:36:26,840 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:36:26,841 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:36:26,842 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:36:26,842 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:36:26,843 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:36:26,843 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:36:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:36:27Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:36:27Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:36:26Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:36:26Z', 'request-id': 'req_01WYvVgdSiQRwXE8Dcfh9Kno', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f058e3bbebf32-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:36:26,847 - anthropic._base_client - DEBUG - request_id: req_01WYvVgdSiQRwXE8Dcfh9Kno
2025-02-22 13:36:26,848 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1010
output_tokens=33
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 13:36:26,849 - formatter            - DEBUG - json str:{
"Zdanie": "Do you like playing [[bbny]]?",
"Wyraz": "drums"
}
2025-02-22 13:36:26,850 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:36:26,851 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Do you like playing [[bbny]]?'), ('Wyraz', 'drums')]
2025-02-22 13:36:26,852 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 13:36:26,852 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 13:36:26,853 - queris               - DEBUG - parts: [('Zdanie', 'Do you like playing [[bbny]]?'), ('Wyraz', 'drums')], data: {<ResponseField.FRONT: 'Zdanie'>: 'Do you like playing [[bbny]]?', <ResponseField.BACK: 'Wyraz'>: 'drums'}
2025-02-22 13:36:35,851 - httpcore.connection  - DEBUG - close.started
2025-02-22 13:36:35,853 - httpcore.connection  - DEBUG - close.complete
2025-02-22 13:36:47,092 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 13:36:47,092 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 13:36:47,092 - events               - INFO  - EventManager init.
2025-02-22 13:36:47,093 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 13:36:47,206 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 13:36:47,223 - word_repository      - INFO  - WordRepository init.
2025-02-22 13:36:47,224 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 13:36:47,225 - word_repository      - DEBUG - ['drums', 'guitar', 'malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 13:36:47,225 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 13:36:47,227 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 13:36:47,228 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 13:36:47,235 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 13:36:48,012 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 13:36:48,014 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 13:36:48,015 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 13:36:48,015 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:36:48,015 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:36:48,015 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 13:36:48,018 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 13:36:48,018 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 13:36:48,019 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 13:36:48,019 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 13:36:58,851 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 13:36:58,851 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 13:36:58,853 - LLMModels            - INFO  - Requesting: Do you like plaing drums?
2025-02-22 13:36:58,856 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you like plaing drums?'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:36:59,055 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:36:59,055 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 13:36:59,118 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027935FC7E60>
2025-02-22 13:36:59,120 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027936733150> server_hostname='api.anthropic.com' timeout=600
2025-02-22 13:36:59,133 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002793662AFF0>
2025-02-22 13:36:59,135 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:36:59,136 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:36:59,137 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:36:59,137 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:36:59,138 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:37:01,906 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:37:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:37:00Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:37:01Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:37:02Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:37:01Z'), (b'request-id', b'req_01JwLpAwkp16E55Wpd8AFodM'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f065eeea8eec1-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:37:01,909 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:37:01,909 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:37:01,910 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:37:01,911 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:37:01,911 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:37:01,912 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:37:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:37:00Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:37:01Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:37:02Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:37:01Z', 'request-id': 'req_01JwLpAwkp16E55Wpd8AFodM', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f065eeea8eec1-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:37:01,915 - anthropic._base_client - DEBUG - request_id: req_01JwLpAwkp16E55Wpd8AFodM
2025-02-22 13:37:01,925 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=14
output_tokens=152
Cache hit rate: 98.8%
Tokens saved: 1143
2025-02-22 13:37:01,925 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Bd w pisowni - 'plaing' powinno by 'playing'",
"Naturalno jzykowa": "Poprawne, ale z bdem w pisowni",
"Zdanie angielskie": "Do you like playing drums?",
"Tumaczenie zdania": "Czy lubisz gra na perkusji?",
"notatka": "Pamitaj, e czasowniki koczce si na '-e' zachowuj t liter przed dodaniem '-ing', np. like -> liking."
}
2025-02-22 13:37:01,931 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:37:01,932 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Bd w pisowni - 'plaing' powinno by 'playing'"), ('Naturalno jzykowa', 'Poprawne, ale z bdem w pisowni'), ('Zdanie angielskie', 'Do you like playing drums?'), ('Tumaczenie zdania', 'Czy lubisz gra na perkusji?'), ('notatka', "Pamitaj, e czasowniki koczce si na '-e' zachowuj t liter przed dodaniem '-ing', np. like -> liking.")]
2025-02-22 13:37:01,934 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 13:37:01,934 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 13:37:01,935 - LLMModels            - INFO  - Requesting: Do you like playing drums?:drums
2025-02-22 13:37:01,937 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you like playing drums?:drums'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 13:37:01,943 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 13:37:01,944 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 13:37:01,945 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 13:37:01,945 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 13:37:01,946 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 13:37:01,947 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 13:37:03,019 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 12:37:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T12:37:03Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T12:37:03Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T12:37:03Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T12:37:03Z'), (b'request-id', b'req_016iuu9fG6tDeEPwcd5eCSir'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f06706d61eec1-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 13:37:03,022 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 13:37:03,023 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 13:37:03,024 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 13:37:03,024 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 13:37:03,025 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 13:37:03,025 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 12:37:03 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T12:37:03Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T12:37:03Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T12:37:03Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T12:37:03Z', 'request-id': 'req_016iuu9fG6tDeEPwcd5eCSir', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f06706d61eec1-WAW', 'content-encoding': 'gzip'})
2025-02-22 13:37:03,028 - anthropic._base_client - DEBUG - request_id: req_016iuu9fG6tDeEPwcd5eCSir
2025-02-22 13:37:03,030 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1010
output_tokens=33
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 13:37:03,031 - formatter            - DEBUG - json str:{
"Zdanie": "Do you like playing [[bbny]]?",
"Wyraz": "drums"
}
2025-02-22 13:37:03,031 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 13:37:03,033 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Do you like playing [[bbny]]?'), ('Wyraz', 'drums')]
2025-02-22 13:37:03,034 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 13:37:03,035 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 13:37:03,035 - queris               - DEBUG - parts: [('Zdanie', 'Do you like playing [[bbny]]?'), ('Wyraz', 'drums')], data: {<ResponseField.FRONT: 'Zdanie'>: 'Do you like playing [[bbny]]?', <ResponseField.BACK: 'Wyraz'>: 'drums'}
2025-02-22 13:37:24,037 - httpcore.connection  - DEBUG - close.started
2025-02-22 13:37:24,038 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:42:24,858 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 14:42:24,868 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 14:42:24,868 - events               - INFO  - EventManager init.
2025-02-22 14:42:24,868 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 14:42:24,978 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 14:42:24,994 - word_repository      - INFO  - WordRepository init.
2025-02-22 14:42:24,994 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 14:42:24,995 - word_repository      - DEBUG - ['drums', 'guitar', 'malfanktion', 'trumpet', 'motor', 'mold', 'sky', 'lyke', 'boring', 'boring', 'biing', 'liwing', 'lie', 'waman', 'load', 'juice', 'pap']
2025-02-22 14:42:24,997 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 14:42:24,999 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 14:42:24,999 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 14:42:25,004 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 14:42:25,763 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 14:42:25,763 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 14:42:25,768 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 14:42:25,768 - word_repository      - INFO  - Getting the top word: drums
2025-02-22 14:42:25,768 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 14:42:25,770 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 14:42:25,771 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 14:42:25,771 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 14:42:25,773 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 14:42:25,774 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 14:42:25,774 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 14:42:25,775 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 14:42:42,740 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 14:42:42,748 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 14:42:42,748 - events               - INFO  - EventManager init.
2025-02-22 14:42:42,748 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 14:42:42,855 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 14:42:42,868 - word_repository      - INFO  - WordRepository init.
2025-02-22 14:42:42,868 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 14:42:42,870 - word_repository      - DEBUG - []
2025-02-22 14:42:42,870 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 14:42:42,873 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 14:42:42,874 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 14:42:42,878 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 14:42:43,613 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 14:42:43,613 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 14:42:43,618 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 14:42:43,618 - word_repository      - INFO  - Getting the top word: None
2025-02-22 14:42:43,618 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 14:42:43,618 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 14:42:43,618 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 14:42:43,621 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 14:42:43,623 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 14:42:43,623 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 14:42:43,624 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 14:42:43,624 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 14:42:53,358 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-22 14:42:53,358 - word_repository      - INFO  - Pushing back dog.
2025-02-22 14:42:53,358 - word_repository      - INFO  - Array is empty, adding dog.
2025-02-22 14:42:53,368 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 14:42:53,368 - word_repository      - DEBUG - ['dog']
2025-02-22 14:42:53,368 - word_repository      - INFO  - Words saved successfully.
2025-02-22 14:42:53,368 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: True
2025-02-22 14:42:53,371 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 14:42:53,371 - LLMModels            - INFO  - Requesting: dog
2025-02-22 14:42:53,375 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'dog'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:42:53,578 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:42:53,578 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:42:53,639 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C8AD16A390>
2025-02-22 14:42:53,640 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C8AD13F2D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:42:53,653 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C8AD0AB620>
2025-02-22 14:42:53,653 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:42:53,655 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:42:53,655 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:42:53,656 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:42:53,657 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:42:57,208 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:42:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:42:55Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:42:56Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:42:57Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:42:56Z'), (b'request-id', b'req_014gYVc9wxZT7PJRcbyRe12B'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f66ea5aeaecbe-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:42:57,208 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:42:57,208 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:42:57,218 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:42:57,218 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:42:57,218 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:42:57,220 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:42:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:42:55Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:42:56Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:42:57Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:42:56Z', 'request-id': 'req_014gYVc9wxZT7PJRcbyRe12B', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f66ea5aeaecbe-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:42:57,222 - anthropic._base_client - DEBUG - request_id: req_014gYVc9wxZT7PJRcbyRe12B
2025-02-22 14:42:57,233 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=248
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 14:42:57,233 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "pies": "5/5",
        "psowaty": "2/5",
        "kundel": "2/5"
    },
    "Uycie": "Rzeczownik, udomowione zwierz z rodziny psowatych",
    "Zdanie": "The dog barked at the mailman.",
    "Tumaczenie": "Pies zaszczeka na listonosza.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["zwierzta domowe", "hodowla", "weterynaria"],
    "Synonimy": {
        "canine": "psi - 3/5",
        "hound": "pies goczy - 2/5",
        "pooch": "piesek (potocznie) - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 14:42:57,239 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:42:57,239 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' pies: 5/5\n psowaty: 2/5\n kundel: 2/5'), ('Uycie', 'Rzeczownik, udomowione zwierz z rodziny psowatych'), ('Zdanie', 'The dog barked at the mailman.'), ('Tumaczenie', 'Pies zaszczeka na listonosza.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'zwierzta domowe, hodowla, weterynaria'), ('Synonimy', ' canine: psi - 3/5\n hound: pies goczy - 2/5\n pooch: piesek (potocznie) - 2/5'), ('is_word_correct', 'ok')]
2025-02-22 14:42:57,239 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 14:42:57,239 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 14:42:57,239 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 14:43:14,878 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-22 14:43:14,878 - word_repository      - INFO  - Pushing back cat.
2025-02-22 14:43:14,878 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 14:43:14,878 - word_repository      - DEBUG - ['dog', 'cat']
2025-02-22 14:43:14,878 - word_repository      - INFO  - Words saved successfully.
2025-02-22 14:43:14,878 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-22 14:43:24,902 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 14:43:24,903 - word_repository      - INFO  - Pushing front bird.
2025-02-22 14:43:24,903 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 14:43:24,904 - word_repository      - DEBUG - ['bird', 'dog', 'cat']
2025-02-22 14:43:24,905 - word_repository      - INFO  - Words saved successfully.
2025-02-22 14:43:24,906 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 14:43:24,906 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 14:43:24,907 - LLMModels            - INFO  - Requesting: bird
2025-02-22 14:43:24,910 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'bird'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:43:24,916 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:43:24,917 - httpcore.connection  - DEBUG - close.started
2025-02-22 14:43:24,918 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:43:24,918 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:43:24,927 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C8AD199A90>
2025-02-22 14:43:24,928 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C8AD13F2D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:43:24,944 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C8AC9C71D0>
2025-02-22 14:43:24,945 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:43:24,947 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:43:24,947 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:43:24,948 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:43:24,948 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:43:28,522 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:43:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:43:26Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:43:27Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:43:28Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:43:27Z'), (b'request-id', b'req_01H4ebYZPhQ6XffPiR4fiEDP'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f67adeee6c05b-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:43:28,522 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:43:28,522 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:43:28,528 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:43:28,528 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:43:28,528 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:43:28,528 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:43:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:43:26Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:43:27Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:43:28Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:43:27Z', 'request-id': 'req_01H4ebYZPhQ6XffPiR4fiEDP', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f67adeee6c05b-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:43:28,532 - anthropic._base_client - DEBUG - request_id: req_01H4ebYZPhQ6XffPiR4fiEDP
2025-02-22 14:43:28,533 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=254
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 14:43:28,534 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "ptak": "5/5",
        "ptaszek": "3/5",
        "ptactwo": "2/5"
    },
    "Uycie": "Rzeczownik, ciepokrwiste zwierz pokryte pirami, zdolne do lotu",
    "Zdanie": "The colorful bird sang beautifully.",
    "Tumaczenie": "Kolorowy ptak piknie piewa.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["przyroda", "zwierzta", "ornitologia"],
    "Synonimy": {
        "fowl": "drb - 2/5",
        "avian": "ptasi - 2/5",
        "feathered friend": "skrzydlaty przyjaciel - 1/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 14:43:28,537 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:43:28,537 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' ptak: 5/5\n ptaszek: 3/5\n ptactwo: 2/5'), ('Uycie', 'Rzeczownik, ciepokrwiste zwierz pokryte pirami, zdolne do lotu'), ('Zdanie', 'The colorful bird sang beautifully.'), ('Tumaczenie', 'Kolorowy ptak piknie piewa.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'przyroda, zwierzta, ornitologia'), ('Synonimy', ' fowl: drb - 2/5\n avian: ptasi - 2/5\n feathered friend: skrzydlaty przyjaciel - 1/5'), ('is_word_correct', 'ok')]
2025-02-22 14:43:28,540 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 14:43:28,540 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 14:43:28,542 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 14:43:52,218 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 14:43:52,222 - word_repository      - INFO  - Getting the top word: bird
2025-02-22 14:43:52,222 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-22 14:43:52,222 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-22 14:43:52,222 - LLMModels            - INFO  - Requesting: The bird has flown through the US
2025-02-22 14:43:52,222 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'The bird has flown through the US'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:43:52,233 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:43:52,234 - httpcore.connection  - DEBUG - close.started
2025-02-22 14:43:52,234 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:43:52,235 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:43:52,256 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C8AD19B8C0>
2025-02-22 14:43:52,257 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C8AD13F2D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:43:52,276 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C8AD19B7D0>
2025-02-22 14:43:52,276 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:43:52,278 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:43:52,278 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:43:52,280 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:43:52,280 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:43:54,739 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:43:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:43:53Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:43:54Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:43:54Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:43:54Z'), (b'request-id', b'req_01WGsLuRYqgUpWo9HYEC8JGo'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6858bcc3b1dc-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:43:54,739 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:43:54,739 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:43:54,739 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:43:54,739 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:43:54,739 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:43:54,748 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:43:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:43:53Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:43:54Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:43:54Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:43:54Z', 'request-id': 'req_01WGsLuRYqgUpWo9HYEC8JGo', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6858bcc3b1dc-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:43:54,750 - anthropic._base_client - DEBUG - request_id: req_01WGsLuRYqgUpWo9HYEC8JGo
2025-02-22 14:43:54,751 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1143
cache_read_input_tokens=0
input_tokens=15
output_tokens=161
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 14:43:54,752 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Nienaturalne uycie 'US' - lepiej uy penej nazwy 'United States' lub 'USA'",
"Zdanie angielskie": "The bird has flown through the United States.",
"Tumaczenie zdania": "Ptak przelecia przez Stany Zjednoczone.",
"notatka": "Skrt 'US' jest czciej uywany jako przymiotnik (np. 'US citizen') ni jako rzeczownik w takim kontekcie."
}
2025-02-22 14:43:54,753 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:43:54,755 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Poprawne'), ('Naturalno jzykowa', "Nienaturalne uycie 'US' - lepiej uy penej nazwy 'United States' lub 'USA'"), ('Zdanie angielskie', 'The bird has flown through the United States.'), ('Tumaczenie zdania', 'Ptak przelecia przez Stany Zjednoczone.'), ('notatka', "Skrt 'US' jest czciej uywany jako przymiotnik (np. 'US citizen') ni jako rzeczownik w takim kontekcie.")]
2025-02-22 14:43:54,757 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 14:43:54,758 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 14:43:54,759 - anki_adder           - DEBUG - Creading flashcard
2025-02-22 14:43:54,759 - queris               - DEBUG - Safe execution of get falshcard
2025-02-22 14:43:54,760 - LLMModels            - INFO  - Requesting: The bird has flown through the United States.:bird
2025-02-22 14:43:54,762 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'The bird has flown through the United States.:bird'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:43:54,768 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:43:54,768 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:43:54,769 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:43:54,769 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:43:54,769 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:43:54,769 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:43:55,958 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:43:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:43:56Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:43:56Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:43:56Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:43:56Z'), (b'request-id', b'req_01K5nwCy1MrfP8XEnfAvSJ75'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f68684dc9b1dc-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:43:55,958 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:43:55,958 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:43:55,958 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:43:55,968 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:43:55,968 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:43:55,968 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:43:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:43:56Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:43:56Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:43:56Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:43:56Z', 'request-id': 'req_01K5nwCy1MrfP8XEnfAvSJ75', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f68684dc9b1dc-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:43:55,972 - anthropic._base_client - DEBUG - request_id: req_01K5nwCy1MrfP8XEnfAvSJ75
2025-02-22 14:43:55,973 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1013
output_tokens=35
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 14:43:55,975 - formatter            - DEBUG - json str:{
"Zdanie": "The [[ptak]] has flown through the United States.",
"Wyraz": "bird"
}
2025-02-22 14:43:55,975 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:43:55,976 - formatter            - DEBUG - formatted parts: [('Zdanie', 'The [[ptak]] has flown through the United States.'), ('Wyraz', 'bird')]
2025-02-22 14:43:55,977 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 14:43:55,977 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 14:43:55,978 - queris               - DEBUG - parts: [('Zdanie', 'The [[ptak]] has flown through the United States.'), ('Wyraz', 'bird')], data: {<ResponseField.FRONT: 'Zdanie'>: 'The [[ptak]] has flown through the United States.', <ResponseField.BACK: 'Wyraz'>: 'bird'}
2025-02-22 14:43:55,979 - anki_adder           - DEBUG - Inserting flashcard
2025-02-22 14:44:14,172 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 14:44:14,172 - anki_adder           - ERROR - No front or back of the flashcard. Front: The [[ptak]] has flown through the United States., back:bird
2025-02-22 14:44:14,172 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 14:44:29,076 - httpcore.connection  - DEBUG - close.started
2025-02-22 14:44:29,077 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:45:02,678 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 14:45:02,678 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 14:45:02,678 - events               - INFO  - EventManager init.
2025-02-22 14:45:02,678 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 14:45:02,789 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 14:45:02,798 - word_repository      - INFO  - WordRepository init.
2025-02-22 14:45:02,798 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 14:45:02,805 - word_repository      - DEBUG - ['bird', 'dog', 'cat']
2025-02-22 14:45:02,806 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 14:45:02,808 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 14:45:02,809 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 14:45:02,813 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 14:45:03,558 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 14:45:03,558 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 14:45:03,558 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 14:45:03,558 - word_repository      - INFO  - Getting the top word: bird
2025-02-22 14:45:03,558 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 14:45:03,558 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 14:45:03,558 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 14:45:03,558 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 14:45:03,558 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 14:45:03,558 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 14:45:03,568 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 14:45:03,568 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 14:45:09,476 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 14:45:09,476 - word_repository      - INFO  - Pushing front pig.
2025-02-22 14:45:09,477 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 14:45:09,478 - word_repository      - DEBUG - ['pig', 'bird', 'dog', 'cat']
2025-02-22 14:45:09,478 - word_repository      - INFO  - Words saved successfully.
2025-02-22 14:45:09,479 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 14:45:09,479 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 14:45:09,480 - LLMModels            - INFO  - Requesting: pig
2025-02-22 14:45:09,483 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'pig'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:45:09,673 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:45:09,678 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:45:09,697 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028B7E0AB5F0>
2025-02-22 14:45:09,698 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028B7E13F350> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:45:09,714 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028B7E0E4560>
2025-02-22 14:45:09,715 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:45:09,715 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:45:09,715 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:45:09,715 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:45:09,715 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:45:13,378 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:45:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:45:11Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:45:12Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:45:13Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:45:12Z'), (b'request-id', b'req_015BnDg2gVLK4PYF4B5JX5En'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6a3cacf2b243-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:45:13,389 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:45:13,389 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:45:13,389 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:45:13,389 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:45:13,389 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:45:13,393 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:45:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:45:11Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:45:12Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:45:13Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:45:12Z', 'request-id': 'req_015BnDg2gVLK4PYF4B5JX5En', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6a3cacf2b243-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:45:13,395 - anthropic._base_client - DEBUG - request_id: req_015BnDg2gVLK4PYF4B5JX5En
2025-02-22 14:45:13,405 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=243
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 14:45:13,407 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "winia": "5/5",
        "prosi": "3/5",
        "wieprzowina": "2/5"
    },
    "Uycie": "Rzeczownik, zwierz hodowlane lub okrelenie osoby niegrzecznej",
    "Zdanie": "The pig rolled in the mud.",
    "Tumaczenie": "winia tarzaa si w bocie.",
    "Czstotliwo": "4/5, A1",
    "Konteksty": ["rolnictwo", "ywno", "obraliwe okrelenia"],
    "Synonimy": {
        "hog": "wieprz - 3/5",
        "swine": "winia - 2/5",
        "porker": "tucznik - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 14:45:13,410 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:45:13,411 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' winia: 5/5\n prosi: 3/5\n wieprzowina: 2/5'), ('Uycie', 'Rzeczownik, zwierz hodowlane lub okrelenie osoby niegrzecznej'), ('Zdanie', 'The pig rolled in the mud.'), ('Tumaczenie', 'winia tarzaa si w bocie.'), ('Czstotliwo', '4/5, A1'), ('Konteksty', 'rolnictwo, ywno, obraliwe okrelenia'), ('Synonimy', ' hog: wieprz - 3/5\n swine: winia - 2/5\n porker: tucznik - 2/5'), ('is_word_correct', 'ok')]
2025-02-22 14:45:13,412 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 14:45:13,412 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 14:45:13,413 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 14:45:24,540 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 14:45:24,540 - word_repository      - INFO  - Getting the top word: pig
2025-02-22 14:45:24,540 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-22 14:45:24,540 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-22 14:45:24,540 - LLMModels            - INFO  - Requesting: The pig are filfy
2025-02-22 14:45:24,548 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'The pig are filfy'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:45:24,557 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:45:24,558 - httpcore.connection  - DEBUG - close.started
2025-02-22 14:45:24,559 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:45:24,559 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:45:24,568 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028B7E19DC40>
2025-02-22 14:45:24,568 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028B7E13F350> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:45:24,584 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028B7E19DB50>
2025-02-22 14:45:24,584 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:45:24,586 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:45:24,586 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:45:24,586 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:45:24,587 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:45:27,508 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:45:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:45:26Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:45:26Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:45:27Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:45:26Z'), (b'request-id', b'req_0192iaotan2HKcaq8o3yEuRW'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6a99acf3024c-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:45:27,508 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:45:27,508 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:45:27,508 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:45:27,518 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:45:27,518 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:45:27,518 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:45:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:45:26Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:45:26Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:45:27Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:45:26Z', 'request-id': 'req_0192iaotan2HKcaq8o3yEuRW', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6a99acf3024c-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:45:27,521 - anthropic._base_client - DEBUG - request_id: req_0192iaotan2HKcaq8o3yEuRW
2025-02-22 14:45:27,523 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=12
output_tokens=173
Cache hit rate: 99.0%
Tokens saved: 1143
2025-02-22 14:45:27,524 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Bd w liczbie rzeczownika i czasownika - powinno by 'pigs are' lub 'pig is'. Bd w pisowni 'filfy'",
"Naturalno jzykowa": "Nienaturalne uycie 'filfy' - poprawne sowo to 'filthy'",
"Zdanie angielskie": "The pigs are filthy.",
"Tumaczenie zdania": "winie s brudne.",
"notatka": "Pamitaj o zgodnoci liczby midzy podmiotem a orzeczeniem oraz o poprawnej pisowni przymiotnikw."
}
2025-02-22 14:45:27,526 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:45:27,526 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Bd w liczbie rzeczownika i czasownika - powinno by 'pigs are' lub 'pig is'. Bd w pisowni 'filfy'"), ('Naturalno jzykowa', "Nienaturalne uycie 'filfy' - poprawne sowo to 'filthy'"), ('Zdanie angielskie', 'The pigs are filthy.'), ('Tumaczenie zdania', 'winie s brudne.'), ('notatka', 'Pamitaj o zgodnoci liczby midzy podmiotem a orzeczeniem oraz o poprawnej pisowni przymiotnikw.')]
2025-02-22 14:45:27,528 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 14:45:27,528 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 14:45:27,528 - anki_adder           - DEBUG - Creading flashcard
2025-02-22 14:45:27,530 - queris               - DEBUG - Safe execution of get falshcard
2025-02-22 14:45:27,530 - LLMModels            - INFO  - Requesting: The pigs are filthy.:pig
2025-02-22 14:45:27,532 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'The pigs are filthy.:pig'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:45:27,538 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:45:27,539 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:45:27,540 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:45:27,541 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:45:27,542 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:45:27,542 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:45:28,548 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:45:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:45:28Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:45:29Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:45:28Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:45:28Z'), (b'request-id', b'req_0191rhDyXRLHdreFH3bvWAL6'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6aac1dd8024c-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:45:28,548 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:45:28,548 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:45:28,556 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:45:28,556 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:45:28,558 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:45:28,558 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:45:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:45:28Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:45:29Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:45:28Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:45:28Z', 'request-id': 'req_0191rhDyXRLHdreFH3bvWAL6', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6aac1dd8024c-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:45:28,561 - anthropic._base_client - DEBUG - request_id: req_0191rhDyXRLHdreFH3bvWAL6
2025-02-22 14:45:28,562 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1010
output_tokens=32
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 14:45:28,563 - formatter            - DEBUG - json str:{
"Zdanie": "The [[winie]] are filthy.",
"Wyraz": "pigs"
}
2025-02-22 14:45:28,564 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:45:28,565 - formatter            - DEBUG - formatted parts: [('Zdanie', 'The [[winie]] are filthy.'), ('Wyraz', 'pigs')]
2025-02-22 14:45:28,566 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 14:45:28,566 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 14:45:28,566 - queris               - DEBUG - parts: [('Zdanie', 'The [[winie]] are filthy.'), ('Wyraz', 'pigs')], data: {<ResponseField.FRONT: 'Zdanie'>: 'The [[winie]] are filthy.', <ResponseField.BACK: 'Wyraz'>: 'pigs'}
2025-02-22 14:45:28,568 - anki_adder           - DEBUG - Inserting flashcard
2025-02-22 14:45:33,848 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 14:45:33,848 - anki_adder           - ERROR - No front or back of the flashcard. Front: The [[winie]] are filthy., back:pigs
2025-02-22 14:45:33,848 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 14:45:33,848 - flashcard_repository - INFO  - Flashcard: The [[winie]] are filthy.;pigs
, successfully added.
2025-02-22 14:45:33,848 - word_repository      - INFO  - Getting the top word: pig
2025-02-22 14:45:33,848 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 14:45:33,856 - word_repository      - DEBUG - ['bird', 'dog', 'cat']
2025-02-22 14:45:33,856 - word_repository      - INFO  - Words saved successfully.
2025-02-22 14:45:33,858 - word_repository      - INFO  - Word pig deleted successfully. Beginning word changed: True
2025-02-22 14:45:33,858 - word_repository      - INFO  - Getting the top word: bird
2025-02-22 14:45:33,859 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 14:45:33,860 - LLMModels            - INFO  - Requesting: bird
2025-02-22 14:45:33,863 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'bird'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:45:33,870 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:45:33,871 - httpcore.connection  - DEBUG - close.started
2025-02-22 14:45:33,871 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:45:33,872 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:45:33,879 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028B7E1C1250>
2025-02-22 14:45:33,880 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028B7E13F350> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:45:33,899 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028B7E1C0FB0>
2025-02-22 14:45:33,900 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:45:33,901 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:45:33,901 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:45:33,902 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:45:33,902 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:45:37,573 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:45:37 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:45:35Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:45:36Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:45:37Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:45:36Z'), (b'request-id', b'req_01WFuZyzZVKLTYtSUzv26SnD'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6ad3df8ab241-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:45:37,578 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:45:37,578 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:45:37,579 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:45:37,579 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:45:37,579 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:45:37,581 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:45:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:45:35Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:45:36Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:45:37Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:45:36Z', 'request-id': 'req_01WFuZyzZVKLTYtSUzv26SnD', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6ad3df8ab241-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:45:37,583 - anthropic._base_client - DEBUG - request_id: req_01WFuZyzZVKLTYtSUzv26SnD
2025-02-22 14:45:37,584 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=255
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 14:45:37,586 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "ptak": "5/5",
        "ptaszek": "3/5",
        "latacz": "1/5"
    },
    "Uycie": "Rzeczownik, ciepokrwiste zwierz pokryte pirami, zazwyczaj zdolne do lotu",
    "Zdanie": "The colorful bird sang beautifully.",
    "Tumaczenie": "Kolorowy ptak piknie piewa.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["natura", "zwierzta", "ornitologia"],
    "Synonimy": {
        "fowl": "drb - 2/5",
        "avian": "ptasi - 3/5",
        "feathered friend": "skrzydlaty przyjaciel - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 14:45:37,588 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:45:37,589 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' ptak: 5/5\n ptaszek: 3/5\n latacz: 1/5'), ('Uycie', 'Rzeczownik, ciepokrwiste zwierz pokryte pirami, zazwyczaj zdolne do lotu'), ('Zdanie', 'The colorful bird sang beautifully.'), ('Tumaczenie', 'Kolorowy ptak piknie piewa.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'natura, zwierzta, ornitologia'), ('Synonimy', ' fowl: drb - 2/5\n avian: ptasi - 3/5\n feathered friend: skrzydlaty przyjaciel - 2/5'), ('is_word_correct', 'ok')]
2025-02-22 14:45:37,591 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 14:45:37,591 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 14:45:37,591 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 14:46:11,890 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 14:46:11,890 - word_repository      - INFO  - Getting the top word: bird
2025-02-22 14:46:11,890 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-22 14:46:11,890 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-22 14:46:11,890 - LLMModels            - INFO  - Requesting: I like birds
2025-02-22 14:46:11,890 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I like birds'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:46:11,904 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:46:11,905 - httpcore.connection  - DEBUG - close.started
2025-02-22 14:46:11,905 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:46:11,906 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:46:11,914 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028B7E1C2D20>
2025-02-22 14:46:11,914 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028B7E13F350> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:46:11,931 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028B7E1C2C30>
2025-02-22 14:46:11,932 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:46:11,933 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:46:11,934 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:46:11,934 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:46:11,935 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:46:13,988 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:46:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:46:13Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:46:13Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:46:14Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:46:13Z'), (b'request-id', b'req_013TLKg9YgGamwYkgTHVoUaD'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6bc18810026e-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:46:13,992 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:46:13,993 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:46:13,993 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:46:13,994 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:46:13,995 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:46:13,995 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:46:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:46:13Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:46:13Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:46:14Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:46:13Z', 'request-id': 'req_013TLKg9YgGamwYkgTHVoUaD', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6bc18810026e-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:46:13,998 - anthropic._base_client - DEBUG - request_id: req_013TLKg9YgGamwYkgTHVoUaD
2025-02-22 14:46:13,999 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=10
output_tokens=104
Cache hit rate: 99.1%
Tokens saved: 1143
2025-02-22 14:46:14,000 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Poprawne, ale bardzo proste",
"Zdanie angielskie": "I like birds.",
"Tumaczenie zdania": "Lubi ptaki.",
"notatka": "To proste zdanie moe by rozbudowane, np. 'I like watching birds in the park.'"
}
2025-02-22 14:46:14,001 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:46:14,002 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Poprawne'), ('Naturalno jzykowa', 'Poprawne, ale bardzo proste'), ('Zdanie angielskie', 'I like birds.'), ('Tumaczenie zdania', 'Lubi ptaki.'), ('notatka', "To proste zdanie moe by rozbudowane, np. 'I like watching birds in the park.'")]
2025-02-22 14:46:14,004 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 14:46:14,005 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 14:46:14,006 - anki_adder           - DEBUG - Creading flashcard
2025-02-22 14:46:14,006 - queris               - DEBUG - Safe execution of get falshcard
2025-02-22 14:46:14,007 - LLMModels            - INFO  - Requesting: I like birds.:bird
2025-02-22 14:46:14,010 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I like birds.:bird'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:46:14,016 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:46:14,017 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:46:14,018 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:46:14,018 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:46:14,019 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:46:14,020 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:46:14,909 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:46:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:46:15Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:46:15Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:46:14Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:46:14Z'), (b'request-id', b'req_01CPQj4TrPFChQiqAVhEkrWZ'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6bce9d0a026e-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:46:14,909 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:46:14,909 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:46:14,909 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:46:14,909 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:46:14,909 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:46:14,909 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:46:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:46:15Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:46:15Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:46:14Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:46:14Z', 'request-id': 'req_01CPQj4TrPFChQiqAVhEkrWZ', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6bce9d0a026e-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:46:14,919 - anthropic._base_client - DEBUG - request_id: req_01CPQj4TrPFChQiqAVhEkrWZ
2025-02-22 14:46:14,921 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1007
output_tokens=29
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 14:46:14,922 - formatter            - DEBUG - json str:{
"Zdanie": "I like [[ptaki]].",
"Wyraz": "birds"
}
2025-02-22 14:46:14,923 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:46:14,924 - formatter            - DEBUG - formatted parts: [('Zdanie', 'I like [[ptaki]].'), ('Wyraz', 'birds')]
2025-02-22 14:46:14,924 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 14:46:14,925 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 14:46:14,925 - queris               - DEBUG - parts: [('Zdanie', 'I like [[ptaki]].'), ('Wyraz', 'birds')], data: {<ResponseField.FRONT: 'Zdanie'>: 'I like [[ptaki]].', <ResponseField.BACK: 'Wyraz'>: 'birds'}
2025-02-22 14:46:14,926 - anki_adder           - DEBUG - Inserting flashcard
2025-02-22 14:46:17,140 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 14:46:17,140 - anki_adder           - ERROR - No front or back of the flashcard. Front: I like [[ptaki]]., back:birds
2025-02-22 14:46:17,140 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 14:46:17,148 - flashcard_repository - INFO  - Flashcard: I like [[ptaki]].;birds
, successfully added.
2025-02-22 14:46:17,148 - word_repository      - INFO  - Getting the top word: bird
2025-02-22 14:46:17,148 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 14:46:17,148 - word_repository      - DEBUG - ['dog', 'cat']
2025-02-22 14:46:17,148 - word_repository      - INFO  - Words saved successfully.
2025-02-22 14:46:17,148 - word_repository      - INFO  - Word bird deleted successfully. Beginning word changed: True
2025-02-22 14:46:17,148 - word_repository      - INFO  - Getting the top word: dog
2025-02-22 14:46:17,148 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 14:46:17,153 - LLMModels            - INFO  - Requesting: dog
2025-02-22 14:46:17,157 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'dog'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:46:17,165 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:46:17,166 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:46:17,167 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:46:17,168 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:46:17,169 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:46:17,170 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:46:20,539 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:46:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:46:18Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:46:19Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:46:20Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:46:19Z'), (b'request-id', b'req_01JhPpboQvNEGbY4nVEzTFDF'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6be24887026e-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:46:20,540 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:46:20,540 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:46:20,540 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:46:20,540 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:46:20,540 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:46:20,546 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:46:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:46:18Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:46:19Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:46:20Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:46:19Z', 'request-id': 'req_01JhPpboQvNEGbY4nVEzTFDF', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6be24887026e-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:46:20,549 - anthropic._base_client - DEBUG - request_id: req_01JhPpboQvNEGbY4nVEzTFDF
2025-02-22 14:46:20,549 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=242
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 14:46:20,549 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "pies": "5/5",
        "szczeniak": "3/5",
        "kundel": "2/5"
    },
    "Uycie": "Rzeczownik, udomowione zwierz z rodziny psowatych",
    "Zdanie": "The dog barks at night.",
    "Tumaczenie": "Pies szczeka w nocy.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["zwierzta domowe", "hodowla", "weterynaria"],
    "Synonimy": {
        "canine": "psi - 3/5",
        "hound": "pies goczy - 2/5",
        "pooch": "piesek (potocznie) - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 14:46:20,549 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:46:20,555 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' pies: 5/5\n szczeniak: 3/5\n kundel: 2/5'), ('Uycie', 'Rzeczownik, udomowione zwierz z rodziny psowatych'), ('Zdanie', 'The dog barks at night.'), ('Tumaczenie', 'Pies szczeka w nocy.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'zwierzta domowe, hodowla, weterynaria'), ('Synonimy', ' canine: psi - 3/5\n hound: pies goczy - 2/5\n pooch: piesek (potocznie) - 2/5'), ('is_word_correct', 'ok')]
2025-02-22 14:46:20,555 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 14:46:20,556 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 14:46:20,557 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 14:46:28,263 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 14:46:28,263 - word_repository      - INFO  - Getting the top word: dog
2025-02-22 14:46:28,263 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-22 14:46:28,263 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-22 14:46:28,263 - LLMModels            - INFO  - Requesting: this is dog
2025-02-22 14:46:28,268 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'this is dog'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:46:28,277 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:46:28,278 - httpcore.connection  - DEBUG - close.started
2025-02-22 14:46:28,279 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:46:28,279 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:46:28,290 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028B7E1C86E0>
2025-02-22 14:46:28,290 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028B7E13F350> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:46:28,308 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028B7E1C85F0>
2025-02-22 14:46:28,308 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:46:28,313 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:46:28,314 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:46:28,315 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:46:28,316 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:46:30,828 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:46:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:46:29Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:46:30Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:46:30Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:46:30Z'), (b'request-id', b'req_013TULT6VYYvnJHhwYQEnkym'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6c27e814b60d-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:46:30,828 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:46:30,828 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:46:30,828 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:46:30,828 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:46:30,828 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:46:30,837 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:46:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:46:29Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:46:30Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:46:30Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:46:30Z', 'request-id': 'req_013TULT6VYYvnJHhwYQEnkym', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6c27e814b60d-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:46:30,839 - anthropic._base_client - DEBUG - request_id: req_013TULT6VYYvnJHhwYQEnkym
2025-02-22 14:46:30,841 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=10
output_tokens=133
Cache hit rate: 99.1%
Tokens saved: 1143
2025-02-22 14:46:30,842 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Brak przedimka przed rzeczownikiem 'dog'",
"Naturalno jzykowa": "Nienaturalne - brak kontekstu, zbyt krtkie",
"Zdanie angielskie": "This is a dog.",
"Tumaczenie zdania": "To jest pies.",
"notatka": "Przed rzeczownikami policzalnymi w liczbie pojedynczej zwykle uywamy przedimka 'a' lub 'the'."
}
2025-02-22 14:46:30,844 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:46:30,845 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Brak przedimka przed rzeczownikiem 'dog'"), ('Naturalno jzykowa', 'Nienaturalne - brak kontekstu, zbyt krtkie'), ('Zdanie angielskie', 'This is a dog.'), ('Tumaczenie zdania', 'To jest pies.'), ('notatka', "Przed rzeczownikami policzalnymi w liczbie pojedynczej zwykle uywamy przedimka 'a' lub 'the'.")]
2025-02-22 14:46:30,846 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 14:46:30,847 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 14:46:30,847 - anki_adder           - DEBUG - Creading flashcard
2025-02-22 14:46:30,847 - queris               - DEBUG - Safe execution of get falshcard
2025-02-22 14:46:30,848 - LLMModels            - INFO  - Requesting: This is a dog.:dog
2025-02-22 14:46:30,848 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'This is a dog.:dog'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:46:30,856 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:46:30,857 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:46:30,858 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:46:30,858 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:46:30,858 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:46:30,858 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:46:31,890 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:46:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:46:32Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:46:32Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:46:31Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:46:31Z'), (b'request-id', b'req_01U1TWntggi6SFH3PmY2Md96'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6c37dd9fb60d-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:46:31,898 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:46:31,898 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:46:31,898 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:46:31,898 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:46:31,898 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:46:31,902 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:46:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:46:32Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:46:32Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:46:31Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:46:31Z', 'request-id': 'req_01U1TWntggi6SFH3PmY2Md96', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6c37dd9fb60d-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:46:31,905 - anthropic._base_client - DEBUG - request_id: req_01U1TWntggi6SFH3PmY2Md96
2025-02-22 14:46:31,905 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1008
output_tokens=30
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 14:46:31,907 - formatter            - DEBUG - json str:{
"Zdanie": "This is a [[pies]].",
"Wyraz": "dog"
}
2025-02-22 14:46:31,908 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:46:31,909 - formatter            - DEBUG - formatted parts: [('Zdanie', 'This is a [[pies]].'), ('Wyraz', 'dog')]
2025-02-22 14:46:31,909 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 14:46:31,910 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 14:46:31,911 - queris               - DEBUG - parts: [('Zdanie', 'This is a [[pies]].'), ('Wyraz', 'dog')], data: {<ResponseField.FRONT: 'Zdanie'>: 'This is a [[pies]].', <ResponseField.BACK: 'Wyraz'>: 'dog'}
2025-02-22 14:46:31,911 - anki_adder           - DEBUG - Inserting flashcard
2025-02-22 14:46:35,159 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 14:46:35,159 - anki_adder           - ERROR - No front or back of the flashcard. Front: This is a [[pies]]., back:dog
2025-02-22 14:46:35,159 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 14:46:35,159 - flashcard_repository - INFO  - Flashcard: This is a [[pies]].;dog
, successfully added.
2025-02-22 14:46:35,159 - word_repository      - INFO  - Getting the top word: dog
2025-02-22 14:46:35,159 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 14:46:35,159 - word_repository      - DEBUG - ['cat']
2025-02-22 14:46:35,168 - word_repository      - INFO  - Words saved successfully.
2025-02-22 14:46:35,168 - word_repository      - INFO  - Word dog deleted successfully. Beginning word changed: True
2025-02-22 14:46:35,168 - word_repository      - INFO  - Getting the top word: cat
2025-02-22 14:46:35,170 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 14:46:35,170 - LLMModels            - INFO  - Requesting: cat
2025-02-22 14:46:35,173 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'cat'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:46:35,178 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:46:35,183 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:46:35,183 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:46:35,184 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:46:35,185 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:46:35,185 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:46:38,625 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:46:38 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:46:36Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:46:37Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:46:38Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:46:37Z'), (b'request-id', b'req_01EDBfWqTaRVNxWuYeNfgGYQ'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6c52d992b60d-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:46:38,628 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:46:38,628 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:46:38,628 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:46:38,628 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:46:38,628 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:46:38,628 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:46:38 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:46:36Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:46:37Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:46:38Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:46:37Z', 'request-id': 'req_01EDBfWqTaRVNxWuYeNfgGYQ', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6c52d992b60d-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:46:38,634 - anthropic._base_client - DEBUG - request_id: req_01EDBfWqTaRVNxWuYeNfgGYQ
2025-02-22 14:46:38,635 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=231
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 14:46:38,636 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "kot": "5/5",
        "kotka": "4/5",
        "kotek": "3/5"
    },
    "Uycie": "Rzeczownik, mae futrzaste zwierz domowe z rodziny kotowatych",
    "Zdanie": "The cat sleeps on the sofa.",
    "Tumaczenie": "Kot pi na kanapie.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["zwierzta domowe", "fauna", "domownicy"],
    "Synonimy": {
        "feline": "kot - 3/5",
        "kitty": "kotek - 4/5",
        "puss": "kicia - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 14:46:38,638 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:46:38,640 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' kot: 5/5\n kotka: 4/5\n kotek: 3/5'), ('Uycie', 'Rzeczownik, mae futrzaste zwierz domowe z rodziny kotowatych'), ('Zdanie', 'The cat sleeps on the sofa.'), ('Tumaczenie', 'Kot pi na kanapie.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'zwierzta domowe, fauna, domownicy'), ('Synonimy', ' feline: kot - 3/5\n kitty: kotek - 4/5\n puss: kicia - 2/5'), ('is_word_correct', 'ok')]
2025-02-22 14:46:38,642 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 14:46:38,643 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 14:46:38,644 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 14:46:47,558 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 14:46:47,558 - word_repository      - INFO  - Getting the top word: cat
2025-02-22 14:46:47,558 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-22 14:46:47,558 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-22 14:46:47,558 - LLMModels            - INFO  - Requesting: i dont like cats
2025-02-22 14:46:47,568 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'i dont like cats'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:46:47,575 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:46:47,576 - httpcore.connection  - DEBUG - close.started
2025-02-22 14:46:47,577 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:46:47,577 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:46:47,584 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028B7E1CAA50>
2025-02-22 14:46:47,585 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028B7E13F350> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:46:47,599 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028B7E1CA660>
2025-02-22 14:46:47,599 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:46:47,599 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:46:47,599 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:46:47,599 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:46:47,599 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:46:50,188 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:46:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:46:49Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:46:49Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:46:50Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:46:49Z'), (b'request-id', b'req_0192TcTnS3Eu3pFz4bXJs8Ap'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6ca07cf9b246-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:46:50,190 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:46:50,190 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:46:50,190 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:46:50,190 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:46:50,190 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:46:50,190 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:46:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:46:49Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:46:49Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:46:50Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:46:49Z', 'request-id': 'req_0192TcTnS3Eu3pFz4bXJs8Ap', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6ca07cf9b246-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:46:50,197 - anthropic._base_client - DEBUG - request_id: req_0192TcTnS3Eu3pFz4bXJs8Ap
2025-02-22 14:46:50,198 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=11
output_tokens=130
Cache hit rate: 99.0%
Tokens saved: 1143
2025-02-22 14:46:50,199 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Brak apostrofu w 'don't', brak kropki na kocu zdania",
"Naturalno jzykowa": "Poprawne, ale nieformalne",
"Zdanie angielskie": "I don't like cats.",
"Tumaczenie zdania": "Nie lubi kotw.",
"notatka": "W jzyku pisanym zawsze uywaj apostrofu w skrconych formach, takich jak 'don't'."
}
2025-02-22 14:46:50,201 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:46:50,202 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Brak apostrofu w 'don't', brak kropki na kocu zdania"), ('Naturalno jzykowa', 'Poprawne, ale nieformalne'), ('Zdanie angielskie', "I don't like cats."), ('Tumaczenie zdania', 'Nie lubi kotw.'), ('notatka', "W jzyku pisanym zawsze uywaj apostrofu w skrconych formach, takich jak 'don't'.")]
2025-02-22 14:46:50,202 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 14:46:50,204 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 14:46:50,205 - anki_adder           - DEBUG - Creading flashcard
2025-02-22 14:46:50,205 - queris               - DEBUG - Safe execution of get falshcard
2025-02-22 14:46:50,206 - LLMModels            - INFO  - Requesting: I don't like cats.:cat
2025-02-22 14:46:50,209 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "I don't like cats.:cat"}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:46:50,216 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:46:50,218 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:46:50,218 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:46:50,219 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:46:50,220 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:46:50,220 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:46:51,328 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:46:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:46:51Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:46:51Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:46:51Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:46:51Z'), (b'request-id', b'req_01UUZRzE9QfDdieeXFv43wpY'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6cb0de99b246-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:46:51,340 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:46:51,340 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:46:51,340 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:46:51,340 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:46:51,340 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:46:51,343 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:46:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:46:51Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:46:51Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:46:51Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:46:51Z', 'request-id': 'req_01UUZRzE9QfDdieeXFv43wpY', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6cb0de99b246-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:46:51,345 - anthropic._base_client - DEBUG - request_id: req_01UUZRzE9QfDdieeXFv43wpY
2025-02-22 14:46:51,347 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1009
output_tokens=31
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 14:46:51,348 - formatter            - DEBUG - json str:{
"Zdanie": "I don't like [[koty]].",
"Wyraz": "cats"
}
2025-02-22 14:46:51,349 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:46:51,349 - formatter            - DEBUG - formatted parts: [('Zdanie', "I don't like [[koty]]."), ('Wyraz', 'cats')]
2025-02-22 14:46:51,351 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 14:46:51,351 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 14:46:51,351 - queris               - DEBUG - parts: [('Zdanie', "I don't like [[koty]]."), ('Wyraz', 'cats')], data: {<ResponseField.FRONT: 'Zdanie'>: "I don't like [[koty]].", <ResponseField.BACK: 'Wyraz'>: 'cats'}
2025-02-22 14:46:51,353 - anki_adder           - DEBUG - Inserting flashcard
2025-02-22 14:46:52,540 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 14:46:52,540 - anki_adder           - ERROR - No front or back of the flashcard. Front: I don't like [[koty]]., back:cats
2025-02-22 14:46:52,540 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 14:46:52,540 - flashcard_repository - INFO  - Flashcard: I don't like [[koty]].;cats
, successfully added.
2025-02-22 14:46:52,540 - word_repository      - INFO  - Getting the top word: cat
2025-02-22 14:46:52,540 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 14:46:52,540 - word_repository      - DEBUG - []
2025-02-22 14:46:52,540 - word_repository      - INFO  - Words saved successfully.
2025-02-22 14:46:52,540 - word_repository      - INFO  - Word cat deleted successfully. Beginning word changed: True
2025-02-22 14:46:52,547 - word_repository      - INFO  - Getting the top word: None
2025-02-22 14:46:52,547 - gui.components.translation_view - WARNING - Word is empty!
2025-02-22 14:46:52,548 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 14:46:52,548 - LLMModels            - INFO  - Requesting: None
2025-02-22 14:46:52,550 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': None}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:46:52,558 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:46:52,559 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:46:52,560 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:46:52,561 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:46:52,561 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:46:52,562 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:46:52,698 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Date', b'Sat, 22 Feb 2025 13:46:52 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'118'), (b'Connection', b'keep-alive'), (b'x-should-retry', b'false'), (b'request-id', b'req_011JJLKQjQ6xnRCBXB6ePgJE'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f6cbf7bb6b246-WAW')])
2025-02-22 14:46:52,698 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 400 Bad Request"
2025-02-22 14:46:52,698 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:46:52,698 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:46:52,698 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:46:52,698 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:46:52,698 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "400 Bad Request" Headers({'date': 'Sat, 22 Feb 2025 13:46:52 GMT', 'content-type': 'application/json', 'content-length': '118', 'connection': 'keep-alive', 'x-should-retry': 'false', 'request-id': 'req_011JJLKQjQ6xnRCBXB6ePgJE', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f6cbf7bb6b246-WAW'})
2025-02-22 14:46:52,698 - anthropic._base_client - DEBUG - request_id: req_011JJLKQjQ6xnRCBXB6ePgJE
2025-02-22 14:46:52,706 - anthropic._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 Bad Request' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-02-22 14:46:52,721 - anthropic._base_client - DEBUG - Not retrying as header `x-should-retry` is set to `false`
2025-02-22 14:46:52,721 - anthropic._base_client - DEBUG - Re-raising status error
2025-02-22 14:46:52,722 - LLMModels            - ERROR - Anthropic API error!
2025-02-22 14:46:52,733 - error_handler        - ERROR - Operation failed: Anthropic API error: Error code: 400 - {'type': 'error', 'error': {'type': 'invalid_request_error', 'message': 'messages.0.content: Input should be a valid list'}}
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\LLMModels.py", line 49, in query
    response = self.client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\resources\messages\messages.py", line 904, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1282, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 959, in request
    return self._request(
           ^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1063, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.BadRequestError: Error code: 400 - {'type': 'error', 'error': {'type': 'invalid_request_error', 'message': 'messages.0.content: Input should be a valid list'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\error_handler.py", line 43, in safe_execute
    return operation()
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 126, in <lambda>
    operation=lambda: self._get_translation_impl(word),
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 81, in _get_translation_impl
    model_response = self.lmm.query(word, self.translation_prompt)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\LLMModels.py", line 68, in query
    raise RuntimeError(f"Anthropic API error: {str(e)}")
RuntimeError: Anthropic API error: Error code: 400 - {'type': 'error', 'error': {'type': 'invalid_request_error', 'message': 'messages.0.content: Input should be a valid list'}}

2025-02-22 14:46:52,741 - error_handler        - INFO  - Asking for retry: Word Translation Error for 'None': An error occured: Anthropic API error: Error code: 400 - {'type': 'error', 'error': {'type': 'invalid_request_error', 'message': 'messages.0.content: Input should be a valid list'}}

Would you like to retry?
2025-02-22 14:47:45,655 - error_handler        - CRITICAL - FATAL ERROR - Fatal Error: Can not preceeed!
2025-02-22 14:53:04,170 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 14:53:04,171 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 14:53:04,171 - events               - INFO  - EventManager init.
2025-02-22 14:53:04,172 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 14:53:04,291 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 14:53:04,305 - word_repository      - INFO  - WordRepository init.
2025-02-22 14:53:04,305 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 14:53:04,306 - word_repository      - DEBUG - []
2025-02-22 14:53:04,307 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 14:53:04,309 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 14:53:04,310 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 14:53:04,315 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 14:53:05,121 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 14:53:05,122 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 14:53:05,124 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 14:53:05,124 - word_repository      - INFO  - Getting the top word: None
2025-02-22 14:53:05,125 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 14:53:05,125 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 14:53:05,126 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 14:53:05,127 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 14:53:05,128 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 14:53:05,129 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 14:53:05,130 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 14:53:05,131 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 14:53:08,629 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-22 14:53:08,630 - word_repository      - INFO  - Pushing back toilet.
2025-02-22 14:53:08,630 - word_repository      - INFO  - Array is empty, adding toilet.
2025-02-22 14:53:08,631 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 14:53:08,632 - word_repository      - DEBUG - ['toilet']
2025-02-22 14:53:08,633 - word_repository      - INFO  - Words saved successfully.
2025-02-22 14:53:08,633 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: True
2025-02-22 14:53:08,634 - word_repository      - INFO  - Getting the top word: toilet
2025-02-22 14:53:08,634 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 14:53:08,635 - LLMModels            - INFO  - Requesting: toilet
2025-02-22 14:53:08,639 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'toilet'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:53:08,850 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:53:08,851 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:53:08,901 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000209BF3235F0>
2025-02-22 14:53:08,902 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000209C02374D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:53:08,920 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000209BE76DF70>
2025-02-22 14:53:08,921 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:53:08,922 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:53:08,923 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:53:08,923 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:53:08,924 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:53:12,303 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:53:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:53:10Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:53:11Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:53:12Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:53:11Z'), (b'request-id', b'req_01GNc5t5iaCgvhNMjjwg6aBb'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f75efbdb70247-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:53:12,306 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:53:12,307 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:53:12,308 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:53:12,308 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:53:12,309 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:53:12,310 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:53:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:53:10Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:53:11Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:53:12Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:53:11Z', 'request-id': 'req_01GNc5t5iaCgvhNMjjwg6aBb', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f75efbdb70247-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:53:12,314 - anthropic._base_client - DEBUG - request_id: req_01GNc5t5iaCgvhNMjjwg6aBb
2025-02-22 14:53:12,327 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=251
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 14:53:12,329 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "toaleta": "5/5",
        "ubikacja": "4/5",
        "sedes": "3/5",
        "klozet": "2/5"
    },
    "Uycie": "Rzeczownik, urzdzenie sanitarne do wydalania",
    "Zdanie": "The toilet is in the bathroom.",
    "Tumaczenie": "Toaleta jest w azience.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["higiena", "azienka", "miejsca publiczne"],
    "Synonimy": {
        "lavatory": "ubikacja - 3/5",
        "loo": "kibel (potocznie) - 3/5",
        "restroom": "toaleta (AmE) - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 14:53:12,332 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:53:12,333 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' toaleta: 5/5\n ubikacja: 4/5\n sedes: 3/5\n klozet: 2/5'), ('Uycie', 'Rzeczownik, urzdzenie sanitarne do wydalania'), ('Zdanie', 'The toilet is in the bathroom.'), ('Tumaczenie', 'Toaleta jest w azience.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'higiena, azienka, miejsca publiczne'), ('Synonimy', ' lavatory: ubikacja - 3/5\n loo: kibel (potocznie) - 3/5\n restroom: toaleta (AmE) - 4/5'), ('is_word_correct', 'ok')]
2025-02-22 14:53:12,334 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 14:53:12,335 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 14:53:12,335 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 14:53:20,985 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-22 14:53:20,986 - word_repository      - INFO  - Pushing back manky.
2025-02-22 14:53:20,986 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 14:53:20,987 - word_repository      - DEBUG - ['toilet', 'manky']
2025-02-22 14:53:20,988 - word_repository      - INFO  - Words saved successfully.
2025-02-22 14:53:20,989 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-22 14:53:41,311 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 14:53:41,312 - word_repository      - INFO  - Getting the top word: toilet
2025-02-22 14:53:41,313 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-22 14:53:41,313 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-22 14:53:41,314 - LLMModels            - INFO  - Requesting: Where can i find toilet?
2025-02-22 14:53:41,317 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Where can i find toilet?'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:53:41,323 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:53:41,324 - httpcore.connection  - DEBUG - close.started
2025-02-22 14:53:41,325 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:53:41,325 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:53:41,333 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000209C0299C70>
2025-02-22 14:53:41,334 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000209C02374D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:53:41,348 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000209C0299B80>
2025-02-22 14:53:41,349 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:53:41,350 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:53:41,351 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:53:41,352 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:53:41,352 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:53:44,944 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:53:45 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:53:42Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:53:43Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:53:44Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:53:43Z'), (b'request-id', b'req_012MBpyxWJcg4UqGmtDsMnGh'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f76ba59fbee3e-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:53:44,948 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:53:44,949 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:53:44,950 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:53:44,951 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:53:44,951 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:53:44,952 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:53:45 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:53:42Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:53:43Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:53:44Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:53:43Z', 'request-id': 'req_012MBpyxWJcg4UqGmtDsMnGh', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f76ba59fbee3e-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:53:44,954 - anthropic._base_client - DEBUG - request_id: req_012MBpyxWJcg4UqGmtDsMnGh
2025-02-22 14:53:44,955 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1143
cache_read_input_tokens=0
input_tokens=13
output_tokens=178
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 14:53:44,956 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Bd w pisowni 'i' - powinno by 'I' (dua litera)",
"Naturalno jzykowa": "Nienaturalne uycie 'toilet' - lepiej uy 'restroom' lub 'bathroom' w amerykaskim angielskim",
"Zdanie angielskie": "Where can I find a restroom?",
"Tumaczenie zdania": "Gdzie mog znale toalet?",
"notatka": "W amerykaskim angielskim 'restroom' lub 'bathroom' s bardziej powszechne i grzeczniejsze ni 'toilet'."
}
2025-02-22 14:53:44,958 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:53:44,958 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Bd w pisowni 'i' - powinno by 'I' (dua litera)"), ('Naturalno jzykowa', "Nienaturalne uycie 'toilet' - lepiej uy 'restroom' lub 'bathroom' w amerykaskim angielskim"), ('Zdanie angielskie', 'Where can I find a restroom?'), ('Tumaczenie zdania', 'Gdzie mog znale toalet?'), ('notatka', "W amerykaskim angielskim 'restroom' lub 'bathroom' s bardziej powszechne i grzeczniejsze ni 'toilet'.")]
2025-02-22 14:53:44,960 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 14:53:44,961 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 14:53:44,962 - anki_adder           - DEBUG - Creading flashcard
2025-02-22 14:53:44,963 - queris               - DEBUG - Safe execution of get falshcard
2025-02-22 14:53:44,964 - LLMModels            - INFO  - Requesting: Where can I find a restroom?:toilet
2025-02-22 14:53:44,967 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Where can I find a restroom?:toilet'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:53:44,973 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:53:44,974 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:53:44,975 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:53:44,975 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:53:44,976 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:53:44,977 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:53:46,264 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:53:46 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:53:46Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:53:46Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:53:46Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:53:46Z'), (b'request-id', b'req_01MDkJBhpNuJgtbegqcuWvbR'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f76d10d79ee3e-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:53:46,267 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:53:46,267 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:53:46,268 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:53:46,269 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:53:46,269 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:53:46,270 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:53:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:53:46Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:53:46Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:53:46Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:53:46Z', 'request-id': 'req_01MDkJBhpNuJgtbegqcuWvbR', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f76d10d79ee3e-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:53:46,272 - anthropic._base_client - DEBUG - request_id: req_01MDkJBhpNuJgtbegqcuWvbR
2025-02-22 14:53:46,273 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1012
output_tokens=36
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 14:53:46,274 - formatter            - DEBUG - json str:{
"Zdanie": "Where can I find a [[toalet]]?",
"Wyraz": "restroom"
}
2025-02-22 14:53:46,275 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:53:46,275 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Where can I find a [[toalet]]?'), ('Wyraz', 'restroom')]
2025-02-22 14:53:46,276 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 14:53:46,276 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 14:53:46,277 - queris               - DEBUG - parts: [('Zdanie', 'Where can I find a [[toalet]]?'), ('Wyraz', 'restroom')], data: {<ResponseField.FRONT: 'Zdanie'>: 'Where can I find a [[toalet]]?', <ResponseField.BACK: 'Wyraz'>: 'restroom'}
2025-02-22 14:53:46,278 - anki_adder           - DEBUG - Inserting flashcard
2025-02-22 14:55:30,506 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 14:55:30,507 - anki_adder           - ERROR - No front or back of the flashcard. Front: Where can I find a [[toalet]]?, back:restroom
2025-02-22 14:55:30,507 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 14:55:30,508 - flashcard_repository - INFO  - Flashcard: Where can I find a [[toalet]]?;restroom
, successfully added.
2025-02-22 14:55:30,509 - word_repository      - INFO  - Getting the top word: toilet
2025-02-22 14:55:30,510 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 14:55:30,511 - word_repository      - DEBUG - ['manky']
2025-02-22 14:55:30,511 - word_repository      - INFO  - Words saved successfully.
2025-02-22 14:55:30,512 - word_repository      - INFO  - Word toilet deleted successfully. Beginning word changed: True
2025-02-22 14:55:30,513 - word_repository      - INFO  - Getting the top word: manky
2025-02-22 14:55:30,514 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 14:55:30,514 - LLMModels            - INFO  - Requesting: manky
2025-02-22 14:55:30,517 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'manky'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:55:30,526 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:55:30,527 - httpcore.connection  - DEBUG - close.started
2025-02-22 14:55:30,528 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:55:30,529 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:55:30,538 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000209C02C1250>
2025-02-22 14:55:30,539 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000209C02374D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:55:30,556 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000209C02C0FB0>
2025-02-22 14:55:30,557 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:55:30,558 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:55:30,558 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:55:30,559 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:55:30,560 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:55:34,532 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:55:34 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:55:31Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:55:33Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:55:34Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:55:33Z'), (b'request-id', b'req_01MuZmVvob9VYHrui2anGfr9'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f7964ee68bf36-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:55:34,534 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:55:34,535 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:55:34,536 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:55:34,536 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:55:34,537 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:55:34,538 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:55:34 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:55:31Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:55:33Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:55:34Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:55:33Z', 'request-id': 'req_01MuZmVvob9VYHrui2anGfr9', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f7964ee68bf36-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:55:34,540 - anthropic._base_client - DEBUG - request_id: req_01MuZmVvob9VYHrui2anGfr9
2025-02-22 14:55:34,541 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=9
output_tokens=267
Cache hit rate: 99.4%
Tokens saved: 1484
2025-02-22 14:55:34,542 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "brudny": "4/5",
        "obrzydliwy": "3/5",
        "odpychajcy": "3/5",
        "odraajcy": "2/5"
    },
    "Uycie": "Przymiotnik, opisujcy co brudnego, nieprzyjemnego lub w zym stanie",
    "Zdanie": "The manky carpet needs cleaning.",
    "Tumaczenie": "Ten brudny dywan wymaga czyszczenia.",
    "Czstotliwo": "2/5, B2",
    "Konteksty": ["higiena", "stan przedmiotw", "opis negatywny"],
    "Synonimy": {
        "filthy": "brudny - 4/5",
        "grimy": "zabrudzony - 3/5",
        "disgusting": "obrzydliwy - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 14:55:34,545 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:55:34,546 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' brudny: 4/5\n obrzydliwy: 3/5\n odpychajcy: 3/5\n odraajcy: 2/5'), ('Uycie', 'Przymiotnik, opisujcy co brudnego, nieprzyjemnego lub w zym stanie'), ('Zdanie', 'The manky carpet needs cleaning.'), ('Tumaczenie', 'Ten brudny dywan wymaga czyszczenia.'), ('Czstotliwo', '2/5, B2'), ('Konteksty', 'higiena, stan przedmiotw, opis negatywny'), ('Synonimy', ' filthy: brudny - 4/5\n grimy: zabrudzony - 3/5\n disgusting: obrzydliwy - 4/5'), ('is_word_correct', 'ok')]
2025-02-22 14:55:34,548 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 14:55:34,549 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 14:55:34,550 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 14:55:55,573 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 14:55:55,574 - word_repository      - INFO  - Getting the top word: manky
2025-02-22 14:55:55,575 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-22 14:55:55,575 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-22 14:55:55,576 - LLMModels            - INFO  - Requesting: The manky man came to me
2025-02-22 14:55:55,578 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'The manky man came to me'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:55:55,585 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:55:55,586 - httpcore.connection  - DEBUG - close.started
2025-02-22 14:55:55,587 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:55:55,587 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:55:55,599 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000209C02C2D50>
2025-02-22 14:55:55,600 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000209C02374D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:55:55,611 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000209C02C2C60>
2025-02-22 14:55:55,612 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:55:55,613 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:55:55,614 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:55:55,615 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:55:55,615 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:55:58,247 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:55:58 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:55:57Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:55:57Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:55:58Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:55:57Z'), (b'request-id', b'req_015TMECHoQRQNRkXEYTjFxVH'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f7a017adebf5b-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:55:58,250 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:55:58,252 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:55:58,253 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:55:58,253 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:55:58,253 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:55:58,254 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:55:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:55:57Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:55:57Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:55:58Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:55:57Z', 'request-id': 'req_015TMECHoQRQNRkXEYTjFxVH', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f7a017adebf5b-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:55:58,256 - anthropic._base_client - DEBUG - request_id: req_015TMECHoQRQNRkXEYTjFxVH
2025-02-22 14:55:58,257 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=14
output_tokens=174
Cache hit rate: 98.8%
Tokens saved: 1143
2025-02-22 14:55:58,259 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Nienaturalne uycie sowa 'manky' - rzadko uywane w formalnym jzyku",
"Zdanie angielskie": "The manky man came to me.",
"Tumaczenie zdania": "Brudny/obrzydliwy czowiek przyszed do mnie.",
"notatka": "'Manky' to bardzo potoczne brytyjskie sowo oznaczajce co brudnego lub obrzydliwego. W bardziej formalnym lub neutralnym kontekcie lepiej uy 'dirty' lub 'filthy'."
}
2025-02-22 14:55:58,261 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:55:58,262 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Poprawne'), ('Naturalno jzykowa', "Nienaturalne uycie sowa 'manky' - rzadko uywane w formalnym jzyku"), ('Zdanie angielskie', 'The manky man came to me.'), ('Tumaczenie zdania', 'Brudny/obrzydliwy czowiek przyszed do mnie.'), ('notatka', "'Manky' to bardzo potoczne brytyjskie sowo oznaczajce co brudnego lub obrzydliwego. W bardziej formalnym lub neutralnym kontekcie lepiej uy 'dirty' lub 'filthy'.")]
2025-02-22 14:55:58,263 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 14:55:58,264 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 14:55:58,265 - anki_adder           - DEBUG - Creading flashcard
2025-02-22 14:55:58,265 - queris               - DEBUG - Safe execution of get falshcard
2025-02-22 14:55:58,266 - LLMModels            - INFO  - Requesting: The manky man came to me.:manky
2025-02-22 14:55:58,269 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'The manky man came to me.:manky'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:55:58,274 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:55:58,276 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:55:58,277 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:55:58,277 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:55:58,278 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:55:58,279 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:55:59,671 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:55:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:55:59Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:56:00Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:55:59Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:55:59Z'), (b'request-id', b'req_01ESUWiK3B6sj7ecrdMh2zi7'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f7a122be0bf5b-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:55:59,673 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:55:59,675 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:55:59,676 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:55:59,676 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:55:59,677 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:55:59,677 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:55:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:55:59Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:56:00Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:55:59Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:55:59Z', 'request-id': 'req_01ESUWiK3B6sj7ecrdMh2zi7', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f7a122be0bf5b-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:55:59,680 - anthropic._base_client - DEBUG - request_id: req_01ESUWiK3B6sj7ecrdMh2zi7
2025-02-22 14:55:59,681 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1012
output_tokens=36
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 14:55:59,682 - formatter            - DEBUG - json str:{
"Zdanie": "The [[obrzydliwy]] man came to me.",
"Wyraz": "manky"
}
2025-02-22 14:55:59,682 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:55:59,683 - formatter            - DEBUG - formatted parts: [('Zdanie', 'The [[obrzydliwy]] man came to me.'), ('Wyraz', 'manky')]
2025-02-22 14:55:59,684 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 14:55:59,684 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 14:55:59,685 - queris               - DEBUG - parts: [('Zdanie', 'The [[obrzydliwy]] man came to me.'), ('Wyraz', 'manky')], data: {<ResponseField.FRONT: 'Zdanie'>: 'The [[obrzydliwy]] man came to me.', <ResponseField.BACK: 'Wyraz'>: 'manky'}
2025-02-22 14:55:59,686 - anki_adder           - DEBUG - Inserting flashcard
2025-02-22 14:56:43,250 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 14:56:43,251 - anki_adder           - ERROR - No front or back of the flashcard. Front: The [[obrzydliwy]] man came to me., back:manky
2025-02-22 14:56:43,252 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 14:56:43,253 - flashcard_repository - INFO  - Flashcard: The [[obrzydliwy]] man came to me.;manky
, successfully added.
2025-02-22 14:56:43,254 - word_repository      - INFO  - Getting the top word: manky
2025-02-22 14:56:43,254 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 14:56:43,255 - word_repository      - DEBUG - []
2025-02-22 14:56:43,255 - word_repository      - INFO  - Words saved successfully.
2025-02-22 14:56:43,256 - word_repository      - INFO  - Word manky deleted successfully. Beginning word changed: True
2025-02-22 14:56:43,256 - word_repository      - INFO  - Getting the top word: None
2025-02-22 14:56:43,257 - anki_adder           - WARNING - No word to tranlsate
2025-02-22 14:56:55,365 - httpcore.connection  - DEBUG - close.started
2025-02-22 14:56:55,368 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:59:01,856 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 14:59:01,857 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 14:59:01,857 - events               - INFO  - EventManager init.
2025-02-22 14:59:01,858 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 14:59:01,967 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 14:59:01,980 - word_repository      - INFO  - WordRepository init.
2025-02-22 14:59:01,981 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 14:59:01,982 - word_repository      - DEBUG - []
2025-02-22 14:59:01,982 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 14:59:01,984 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 14:59:01,985 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 14:59:01,989 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 14:59:02,748 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 14:59:02,750 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 14:59:02,751 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 14:59:02,752 - word_repository      - INFO  - Getting the top word: None
2025-02-22 14:59:02,753 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 14:59:02,753 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 14:59:02,753 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 14:59:02,754 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 14:59:02,754 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 14:59:02,755 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 14:59:02,756 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 14:59:02,756 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 14:59:07,562 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-22 14:59:07,563 - word_repository      - INFO  - Pushing back pizza.
2025-02-22 14:59:07,564 - word_repository      - INFO  - Array is empty, adding pizza.
2025-02-22 14:59:07,564 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 14:59:07,565 - word_repository      - DEBUG - ['pizza']
2025-02-22 14:59:07,566 - word_repository      - INFO  - Words saved successfully.
2025-02-22 14:59:07,567 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: True
2025-02-22 14:59:07,567 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 14:59:07,568 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 14:59:07,568 - LLMModels            - INFO  - Requesting: pizza
2025-02-22 14:59:07,572 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:59:07,771 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:59:07,772 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:59:07,808 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C8541229C0>
2025-02-22 14:59:07,809 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C855037450> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:59:07,825 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C853C4A690>
2025-02-22 14:59:07,826 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:59:07,827 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:59:07,827 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:59:07,828 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:59:07,828 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:59:10,987 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:59:11 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:59:09Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:59:10Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:59:11Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:59:10Z'), (b'request-id', b'req_01XHMkP9jTKBuDtyXnRj4Tcy'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f7eb2ddedb218-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:59:10,990 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:59:10,991 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:59:10,992 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:59:10,993 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:59:10,993 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:59:10,994 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:59:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:59:09Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:59:10Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:59:11Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:59:10Z', 'request-id': 'req_01XHMkP9jTKBuDtyXnRj4Tcy', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f7eb2ddedb218-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:59:10,996 - anthropic._base_client - DEBUG - request_id: req_01XHMkP9jTKBuDtyXnRj4Tcy
2025-02-22 14:59:11,008 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=206
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 14:59:11,010 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "pizza": "5/5",
        "placek": "1/5"
    },
    "Uycie": "Rzeczownik, popularne danie skadajce si z ciasta i rnych dodatkw",
    "Zdanie": "Let's order a pepperoni pizza.",
    "Tumaczenie": "Zamwmy pizz pepperoni.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["jedzenie", "fast food", "kuchnia woska"],
    "Synonimy": {
        "pie": "placek - 2/5",
        "flatbread": "placek - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 14:59:11,012 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:59:11,013 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' pizza: 5/5\n placek: 1/5'), ('Uycie', 'Rzeczownik, popularne danie skadajce si z ciasta i rnych dodatkw'), ('Zdanie', "Let's order a pepperoni pizza."), ('Tumaczenie', 'Zamwmy pizz pepperoni.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'jedzenie, fast food, kuchnia woska'), ('Synonimy', ' pie: placek - 2/5\n flatbread: placek - 2/5'), ('is_word_correct', 'ok')]
2025-02-22 14:59:11,014 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 14:59:11,015 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 14:59:11,016 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 14:59:50,901 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 14:59:50,903 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 14:59:50,903 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-22 14:59:50,904 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-22 14:59:50,904 - LLMModels            - INFO  - Requesting: I like pizza
2025-02-22 14:59:50,907 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I like pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:59:50,914 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:59:50,915 - httpcore.connection  - DEBUG - close.started
2025-02-22 14:59:50,916 - httpcore.connection  - DEBUG - close.complete
2025-02-22 14:59:50,916 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 14:59:50,946 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C855099C10>
2025-02-22 14:59:50,947 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C855037450> server_hostname='api.anthropic.com' timeout=600
2025-02-22 14:59:50,967 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C853BC9EE0>
2025-02-22 14:59:50,968 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:59:50,969 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:59:50,970 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:59:50,971 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:59:50,971 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:59:53,166 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:59:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:59:52Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:59:53Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:59:53Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:59:53Z'), (b'request-id', b'req_01FaXxeJ4G2svTy1vwXBB3bD'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f7fc07ec1b249-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:59:53,172 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:59:53,173 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:59:53,174 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:59:53,176 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:59:53,176 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:59:53,177 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:59:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:59:52Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:59:53Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:59:53Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:59:53Z', 'request-id': 'req_01FaXxeJ4G2svTy1vwXBB3bD', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f7fc07ec1b249-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:59:53,182 - anthropic._base_client - DEBUG - request_id: req_01FaXxeJ4G2svTy1vwXBB3bD
2025-02-22 14:59:53,184 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=10
output_tokens=103
Cache hit rate: 99.1%
Tokens saved: 1143
2025-02-22 14:59:53,186 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Poprawne, ale bardzo proste",
"Zdanie angielskie": "I like pizza.",
"Tumaczenie zdania": "Lubi pizz.",
"notatka": "To proste zdanie mona rozbudowa, np. 'I really like pepperoni pizza.'"
}
2025-02-22 14:59:53,188 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:59:53,189 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Poprawne'), ('Naturalno jzykowa', 'Poprawne, ale bardzo proste'), ('Zdanie angielskie', 'I like pizza.'), ('Tumaczenie zdania', 'Lubi pizz.'), ('notatka', "To proste zdanie mona rozbudowa, np. 'I really like pepperoni pizza.'")]
2025-02-22 14:59:53,190 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 14:59:53,191 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 14:59:53,192 - anki_adder           - DEBUG - Creading flashcard
2025-02-22 14:59:53,193 - queris               - DEBUG - Safe execution of get falshcard
2025-02-22 14:59:53,194 - LLMModels            - INFO  - Requesting: I like pizza.:pizza
2025-02-22 14:59:53,198 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I like pizza.:pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 14:59:53,206 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 14:59:53,207 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 14:59:53,209 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 14:59:53,210 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 14:59:53,212 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 14:59:53,212 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 14:59:54,551 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 13:59:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T13:59:54Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T13:59:54Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T13:59:54Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T13:59:54Z'), (b'request-id', b'req_01JMabKoJtm1YZY1VWJe2jkJ'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f7fce7cd1b249-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 14:59:54,554 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 14:59:54,554 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 14:59:54,555 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 14:59:54,556 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 14:59:54,556 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 14:59:54,557 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 13:59:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T13:59:54Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T13:59:54Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T13:59:54Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T13:59:54Z', 'request-id': 'req_01JMabKoJtm1YZY1VWJe2jkJ', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f7fce7cd1b249-WAW', 'content-encoding': 'gzip'})
2025-02-22 14:59:54,559 - anthropic._base_client - DEBUG - request_id: req_01JMabKoJtm1YZY1VWJe2jkJ
2025-02-22 14:59:54,560 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1007
output_tokens=28
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 14:59:54,561 - formatter            - DEBUG - json str:{
"Zdanie": "I like [[pizza]]",
"Wyraz": "pizza"
}
2025-02-22 14:59:54,562 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 14:59:54,563 - formatter            - DEBUG - formatted parts: [('Zdanie', 'I like [[pizza]]'), ('Wyraz', 'pizza')]
2025-02-22 14:59:54,564 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 14:59:54,564 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 14:59:54,565 - queris               - DEBUG - parts: [('Zdanie', 'I like [[pizza]]'), ('Wyraz', 'pizza')], data: {<ResponseField.FRONT: 'Zdanie'>: 'I like [[pizza]]', <ResponseField.BACK: 'Wyraz'>: 'pizza'}
2025-02-22 14:59:54,566 - anki_adder           - DEBUG - Inserting flashcard
2025-02-22 15:00:09,043 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 15:00:09,043 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 15:00:09,045 - flashcard_repository - INFO  - Flashcard: I like [[pizza]];pizza
, successfully added.
2025-02-22 15:00:09,045 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:00:09,046 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 15:00:09,047 - word_repository      - DEBUG - []
2025-02-22 15:00:09,047 - word_repository      - INFO  - Words saved successfully.
2025-02-22 15:00:09,048 - word_repository      - INFO  - Word pizza deleted successfully. Beginning word changed: True
2025-02-22 15:00:09,049 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:00:09,049 - anki_adder           - WARNING - No word to tranlsate
2025-02-22 15:00:16,457 - httpcore.connection  - DEBUG - close.started
2025-02-22 15:00:16,467 - httpcore.connection  - DEBUG - close.complete
2025-02-22 15:02:18,969 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 15:02:18,970 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 15:02:18,970 - events               - INFO  - EventManager init.
2025-02-22 15:02:18,970 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 15:02:19,080 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 15:02:19,096 - word_repository      - INFO  - WordRepository init.
2025-02-22 15:02:19,097 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 15:02:19,099 - word_repository      - DEBUG - []
2025-02-22 15:02:19,100 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 15:02:19,102 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 15:02:19,103 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 15:02:19,108 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 15:02:19,885 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 15:02:19,886 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 15:02:19,887 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 15:02:19,888 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:02:19,889 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:02:19,889 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:02:19,890 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 15:02:19,891 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 15:02:19,891 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 15:02:19,892 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 15:02:19,892 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 15:02:19,893 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 15:02:30,181 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-22 15:02:30,182 - word_repository      - INFO  - Pushing back mankind.
2025-02-22 15:02:30,183 - word_repository      - INFO  - Array is empty, adding mankind.
2025-02-22 15:02:30,183 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 15:02:30,184 - word_repository      - DEBUG - ['mankind']
2025-02-22 15:02:30,185 - word_repository      - INFO  - Words saved successfully.
2025-02-22 15:02:30,185 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: True
2025-02-22 15:02:30,186 - word_repository      - INFO  - Getting the top word: mankind
2025-02-22 15:02:30,187 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 15:02:30,187 - LLMModels            - INFO  - Requesting: mankind
2025-02-22 15:02:30,191 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'mankind'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:02:30,389 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:02:30,390 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 15:02:30,406 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FC3F134890>
2025-02-22 15:02:30,407 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001FC3FA37450> server_hostname='api.anthropic.com' timeout=600
2025-02-22 15:02:30,422 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FC3E6CA690>
2025-02-22 15:02:30,423 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:02:30,424 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:02:30,425 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:02:30,425 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:02:30,426 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:02:34,255 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:02:34 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:02:31Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:02:32Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:02:34Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:02:32Z'), (b'request-id', b'req_01PU36vQqwMSTXpw5wu8tQm1'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f83a50e9db620-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:02:34,258 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:02:34,259 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:02:34,260 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:02:34,260 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:02:34,261 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:02:34,261 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:02:34 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:02:31Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:02:32Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:02:34Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:02:32Z', 'request-id': 'req_01PU36vQqwMSTXpw5wu8tQm1', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f83a50e9db620-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:02:34,264 - anthropic._base_client - DEBUG - request_id: req_01PU36vQqwMSTXpw5wu8tQm1
2025-02-22 15:02:34,275 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=241
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 15:02:34,277 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "ludzko": "5/5",
        "rodzaj ludzki": "4/5",
        "czowieczestwo": "3/5"
    },
    "Uycie": "Rzeczownik, okrelenie caego gatunku ludzkiego",
    "Zdanie": "This discovery will benefit all mankind.",
    "Tumaczenie": "To odkrycie przyniesie korzyci caej ludzkoci.",
    "Czstotliwo": "4/5, B1",
    "Konteksty": ["historia", "antropologia", "filozofia"],
    "Synonimy": {
        "humanity": "ludzko - 4/5",
        "humankind": "rodzaj ludzki - 3/5",
        "human race": "rasa ludzka - 3/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 15:02:34,280 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:02:34,280 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'ludzko: 5/5\nrodzaj ludzki: 4/5\nczowieczestwo: 3/5'), ('Uycie', 'Rzeczownik, okrelenie caego gatunku ludzkiego'), ('Zdanie', 'This discovery will benefit all mankind.'), ('Tumaczenie', 'To odkrycie przyniesie korzyci caej ludzkoci.'), ('Czstotliwo', '4/5, B1'), ('Konteksty', 'historia, antropologia, filozofia'), ('Synonimy', 'humanity: ludzko - 4/5\nhumankind: rodzaj ludzki - 3/5\nhuman race: rasa ludzka - 3/5'), ('is_word_correct', 'ok')]
2025-02-22 15:02:34,282 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 15:02:34,283 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 15:02:34,283 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 15:03:04,068 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 15:03:04,068 - word_repository      - INFO  - Getting the top word: mankind
2025-02-22 15:03:04,068 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-22 15:03:04,068 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-22 15:03:04,068 - LLMModels            - INFO  - Requesting: I will destroy mankind!!!
2025-02-22 15:03:04,068 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I will destroy mankind!!!'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:03:04,083 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:03:04,084 - httpcore.connection  - DEBUG - close.started
2025-02-22 15:03:04,085 - httpcore.connection  - DEBUG - close.complete
2025-02-22 15:03:04,085 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 15:03:04,100 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FC3FA9DA60>
2025-02-22 15:03:04,100 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001FC3FA37450> server_hostname='api.anthropic.com' timeout=600
2025-02-22 15:03:04,118 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FC3FA27D70>
2025-02-22 15:03:04,118 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:03:04,118 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:03:04,118 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:03:04,123 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:03:04,123 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:03:07,228 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:03:07 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:03:05Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:03:06Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:03:07Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:03:06Z'), (b'request-id', b'req_01AE54ZwH3Av256wBNK1mKv9'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f8477ab9aee3b-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:03:07,238 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:03:07,238 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:03:07,238 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:03:07,238 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:03:07,238 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:03:07,238 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:03:07 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:03:05Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:03:06Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:03:07Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:03:06Z', 'request-id': 'req_01AE54ZwH3Av256wBNK1mKv9', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f8477ab9aee3b-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:03:07,246 - anthropic._base_client - DEBUG - request_id: req_01AE54ZwH3Av256wBNK1mKv9
2025-02-22 15:03:07,247 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=12
output_tokens=129
Cache hit rate: 99.0%
Tokens saved: 1143
2025-02-22 15:03:07,249 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Poprawne, ale bardzo dramatyczne i niepokojce",
"Zdanie angielskie": "I will destroy mankind!!!",
"Tumaczenie zdania": "Zniszcz ludzko!!!",
"notatka": "Uycie wielu wykrzyknikw (!!!) jest typowe dla nieformalnego, emocjonalnego jzyka, szczeglnie w komunikacji online."
}
2025-02-22 15:03:07,250 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:03:07,251 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Poprawne'), ('Naturalno jzykowa', 'Poprawne, ale bardzo dramatyczne i niepokojce'), ('Zdanie angielskie', 'I will destroy mankind!!!'), ('Tumaczenie zdania', 'Zniszcz ludzko!!!'), ('notatka', 'Uycie wielu wykrzyknikw (!!!) jest typowe dla nieformalnego, emocjonalnego jzyka, szczeglnie w komunikacji online.')]
2025-02-22 15:03:07,252 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 15:03:07,253 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 15:03:07,254 - anki_adder           - DEBUG - Creading flashcard
2025-02-22 15:03:07,254 - queris               - DEBUG - Safe execution of get falshcard
2025-02-22 15:03:07,254 - LLMModels            - INFO  - Requesting: I will destroy mankind!!!:mankind
2025-02-22 15:03:07,257 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I will destroy mankind!!!:mankind'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:03:07,260 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:03:07,260 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:03:07,266 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:03:07,266 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:03:07,268 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:03:07,268 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:03:08,368 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:03:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:03:08Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:03:09Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:03:08Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:03:08Z'), (b'request-id', b'req_01RZVGHYKxRZ9EkzLELA8LVa'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f848b4ab8ee3b-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:03:08,368 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:03:08,368 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:03:08,368 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:03:08,368 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:03:08,368 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:03:08,378 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:03:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:03:08Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:03:09Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:03:08Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:03:08Z', 'request-id': 'req_01RZVGHYKxRZ9EkzLELA8LVa', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f848b4ab8ee3b-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:03:08,380 - anthropic._base_client - DEBUG - request_id: req_01RZVGHYKxRZ9EkzLELA8LVa
2025-02-22 15:03:08,381 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1009
output_tokens=32
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 15:03:08,383 - formatter            - DEBUG - json str:{
"Zdanie": "I will destroy [[ludzko]]!!!",
"Wyraz": "mankind"
}
2025-02-22 15:03:08,383 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:03:08,383 - formatter            - DEBUG - formatted parts: [('Zdanie', 'I will destroy [[ludzko]]!!!'), ('Wyraz', 'mankind')]
2025-02-22 15:03:08,383 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 15:03:08,383 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 15:03:08,383 - queris               - DEBUG - parts: [('Zdanie', 'I will destroy [[ludzko]]!!!'), ('Wyraz', 'mankind')], data: {<ResponseField.FRONT: 'Zdanie'>: 'I will destroy [[ludzko]]!!!', <ResponseField.BACK: 'Wyraz'>: 'mankind'}
2025-02-22 15:03:08,388 - anki_adder           - DEBUG - Inserting flashcard
2025-02-22 15:03:30,188 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 15:03:30,188 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 15:03:30,188 - flashcard_repository - INFO  - Flashcard: I will destroy [[ludzko]]!!!;mankind
, successfully added.
2025-02-22 15:03:30,188 - word_repository      - INFO  - Getting the top word: mankind
2025-02-22 15:03:30,188 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 15:03:30,188 - word_repository      - DEBUG - []
2025-02-22 15:03:30,188 - word_repository      - INFO  - Words saved successfully.
2025-02-22 15:03:30,188 - word_repository      - INFO  - Word mankind deleted successfully. Beginning word changed: True
2025-02-22 15:03:30,198 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:03:30,198 - anki_adder           - WARNING - No word to tranlsate
2025-02-22 15:03:56,795 - httpcore.connection  - DEBUG - close.started
2025-02-22 15:03:56,800 - httpcore.connection  - DEBUG - close.complete
2025-02-22 15:05:44,298 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 15:05:44,298 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 15:05:44,298 - events               - INFO  - EventManager init.
2025-02-22 15:05:44,298 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 15:05:44,408 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 15:05:44,427 - word_repository      - INFO  - WordRepository init.
2025-02-22 15:05:44,427 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 15:05:44,431 - word_repository      - DEBUG - []
2025-02-22 15:05:44,431 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 15:05:44,433 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 15:05:44,434 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 15:05:44,438 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 15:05:45,248 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 15:05:45,249 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 15:05:45,251 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 15:05:45,251 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:05:45,251 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:05:45,251 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:05:45,251 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 15:05:45,251 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 15:05:45,255 - events               - INFO  - Adding new event type: EventType.TRANSLATION_QUERY.
2025-02-22 15:05:45,255 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.TRANSLATION_QUERY.
2025-02-22 15:05:45,256 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 15:05:45,256 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 15:05:54,268 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 15:05:54,278 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:05:54,278 - anki_adder           - WARNING - No top word
2025-02-22 15:06:24,828 - events               - INFO  - Emiting EventType.TRANSLATION_QUERY event to _handle_get_sentence_corrections.
2025-02-22 15:06:24,828 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:06:24,838 - anki_adder           - WARNING - No top word
2025-02-22 15:09:39,907 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 15:09:39,908 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 15:09:39,909 - events               - INFO  - EventManager init.
2025-02-22 15:09:39,909 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 15:09:40,018 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 15:09:40,033 - word_repository      - INFO  - WordRepository init.
2025-02-22 15:09:40,033 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 15:09:40,033 - word_repository      - DEBUG - []
2025-02-22 15:09:40,035 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 15:09:40,036 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 15:09:40,037 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 15:09:40,042 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 15:09:40,783 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 15:09:40,788 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 15:09:40,788 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 15:09:40,788 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:09:40,788 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:09:40,788 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:09:40,788 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 15:09:40,788 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 15:09:40,788 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 15:09:40,794 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 15:09:40,794 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 15:09:40,795 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 15:09:53,818 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-22 15:09:53,818 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:09:53,818 - anki_adder           - WARNING - No top word
2025-02-22 15:10:31,898 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-22 15:10:31,898 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:10:31,898 - anki_adder           - WARNING - No top word
2025-02-22 15:15:17,727 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 15:15:17,728 - word_repository      - INFO  - Pushing front pizza.
2025-02-22 15:15:17,729 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 15:15:17,730 - word_repository      - DEBUG - ['pizza']
2025-02-22 15:15:17,730 - word_repository      - INFO  - Words saved successfully.
2025-02-22 15:15:17,731 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 15:15:17,732 - anki_adder           - INFO  - Getting new translation
2025-02-22 15:15:17,732 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:15:17,733 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 15:15:17,733 - LLMModels            - INFO  - Requesting: pizza
2025-02-22 15:15:17,737 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:15:17,928 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:15:17,928 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 15:15:18,007 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FCB7314890>
2025-02-22 15:15:18,007 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001FCB733F550> server_hostname='api.anthropic.com' timeout=600
2025-02-22 15:15:18,029 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FCB5EC2C90>
2025-02-22 15:15:18,029 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:15:18,033 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:15:18,033 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:15:18,034 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:15:18,035 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:15:21,338 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:15:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:15:19Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:15:20Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:15:21Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:15:20Z'), (b'request-id', b'req_01Gu2HeftKJsqybB2G3uja73'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f96628f44eeb3-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:15:21,338 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:15:21,338 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:15:21,338 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:15:21,338 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:15:21,338 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:15:21,346 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:15:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:15:19Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:15:20Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:15:21Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:15:20Z', 'request-id': 'req_01Gu2HeftKJsqybB2G3uja73', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f96628f44eeb3-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:15:21,349 - anthropic._base_client - DEBUG - request_id: req_01Gu2HeftKJsqybB2G3uja73
2025-02-22 15:15:21,361 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=241
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 15:15:21,362 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "pizza": "5/5",
        "placek": "2/5",
        "zapiekanka": "1/5"
    },
    "Uycie": "Rzeczownik, okrge, paskie ciasto z dodatkami, pieczone w piekarniku",
    "Zdanie": "Let's order a pepperoni pizza.",
    "Tumaczenie": "Zamwmy pizz z pepperoni.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["jedzenie", "fast food", "kuchnia woska"],
    "Synonimy": {
        "pie": "placek - 3/5",
        "flatbread": "placek - 2/5",
        "dish": "danie - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 15:15:21,364 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:15:21,364 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'pizza: 5/5\nplacek: 2/5\nzapiekanka: 1/5'), ('Uycie', 'Rzeczownik, okrge, paskie ciasto z dodatkami, pieczone w piekarniku'), ('Zdanie', "Let's order a pepperoni pizza."), ('Tumaczenie', 'Zamwmy pizz z pepperoni.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'jedzenie, fast food, kuchnia woska'), ('Synonimy', 'pie: placek - 3/5\nflatbread: placek - 2/5\ndish: danie - 4/5'), ('is_word_correct', 'ok')]
2025-02-22 15:15:21,364 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 15:15:21,364 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 15:15:21,367 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 15:15:26,413 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-22 15:15:26,418 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:15:26,418 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-22 15:15:26,418 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-22 15:15:26,418 - LLMModels            - INFO  - Requesting: i like pizza
2025-02-22 15:15:26,418 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'i like pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:15:26,430 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:15:26,431 - httpcore.connection  - DEBUG - close.started
2025-02-22 15:15:26,432 - httpcore.connection  - DEBUG - close.complete
2025-02-22 15:15:26,433 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 15:15:26,440 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FCB739DCD0>
2025-02-22 15:15:26,441 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001FCB733F550> server_hostname='api.anthropic.com' timeout=600
2025-02-22 15:15:26,461 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FCB72071D0>
2025-02-22 15:15:26,462 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:15:26,463 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:15:26,464 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:15:26,465 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:15:26,465 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:15:28,758 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:15:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:15:27Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:15:28Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:15:28Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:15:28Z'), (b'request-id', b'req_01XLAATRcne6jTk1kwUpE64W'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f96973996bfe4-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:15:28,768 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:15:28,768 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:15:28,768 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:15:28,768 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:15:28,768 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:15:28,776 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:15:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:15:27Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:15:28Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:15:28Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:15:28Z', 'request-id': 'req_01XLAATRcne6jTk1kwUpE64W', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f96973996bfe4-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:15:28,779 - anthropic._base_client - DEBUG - request_id: req_01XLAATRcne6jTk1kwUpE64W
2025-02-22 15:15:28,780 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1143
cache_read_input_tokens=0
input_tokens=10
output_tokens=110
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 15:15:28,782 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Brak wielkiej litery na pocztku zdania",
"Naturalno jzykowa": "Poprawne, ale bardzo proste",
"Zdanie angielskie": "I like pizza.",
"Tumaczenie zdania": "Lubi pizz.",
"notatka": "To proste zdanie moe by rozbudowane, np. 'I really enjoy eating pizza.'"
}
2025-02-22 15:15:28,783 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:15:28,783 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Brak wielkiej litery na pocztku zdania'), ('Naturalno jzykowa', 'Poprawne, ale bardzo proste'), ('Zdanie angielskie', 'I like pizza.'), ('Tumaczenie zdania', 'Lubi pizz.'), ('notatka', "To proste zdanie moe by rozbudowane, np. 'I really enjoy eating pizza.'")]
2025-02-22 15:15:28,784 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 15:15:28,784 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 15:15:28,786 - anki_adder           - DEBUG - Creading flashcard
2025-02-22 15:15:28,787 - queris               - DEBUG - Safe execution of get falshcard
2025-02-22 15:15:28,787 - LLMModels            - INFO  - Requesting: I like pizza.:pizza
2025-02-22 15:15:28,791 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I like pizza.:pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:15:28,796 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:15:28,798 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:15:28,799 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:15:28,799 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:15:28,799 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:15:28,800 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:15:29,867 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:15:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:15:30Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:15:30Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:15:29Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:15:29Z'), (b'request-id', b'req_01FGocXxQvkZHdd8BXdv48TH'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f96a5d8cebfe4-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:15:29,867 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:15:29,867 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:15:29,867 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:15:29,867 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:15:29,867 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:15:29,867 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:15:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:15:30Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:15:30Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:15:29Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:15:29Z', 'request-id': 'req_01FGocXxQvkZHdd8BXdv48TH', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f96a5d8cebfe4-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:15:29,876 - anthropic._base_client - DEBUG - request_id: req_01FGocXxQvkZHdd8BXdv48TH
2025-02-22 15:15:29,877 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1007
output_tokens=28
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 15:15:29,878 - formatter            - DEBUG - json str:{
"Zdanie": "I like [[pizza]].",
"Wyraz": "pizza"
}
2025-02-22 15:15:29,879 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:15:29,879 - formatter            - DEBUG - formatted parts: [('Zdanie', 'I like [[pizza]].'), ('Wyraz', 'pizza')]
2025-02-22 15:15:29,880 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 15:15:29,880 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 15:15:29,881 - queris               - DEBUG - parts: [('Zdanie', 'I like [[pizza]].'), ('Wyraz', 'pizza')], data: {<ResponseField.FRONT: 'Zdanie'>: 'I like [[pizza]].', <ResponseField.BACK: 'Wyraz'>: 'pizza'}
2025-02-22 15:15:29,882 - anki_adder           - DEBUG - Inserting flashcard
2025-02-22 15:15:34,838 - httpcore.connection  - DEBUG - close.started
2025-02-22 15:15:34,840 - httpcore.connection  - DEBUG - close.complete
2025-02-22 15:15:36,397 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 15:15:36,397 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 15:15:36,397 - events               - INFO  - EventManager init.
2025-02-22 15:15:36,397 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 15:15:36,533 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 15:15:36,575 - word_repository      - INFO  - WordRepository init.
2025-02-22 15:15:36,576 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 15:15:36,578 - word_repository      - DEBUG - ['pizza']
2025-02-22 15:15:36,578 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 15:15:36,580 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 15:15:36,582 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 15:15:36,586 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 15:15:37,378 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 15:15:37,378 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 15:15:37,378 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 15:15:37,378 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:15:37,378 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:15:37,378 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:15:37,378 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 15:15:37,378 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 15:15:37,378 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 15:15:37,378 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 15:15:37,386 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 15:15:37,386 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 15:18:51,728 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 15:18:51,728 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 15:18:51,728 - events               - INFO  - EventManager init.
2025-02-22 15:18:51,728 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 15:18:51,838 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 15:18:51,848 - word_repository      - INFO  - WordRepository init.
2025-02-22 15:18:51,848 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 15:18:51,853 - word_repository      - DEBUG - ['pizza']
2025-02-22 15:18:51,853 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 15:18:51,855 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 15:18:51,855 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 15:18:51,860 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 15:18:52,578 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 15:18:52,578 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 15:18:52,578 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 15:18:52,578 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:18:52,578 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:18:52,578 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:18:52,583 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 15:18:52,583 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 15:18:52,583 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 15:18:52,583 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 15:18:52,585 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 15:18:52,585 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 15:19:04,548 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-22 15:19:04,548 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:19:04,548 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-22 15:19:04,548 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-22 15:19:04,548 - LLMModels            - INFO  - Requesting: do you like pizza
2025-02-22 15:19:04,548 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'do you like pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:19:04,738 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:19:04,738 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 15:19:04,788 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000119615FF950>
2025-02-22 15:19:04,788 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001196243F450> server_hostname='api.anthropic.com' timeout=600
2025-02-22 15:19:04,798 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001196148B4D0>
2025-02-22 15:19:04,807 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:19:04,807 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:19:04,808 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:19:04,809 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:19:04,809 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:19:07,357 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:19:07 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:19:06Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:19:06Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:19:07Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:19:06Z'), (b'request-id', b'req_01JfocK2qvBgpin85TBvRckE'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f9bebd853b1df-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:19:07,368 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:19:07,368 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:19:07,368 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:19:07,368 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:19:07,368 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:19:07,371 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:19:07 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:19:06Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:19:06Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:19:07Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:19:06Z', 'request-id': 'req_01JfocK2qvBgpin85TBvRckE', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f9bebd853b1df-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:19:07,374 - anthropic._base_client - DEBUG - request_id: req_01JfocK2qvBgpin85TBvRckE
2025-02-22 15:19:07,382 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=11
output_tokens=142
Cache hit rate: 99.0%
Tokens saved: 1143
2025-02-22 15:19:07,382 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Brak znaku zapytania, brak wielkiej litery na pocztku zdania",
"Naturalno jzykowa": "Poprawne, ale nieformalne",
"Zdanie angielskie": "Do you like pizza?",
"Tumaczenie zdania": "Czy lubisz pizz?",
"notatka": "W jzyku angielskim zdania pytajce zawsze kocz si znakiem zapytania, a pierwsze sowo zdania powinno by pisane wielk liter."
}
2025-02-22 15:19:07,387 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:19:07,387 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Brak znaku zapytania, brak wielkiej litery na pocztku zdania'), ('Naturalno jzykowa', 'Poprawne, ale nieformalne'), ('Zdanie angielskie', 'Do you like pizza?'), ('Tumaczenie zdania', 'Czy lubisz pizz?'), ('notatka', 'W jzyku angielskim zdania pytajce zawsze kocz si znakiem zapytania, a pierwsze sowo zdania powinno by pisane wielk liter.')]
2025-02-22 15:19:07,388 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 15:19:07,389 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 15:19:07,390 - anki_adder           - DEBUG - Creading flashcard
2025-02-22 15:19:07,391 - queris               - DEBUG - Safe execution of get falshcard
2025-02-22 15:19:07,391 - LLMModels            - INFO  - Requesting: Do you like pizza?:pizza
2025-02-22 15:19:07,394 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you like pizza?:pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:19:07,400 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:19:07,400 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:19:07,400 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:19:07,402 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:19:07,403 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:19:07,403 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:19:08,478 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:19:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:19:08Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:19:09Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:19:08Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:19:08Z'), (b'request-id', b'req_01W7Ba7wEZgHM53DN6wPNjHt'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f9bfc1b3ab1df-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:19:08,488 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:19:08,488 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:19:08,488 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:19:08,488 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:19:08,488 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:19:08,488 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:19:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:19:08Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:19:09Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:19:08Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:19:08Z', 'request-id': 'req_01W7Ba7wEZgHM53DN6wPNjHt', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f9bfc1b3ab1df-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:19:08,494 - anthropic._base_client - DEBUG - request_id: req_01W7Ba7wEZgHM53DN6wPNjHt
2025-02-22 15:19:08,496 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1009
output_tokens=30
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 15:19:08,497 - formatter            - DEBUG - json str:{
"Zdanie": "Do you like [[pizza]]?",
"Wyraz": "pizza"
}
2025-02-22 15:19:08,497 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:19:08,497 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Do you like [[pizza]]?'), ('Wyraz', 'pizza')]
2025-02-22 15:19:08,497 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 15:19:08,497 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 15:19:08,497 - queris               - DEBUG - parts: [('Zdanie', 'Do you like [[pizza]]?'), ('Wyraz', 'pizza')], data: {<ResponseField.FRONT: 'Zdanie'>: 'Do you like [[pizza]]?', <ResponseField.BACK: 'Wyraz'>: 'pizza'}
2025-02-22 15:19:08,497 - anki_adder           - DEBUG - Inserting flashcard
2025-02-22 15:19:18,348 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 15:19:18,348 - anki_adder           - INFO  - add flashcard
2025-02-22 15:19:18,348 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 15:19:18,348 - flashcard_repository - INFO  - Flashcard: Do you like [[pizza]]?;pizza
, successfully added.
2025-02-22 15:19:18,348 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:19:18,348 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 15:19:18,348 - word_repository      - DEBUG - []
2025-02-22 15:19:18,348 - word_repository      - INFO  - Words saved successfully.
2025-02-22 15:19:18,348 - word_repository      - INFO  - Word pizza deleted successfully. Beginning word changed: True
2025-02-22 15:19:18,348 - anki_adder           - INFO  - Getting new translation
2025-02-22 15:19:18,354 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:19:18,354 - anki_adder           - WARNING - No word to translate
2025-02-22 15:19:28,668 - httpcore.connection  - DEBUG - close.started
2025-02-22 15:19:28,669 - httpcore.connection  - DEBUG - close.complete
2025-02-22 15:19:54,458 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 15:19:54,458 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 15:19:54,458 - events               - INFO  - EventManager init.
2025-02-22 15:19:54,467 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 15:19:54,593 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 15:19:54,622 - word_repository      - INFO  - WordRepository init.
2025-02-22 15:19:54,624 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 15:19:54,625 - word_repository      - DEBUG - []
2025-02-22 15:19:54,625 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 15:19:54,627 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 15:19:54,629 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 15:19:54,633 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 15:19:55,348 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 15:19:55,349 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 15:19:55,350 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 15:19:55,351 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:19:55,351 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:19:55,352 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:19:55,352 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 15:19:55,352 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 15:19:55,353 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 15:19:55,354 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 15:19:55,354 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 15:19:55,355 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 15:20:01,418 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-22 15:20:01,418 - word_repository      - INFO  - Pushing back pizza.
2025-02-22 15:20:01,418 - word_repository      - INFO  - Array is empty, adding pizza.
2025-02-22 15:20:01,427 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 15:20:01,427 - word_repository      - DEBUG - ['pizza']
2025-02-22 15:20:01,427 - word_repository      - INFO  - Words saved successfully.
2025-02-22 15:20:01,427 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: True
2025-02-22 15:20:01,427 - anki_adder           - INFO  - Getting new translation
2025-02-22 15:20:01,427 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:20:01,427 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 15:20:01,427 - LLMModels            - INFO  - Requesting: pizza
2025-02-22 15:20:01,435 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:20:01,618 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:20:01,618 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 15:20:01,659 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D843267E60>
2025-02-22 15:20:01,659 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001D84333B450> server_hostname='api.anthropic.com' timeout=600
2025-02-22 15:20:01,668 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D8421E34D0>
2025-02-22 15:20:01,668 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:20:01,673 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:20:01,674 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:20:01,675 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:20:01,675 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:20:04,988 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:20:05 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:20:03Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:20:04Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:20:05Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:20:04Z'), (b'request-id', b'req_01JTqtXN8H1joPzAvNCbERQy'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f9d4f4faaeebb-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:20:04,998 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:20:04,998 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:20:04,998 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:20:04,998 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:20:04,998 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:20:05,003 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:20:05 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:20:03Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:20:04Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:20:05Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:20:04Z', 'request-id': 'req_01JTqtXN8H1joPzAvNCbERQy', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f9d4f4faaeebb-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:20:05,005 - anthropic._base_client - DEBUG - request_id: req_01JTqtXN8H1joPzAvNCbERQy
2025-02-22 15:20:05,016 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=232
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 15:20:05,017 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "pizza": "5/5",
        "placek": "2/5",
        "zapiekanka": "1/5"
    },
    "Uycie": "Rzeczownik, okrgy placek z ciasta z rnymi dodatkami",
    "Zdanie": "Let's order a pepperoni pizza.",
    "Tumaczenie": "Zamwmy pizz pepperoni.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["jedzenie", "restauracje", "fast food"],
    "Synonimy": {
        "pie": "placek - 3/5",
        "flatbread": "placek - 2/5",
        "Italian dish": "woskie danie - 3/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 15:20:05,020 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:20:05,021 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'pizza: 5/5\nplacek: 2/5\nzapiekanka: 1/5'), ('Uycie', 'Rzeczownik, okrgy placek z ciasta z rnymi dodatkami'), ('Zdanie', "Let's order a pepperoni pizza."), ('Tumaczenie', 'Zamwmy pizz pepperoni.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'jedzenie, restauracje, fast food'), ('Synonimy', 'pie: placek - 3/5\nflatbread: placek - 2/5\nItalian dish: woskie danie - 3/5'), ('is_word_correct', 'ok')]
2025-02-22 15:20:05,022 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 15:20:05,023 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 15:20:05,023 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 15:20:11,878 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-22 15:20:11,878 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:20:11,878 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-22 15:20:11,878 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-22 15:20:11,878 - LLMModels            - INFO  - Requesting: i like pizza
2025-02-22 15:20:11,878 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'i like pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:20:11,890 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:20:11,891 - httpcore.connection  - DEBUG - close.started
2025-02-22 15:20:11,892 - httpcore.connection  - DEBUG - close.complete
2025-02-22 15:20:11,892 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 15:20:11,915 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D84339DE50>
2025-02-22 15:20:11,916 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001D84333B450> server_hostname='api.anthropic.com' timeout=600
2025-02-22 15:20:11,933 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D84339DAF0>
2025-02-22 15:20:11,934 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:20:11,935 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:20:11,935 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:20:11,936 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:20:11,936 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:20:14,151 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:20:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:20:13Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:20:13Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:20:14Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:20:13Z'), (b'request-id', b'req_01SgxhGAk5G6YxYvSm319zVD'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f9d8f6accbbbd-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:20:14,160 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:20:14,160 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:20:14,162 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:20:14,162 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:20:14,162 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:20:14,163 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:20:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:20:13Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:20:13Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:20:14Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:20:13Z', 'request-id': 'req_01SgxhGAk5G6YxYvSm319zVD', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f9d8f6accbbbd-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:20:14,165 - anthropic._base_client - DEBUG - request_id: req_01SgxhGAk5G6YxYvSm319zVD
2025-02-22 15:20:14,166 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=10
output_tokens=109
Cache hit rate: 99.1%
Tokens saved: 1143
2025-02-22 15:20:14,168 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Brak wielkiej litery na pocztku zdania",
"Naturalno jzykowa": "Poprawne, ale bardzo proste",
"Zdanie angielskie": "I like pizza.",
"Tumaczenie zdania": "Lubi pizz.",
"notatka": "To proste zdanie mona rozbudowa, np. 'I really enjoy eating pizza.'"
}
2025-02-22 15:20:14,169 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:20:14,170 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Brak wielkiej litery na pocztku zdania'), ('Naturalno jzykowa', 'Poprawne, ale bardzo proste'), ('Zdanie angielskie', 'I like pizza.'), ('Tumaczenie zdania', 'Lubi pizz.'), ('notatka', "To proste zdanie mona rozbudowa, np. 'I really enjoy eating pizza.'")]
2025-02-22 15:20:14,171 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 15:20:14,172 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 15:20:14,172 - anki_adder           - DEBUG - Creading flashcard
2025-02-22 15:20:14,173 - queris               - DEBUG - Safe execution of get falshcard
2025-02-22 15:20:14,174 - LLMModels            - INFO  - Requesting: I like pizza.:pizza
2025-02-22 15:20:14,176 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I like pizza.:pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:20:14,182 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:20:14,183 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:20:14,184 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:20:14,184 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:20:14,185 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:20:14,186 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:20:15,191 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:20:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:20:15Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:20:15Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:20:15Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:20:15Z'), (b'request-id', b'req_01K8tMwAB7yQeh6kN2nWSoTM'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915f9d9d7c47bbbd-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:20:15,194 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:20:15,195 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:20:15,195 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:20:15,196 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:20:15,197 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:20:15,197 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:20:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:20:15Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:20:15Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:20:15Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:20:15Z', 'request-id': 'req_01K8tMwAB7yQeh6kN2nWSoTM', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915f9d9d7c47bbbd-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:20:15,201 - anthropic._base_client - DEBUG - request_id: req_01K8tMwAB7yQeh6kN2nWSoTM
2025-02-22 15:20:15,202 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1007
output_tokens=28
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 15:20:15,203 - formatter            - DEBUG - json str:{
"Zdanie": "I like [[pizza]]",
"Wyraz": "pizza"
}
2025-02-22 15:20:15,204 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:20:15,204 - formatter            - DEBUG - formatted parts: [('Zdanie', 'I like [[pizza]]'), ('Wyraz', 'pizza')]
2025-02-22 15:20:15,205 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 15:20:15,205 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 15:20:15,206 - queris               - DEBUG - parts: [('Zdanie', 'I like [[pizza]]'), ('Wyraz', 'pizza')], data: {<ResponseField.FRONT: 'Zdanie'>: 'I like [[pizza]]', <ResponseField.BACK: 'Wyraz'>: 'pizza'}
2025-02-22 15:20:15,207 - anki_adder           - DEBUG - Inserting flashcard
2025-02-22 15:20:17,938 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 15:20:17,938 - anki_adder           - INFO  - add flashcard
2025-02-22 15:20:17,938 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 15:20:17,938 - flashcard_repository - INFO  - Flashcard: I like [[pizza]];pizza
, successfully added.
2025-02-22 15:20:17,938 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:20:17,938 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 15:20:17,938 - word_repository      - DEBUG - []
2025-02-22 15:20:17,938 - word_repository      - INFO  - Words saved successfully.
2025-02-22 15:20:17,938 - word_repository      - INFO  - Word pizza deleted successfully. Beginning word changed: True
2025-02-22 15:20:17,938 - anki_adder           - INFO  - Getting new translation
2025-02-22 15:20:17,948 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:20:17,948 - anki_adder           - WARNING - No word to translate
2025-02-22 15:20:21,255 - httpcore.connection  - DEBUG - close.started
2025-02-22 15:20:21,257 - httpcore.connection  - DEBUG - close.complete
2025-02-22 15:23:08,823 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 15:23:08,823 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 15:23:08,824 - events               - INFO  - EventManager init.
2025-02-22 15:23:08,825 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 15:23:08,969 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 15:23:09,011 - word_repository      - INFO  - WordRepository init.
2025-02-22 15:23:09,012 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 15:23:09,013 - word_repository      - DEBUG - []
2025-02-22 15:23:09,013 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 15:23:09,013 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 15:23:09,018 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 15:23:09,021 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 15:23:09,818 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 15:23:09,818 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 15:23:09,818 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 15:23:09,818 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:23:09,818 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:23:09,818 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:23:09,818 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 15:23:09,818 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 15:23:09,818 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 15:23:09,825 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 15:23:09,826 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 15:23:09,827 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 15:23:15,410 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 15:23:15,415 - word_repository      - INFO  - Pushing front pizza.
2025-02-22 15:23:15,416 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 15:23:15,417 - word_repository      - DEBUG - ['pizza']
2025-02-22 15:23:15,418 - word_repository      - INFO  - Words saved successfully.
2025-02-22 15:23:15,418 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 15:23:15,419 - anki_adder           - INFO  - Getting new translation
2025-02-22 15:23:15,420 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:23:15,421 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 15:23:15,421 - LLMModels            - INFO  - Requesting: pizza
2025-02-22 15:23:15,426 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:23:15,852 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:23:15,852 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 15:23:15,883 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A44A869EE0>
2025-02-22 15:23:15,883 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001A44A83B3D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 15:23:15,901 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A44A1D2030>
2025-02-22 15:23:15,901 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:23:15,902 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:23:15,903 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:23:15,904 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:23:15,904 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:23:19,010 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:23:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:23:17Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:23:18Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:23:19Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:23:18Z'), (b'request-id', b'req_0182yaXy14e2wDLy2ocfLJEq'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915fa20d3b09eeb7-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:23:19,018 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:23:19,018 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:23:19,018 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:23:19,018 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:23:19,018 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:23:19,018 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:23:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:23:17Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:23:18Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:23:19Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:23:18Z', 'request-id': 'req_0182yaXy14e2wDLy2ocfLJEq', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915fa20d3b09eeb7-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:23:19,024 - anthropic._base_client - DEBUG - request_id: req_0182yaXy14e2wDLy2ocfLJEq
2025-02-22 15:23:19,036 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=212
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 15:23:19,037 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "pizza": "5/5",
        "placek": "1/5"
    },
    "Uycie": "Rzeczownik, okrgy, paski placek z ciasta z dodatkami",
    "Zdanie": "I ordered a pepperoni pizza.",
    "Tumaczenie": "Zamwiem pizz pepperoni.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["jedzenie", "fast food", "kuchnia woska"],
    "Synonimy": {
        "pie": "placek - 2/5",
        "flatbread": "paski chleb - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 15:23:19,040 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:23:19,041 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'pizza: 5/5\nplacek: 1/5'), ('Uycie', 'Rzeczownik, okrgy, paski placek z ciasta z dodatkami'), ('Zdanie', 'I ordered a pepperoni pizza.'), ('Tumaczenie', 'Zamwiem pizz pepperoni.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'jedzenie, fast food, kuchnia woska'), ('Synonimy', 'pie: placek - 2/5\nflatbread: paski chleb - 2/5'), ('is_word_correct', 'ok')]
2025-02-22 15:23:19,041 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 15:23:19,041 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 15:23:19,042 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 15:23:28,510 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-22 15:23:28,510 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:23:28,510 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-22 15:23:28,510 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-22 15:23:28,510 - LLMModels            - INFO  - Requesting: do you like pizza/
2025-02-22 15:23:28,510 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'do you like pizza/'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:23:28,522 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:23:28,523 - httpcore.connection  - DEBUG - close.started
2025-02-22 15:23:28,524 - httpcore.connection  - DEBUG - close.complete
2025-02-22 15:23:28,525 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 15:23:28,528 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A44A8A1CD0>
2025-02-22 15:23:28,528 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001A44A83B3D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 15:23:28,551 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A44A8A1970>
2025-02-22 15:23:28,552 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:23:28,553 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:23:28,553 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:23:28,554 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:23:28,554 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:23:30,688 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:23:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:23:29Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:23:30Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:23:30Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:23:30Z'), (b'request-id', b'req_01D7obomXVx9MPJV7YbCpigc'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915fa25c396cbf94-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:23:30,688 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:23:30,688 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:23:30,693 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:23:30,693 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:23:30,693 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:23:30,696 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:23:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:23:29Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:23:30Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:23:30Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:23:30Z', 'request-id': 'req_01D7obomXVx9MPJV7YbCpigc', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915fa25c396cbf94-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:23:30,699 - anthropic._base_client - DEBUG - request_id: req_01D7obomXVx9MPJV7YbCpigc
2025-02-22 15:23:30,700 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=12
output_tokens=115
Cache hit rate: 99.0%
Tokens saved: 1143
2025-02-22 15:23:30,702 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Brak znaku zapytania na kocu zdania pytajcego",
"Naturalno jzykowa": "Poprawne",
"Zdanie angielskie": "Do you like pizza?",
"Tumaczenie zdania": "Czy lubisz pizz?",
"notatka": "W jzyku angielskim zdania pytajce zawsze kocz si znakiem zapytania."
}
2025-02-22 15:23:30,704 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:23:30,704 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Brak znaku zapytania na kocu zdania pytajcego'), ('Naturalno jzykowa', 'Poprawne'), ('Zdanie angielskie', 'Do you like pizza?'), ('Tumaczenie zdania', 'Czy lubisz pizz?'), ('notatka', 'W jzyku angielskim zdania pytajce zawsze kocz si znakiem zapytania.')]
2025-02-22 15:23:30,704 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-22 15:23:30,704 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-22 15:23:30,707 - anki_adder           - DEBUG - Creading flashcard
2025-02-22 15:23:30,708 - queris               - DEBUG - Safe execution of get falshcard
2025-02-22 15:23:30,708 - LLMModels            - INFO  - Requesting: Do you like pizza?:pizza
2025-02-22 15:23:30,712 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you like pizza?:pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:23:30,718 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:23:30,718 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:23:30,718 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:23:30,721 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:23:30,722 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:23:30,722 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:23:32,344 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:23:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:23:32Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:23:32Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:23:32Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:23:32Z'), (b'request-id', b'req_01FnSuQ8TvuAioEaGFvDzC46'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915fa269cfd0bf94-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:23:32,344 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:23:32,348 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:23:32,348 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:23:32,348 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:23:32,348 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:23:32,354 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:23:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:23:32Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:23:32Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:23:32Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:23:32Z', 'request-id': 'req_01FnSuQ8TvuAioEaGFvDzC46', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915fa269cfd0bf94-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:23:32,356 - anthropic._base_client - DEBUG - request_id: req_01FnSuQ8TvuAioEaGFvDzC46
2025-02-22 15:23:32,357 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1009
output_tokens=30
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 15:23:32,358 - formatter            - DEBUG - json str:{
"Zdanie": "Do you like [[pizza]]?",
"Wyraz": "pizza"
}
2025-02-22 15:23:32,358 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:23:32,359 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Do you like [[pizza]]?'), ('Wyraz', 'pizza')]
2025-02-22 15:23:32,361 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-22 15:23:32,361 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-22 15:23:32,361 - queris               - DEBUG - parts: [('Zdanie', 'Do you like [[pizza]]?'), ('Wyraz', 'pizza')], data: {<ResponseField.FRONT: 'Zdanie'>: 'Do you like [[pizza]]?', <ResponseField.BACK: 'Wyraz'>: 'pizza'}
2025-02-22 15:23:32,361 - anki_adder           - DEBUG - Inserting flashcard
2025-02-22 15:23:37,360 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 15:23:37,360 - anki_adder           - INFO  - add flashcard
2025-02-22 15:23:37,360 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 15:23:37,360 - flashcard_repository - INFO  - Flashcard: Do you like [[pizza]]?;pizza
, successfully added.
2025-02-22 15:23:37,360 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:23:37,360 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 15:23:37,360 - word_repository      - DEBUG - []
2025-02-22 15:23:37,360 - word_repository      - INFO  - Words saved successfully.
2025-02-22 15:23:37,367 - word_repository      - INFO  - Word pizza deleted successfully. Beginning word changed: True
2025-02-22 15:23:37,368 - anki_adder           - INFO  - Getting new translation
2025-02-22 15:23:37,368 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:23:37,369 - anki_adder           - WARNING - No word to translate
2025-02-22 15:23:46,728 - httpcore.connection  - DEBUG - close.started
2025-02-22 15:23:46,730 - httpcore.connection  - DEBUG - close.complete
2025-02-22 15:25:40,711 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 15:25:40,711 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 15:25:40,718 - events               - INFO  - EventManager init.
2025-02-22 15:25:40,718 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 15:25:40,848 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 15:25:40,865 - word_repository      - INFO  - WordRepository init.
2025-02-22 15:25:40,865 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 15:25:40,866 - word_repository      - DEBUG - []
2025-02-22 15:25:40,867 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 15:25:40,868 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 15:25:40,868 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 15:25:40,873 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 15:25:41,708 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 15:25:41,709 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 15:25:41,711 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 15:25:41,711 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:25:41,711 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:25:41,711 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 15:25:41,711 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 15:25:41,711 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 15:25:41,714 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 15:25:41,714 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 15:25:41,715 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 15:25:41,715 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 15:25:47,931 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 15:25:47,931 - word_repository      - INFO  - Pushing front pizza.
2025-02-22 15:25:47,932 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 15:25:47,933 - word_repository      - DEBUG - ['pizza']
2025-02-22 15:25:47,934 - word_repository      - INFO  - Words saved successfully.
2025-02-22 15:25:47,934 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 15:25:47,935 - anki_adder           - INFO  - Getting new translation
2025-02-22 15:25:47,935 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:25:47,936 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 15:25:47,936 - LLMModels            - INFO  - Requesting: pizza
2025-02-22 15:25:47,940 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 15:25:48,129 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 15:25:48,129 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 15:25:48,154 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027C03733D40>
2025-02-22 15:25:48,155 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000027C0403B4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 15:25:48,170 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000027C036146B0>
2025-02-22 15:25:48,172 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 15:25:48,173 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 15:25:48,173 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 15:25:48,174 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 15:25:48,175 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 15:25:51,820 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 14:25:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T14:25:49Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T14:25:50Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T14:25:51Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T14:25:50Z'), (b'request-id', b'req_017iYmMfcegKDiRVGrai71R1'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'915fa5c4dd370247-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 15:25:51,828 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 15:25:51,831 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 15:25:51,833 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 15:25:51,835 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 15:25:51,836 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 15:25:51,837 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 14:25:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T14:25:49Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T14:25:50Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T14:25:51Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T14:25:50Z', 'request-id': 'req_017iYmMfcegKDiRVGrai71R1', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '915fa5c4dd370247-WAW', 'content-encoding': 'gzip'})
2025-02-22 15:25:51,840 - anthropic._base_client - DEBUG - request_id: req_017iYmMfcegKDiRVGrai71R1
2025-02-22 15:25:51,857 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=235
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 15:25:51,859 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "pizza": "5/5",
        "placek": "2/5",
        "zapiekanka": "1/5"
    },
    "Uycie": "Rzeczownik, okrgy paski placek z ciasta z rnymi dodatkami",
    "Zdanie": "Let's order a pepperoni pizza.",
    "Tumaczenie": "Zamwmy pizz pepperoni.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["jedzenie", "kuchnia woska", "fast food"],
    "Synonimy": {
        "pie": "placek - 3/5",
        "flatbread": "placek - 2/5",
        "dish": "danie - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 15:25:51,867 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 15:25:51,868 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'pizza: 5/5\nplacek: 2/5\nzapiekanka: 1/5'), ('Uycie', 'Rzeczownik, okrgy paski placek z ciasta z rnymi dodatkami'), ('Zdanie', "Let's order a pepperoni pizza."), ('Tumaczenie', 'Zamwmy pizz pepperoni.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'jedzenie, kuchnia woska, fast food'), ('Synonimy', 'pie: placek - 3/5\nflatbread: placek - 2/5\ndish: danie - 4/5'), ('is_word_correct', 'ok')]
2025-02-22 15:25:51,871 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 15:25:51,872 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 15:25:51,872 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 15:25:59,988 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 15:25:59,988 - anki_adder           - INFO  - add flashcard
2025-02-22 15:25:59,988 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 15:25:59,988 - flashcard_repository - INFO  - Flashcard: do piazaas;fasdf
, successfully added.
2025-02-22 15:25:59,988 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 15:25:59,988 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 15:25:59,988 - word_repository      - DEBUG - []
2025-02-22 15:25:59,994 - word_repository      - INFO  - Words saved successfully.
2025-02-22 15:25:59,995 - word_repository      - INFO  - Word pizza deleted successfully. Beginning word changed: True
2025-02-22 15:25:59,995 - anki_adder           - INFO  - Getting new translation
2025-02-22 15:25:59,996 - word_repository      - INFO  - Getting the top word: None
2025-02-22 15:25:59,996 - anki_adder           - WARNING - No word to translate
2025-02-22 15:26:13,922 - httpcore.connection  - DEBUG - close.started
2025-02-22 15:26:13,924 - httpcore.connection  - DEBUG - close.complete
2025-02-22 16:37:42,531 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 16:37:42,532 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 16:37:42,532 - events               - INFO  - EventManager init.
2025-02-22 16:37:42,533 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 16:37:42,641 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 16:37:42,654 - word_repository      - INFO  - WordRepository init.
2025-02-22 16:37:42,655 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 16:37:42,656 - word_repository      - DEBUG - []
2025-02-22 16:37:42,657 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 16:37:42,658 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 16:37:42,659 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 16:37:42,663 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 16:37:43,407 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 16:37:43,409 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 16:37:43,409 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 16:37:43,410 - word_repository      - INFO  - Getting the top word: None
2025-02-22 16:37:43,410 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 16:37:43,411 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 16:37:43,411 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 16:37:43,412 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 16:37:43,412 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 16:37:43,412 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 16:37:43,413 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 16:37:43,413 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 16:37:46,884 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-22 16:37:46,885 - word_repository      - INFO  - Pushing back pizza.
2025-02-22 16:37:46,886 - word_repository      - INFO  - Array is empty, adding pizza.
2025-02-22 16:37:46,886 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 16:37:46,888 - word_repository      - DEBUG - ['pizza']
2025-02-22 16:37:46,888 - word_repository      - INFO  - Words saved successfully.
2025-02-22 16:37:46,889 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: True
2025-02-22 16:37:46,889 - anki_adder           - INFO  - Getting new translation
2025-02-22 16:37:46,890 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 16:37:46,890 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 16:37:46,891 - LLMModels            - INFO  - Requesting: pizza
2025-02-22 16:37:46,895 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 16:37:47,090 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 16:37:47,091 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 16:37:47,118 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000015C73424F80>
2025-02-22 16:37:47,119 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000015C7343B550> server_hostname='api.anthropic.com' timeout=600
2025-02-22 16:37:47,137 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000015C71889280>
2025-02-22 16:37:47,138 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 16:37:47,139 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 16:37:47,140 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 16:37:47,141 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 16:37:47,141 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 16:37:50,270 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 15:37:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T15:37:48Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T15:37:49Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T15:37:50Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T15:37:49Z'), (b'request-id', b'req_01SFnSNGxUp4EVSDxhEh8EwN'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91600f361d8bee3c-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 16:37:50,274 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 16:37:50,275 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 16:37:50,275 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 16:37:50,276 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 16:37:50,277 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 16:37:50,277 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 15:37:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T15:37:48Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T15:37:49Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T15:37:50Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T15:37:49Z', 'request-id': 'req_01SFnSNGxUp4EVSDxhEh8EwN', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91600f361d8bee3c-WAW', 'content-encoding': 'gzip'})
2025-02-22 16:37:50,279 - anthropic._base_client - DEBUG - request_id: req_01SFnSNGxUp4EVSDxhEh8EwN
2025-02-22 16:37:50,292 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=239
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-22 16:37:50,293 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "pizza": "5/5",
        "placek": "2/5",
        "zapiekanka": "1/5"
    },
    "Uycie": "Rzeczownik, okrge paskie ciasto z dodatkami",
    "Zdanie": "Let's order a pepperoni pizza.",
    "Tumaczenie": "Zamwmy pizz pepperoni.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["jedzenie", "fast food", "kuchnia woska"],
    "Synonimy": {
        "pie": "placek - 3/5",
        "flatbread": "paski chleb - 2/5",
        "slice": "kawaek (pizzy) - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 16:37:50,296 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 16:37:50,296 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'pizza: 5/5\nplacek: 2/5\nzapiekanka: 1/5'), ('Uycie', 'Rzeczownik, okrge paskie ciasto z dodatkami'), ('Zdanie', "Let's order a pepperoni pizza."), ('Tumaczenie', 'Zamwmy pizz pepperoni.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'jedzenie, fast food, kuchnia woska'), ('Synonimy', 'pie: placek - 3/5\nflatbread: paski chleb - 2/5\nslice: kawaek (pizzy) - 4/5'), ('is_word_correct', 'ok')]
2025-02-22 16:37:50,298 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 16:37:50,298 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 16:37:50,299 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 16:37:54,479 - httpcore.connection  - DEBUG - close.started
2025-02-22 16:37:54,481 - httpcore.connection  - DEBUG - close.complete
2025-02-22 16:38:03,991 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 16:38:03,992 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 16:38:03,992 - events               - INFO  - EventManager init.
2025-02-22 16:38:03,993 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 16:38:04,098 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 16:38:04,111 - word_repository      - INFO  - WordRepository init.
2025-02-22 16:38:04,112 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 16:38:04,113 - word_repository      - DEBUG - ['pizza']
2025-02-22 16:38:04,113 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 16:38:04,115 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 16:38:04,116 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 16:38:04,122 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 16:38:04,851 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 16:38:04,853 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 16:38:04,854 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 16:38:04,854 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 16:38:04,855 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 16:38:04,856 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 16:38:04,856 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 16:38:04,857 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 16:38:04,857 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 16:38:04,858 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 16:38:04,858 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 16:38:04,859 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 16:38:13,278 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 16:38:13,279 - word_repository      - INFO  - Pushing front burger.
2025-02-22 16:38:13,279 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 16:38:13,280 - word_repository      - DEBUG - ['burger', 'pizza']
2025-02-22 16:38:13,281 - word_repository      - INFO  - Words saved successfully.
2025-02-22 16:38:13,282 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 16:38:13,282 - anki_adder           - INFO  - Getting new translation
2025-02-22 16:38:13,283 - word_repository      - INFO  - Getting the top word: burger
2025-02-22 16:39:32,947 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 16:39:32,948 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 16:39:32,948 - events               - INFO  - EventManager init.
2025-02-22 16:39:32,949 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 16:39:33,055 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 16:39:33,068 - word_repository      - INFO  - WordRepository init.
2025-02-22 16:39:33,069 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 16:39:33,071 - word_repository      - DEBUG - ['burger', 'pizza']
2025-02-22 16:39:33,071 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 16:39:33,073 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 16:39:33,074 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 16:39:33,078 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 16:39:33,831 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 16:39:33,833 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 16:39:33,834 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 16:39:33,835 - word_repository      - INFO  - Getting the top word: burger
2025-02-22 16:39:33,835 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 16:39:33,836 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 16:39:33,836 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 16:39:33,837 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 16:39:33,838 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 16:39:33,839 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 16:39:33,839 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 16:39:33,840 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 16:39:46,288 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-22 16:39:46,288 - word_repository      - INFO  - Pushing back pizzq.
2025-02-22 16:39:46,289 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 16:39:46,290 - word_repository      - DEBUG - ['burger', 'pizza', 'pizzq']
2025-02-22 16:39:46,291 - word_repository      - INFO  - Words saved successfully.
2025-02-22 16:39:46,291 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-22 16:40:35,158 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-22 16:40:35,160 - word_repository      - INFO  - Pushing front notation.
2025-02-22 16:40:35,160 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 16:40:35,161 - word_repository      - DEBUG - ['notation', 'burger', 'pizza', 'pizzq']
2025-02-22 16:40:35,162 - word_repository      - INFO  - Words saved successfully.
2025-02-22 16:40:35,163 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-22 16:40:35,163 - anki_adder           - INFO  - Getting new translation
2025-02-22 16:40:35,164 - word_repository      - INFO  - Getting the top word: notation
2025-02-22 16:40:35,164 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 16:40:35,165 - LLMModels            - INFO  - Requesting: notation
2025-02-22 16:40:35,169 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'notation'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 16:40:35,374 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 16:40:35,375 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 16:40:35,418 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F70F269F70>
2025-02-22 16:40:35,419 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F70F23B4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 16:40:35,436 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F70E9E7770>
2025-02-22 16:40:35,437 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 16:40:35,438 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 16:40:35,439 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 16:40:35,440 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 16:40:35,441 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 16:40:38,677 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 15:40:38 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T15:40:36Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T15:40:37Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T15:40:38Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T15:40:37Z'), (b'request-id', b'req_018biRG1nkeoyiRNnydEPmwY'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91601351eb28b1d0-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 16:40:38,680 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 16:40:38,681 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 16:40:38,682 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 16:40:38,683 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 16:40:38,683 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 16:40:38,684 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 15:40:38 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T15:40:36Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T15:40:37Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T15:40:38Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T15:40:37Z', 'request-id': 'req_018biRG1nkeoyiRNnydEPmwY', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91601351eb28b1d0-WAW', 'content-encoding': 'gzip'})
2025-02-22 16:40:38,686 - anthropic._base_client - DEBUG - request_id: req_018biRG1nkeoyiRNnydEPmwY
2025-02-22 16:40:38,697 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=224
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 16:40:38,698 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "notacja": "5/5",
        "zapis": "4/5",
        "oznaczenie": "3/5"
    },
    "Uycie": "Rzeczownik, system symboli lub znakw uywanych do reprezentacji informacji",
    "Zdanie": "The musical notation was complex.",
    "Tumaczenie": "Notacja muzyczna bya skomplikowana.",
    "Czstotliwo": "3/5, B2",
    "Konteksty": ["muzyka", "matematyka", "nauka"],
    "Synonimy": {
        "system": "system - 4/5",
        "symbolism": "symbolika - 3/5",
        "annotation": "adnotacja - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 16:40:38,700 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 16:40:38,701 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'notacja: 5/5\nzapis: 4/5\noznaczenie: 3/5'), ('Uycie', 'Rzeczownik, system symboli lub znakw uywanych do reprezentacji informacji'), ('Zdanie', 'The musical notation was complex.'), ('Tumaczenie', 'Notacja muzyczna bya skomplikowana.'), ('Czstotliwo', '3/5, B2'), ('Konteksty', 'muzyka, matematyka, nauka'), ('Synonimy', 'system: system - 4/5\nsymbolism: symbolika - 3/5\nannotation: adnotacja - 2/5'), ('is_word_correct', 'ok')]
2025-02-22 16:40:38,702 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 16:40:38,702 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 16:40:38,703 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 16:40:56,734 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 16:40:56,735 - anki_adder           - INFO  - add flashcard
2025-02-22 16:40:56,735 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 16:40:56,736 - flashcard_repository - INFO  - Flashcard: sdf;dsf
, successfully added.
2025-02-22 16:40:56,737 - word_repository      - INFO  - Getting the top word: notation
2025-02-22 16:40:56,738 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 16:40:56,739 - word_repository      - DEBUG - ['burger', 'pizza', 'pizzq']
2025-02-22 16:40:56,740 - word_repository      - INFO  - Words saved successfully.
2025-02-22 16:40:56,740 - word_repository      - INFO  - Word notation deleted successfully. Beginning word changed: True
2025-02-22 16:40:56,741 - anki_adder           - INFO  - Getting new translation
2025-02-22 16:40:56,742 - word_repository      - INFO  - Getting the top word: burger
2025-02-22 16:40:56,742 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 16:40:56,743 - LLMModels            - INFO  - Requesting: burger
2025-02-22 16:40:56,745 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'burger'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 16:40:56,753 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 16:40:56,754 - httpcore.connection  - DEBUG - close.started
2025-02-22 16:40:56,756 - httpcore.connection  - DEBUG - close.complete
2025-02-22 16:40:56,756 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 16:40:56,763 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F70F2A2210>
2025-02-22 16:40:56,764 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F70F23B4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 16:40:56,776 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F70F2A2120>
2025-02-22 16:40:56,777 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 16:40:56,778 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 16:40:56,778 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 16:40:56,779 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 16:40:56,779 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 16:40:59,826 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 15:40:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T15:40:58Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T15:40:59Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T15:40:59Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T15:40:59Z'), (b'request-id', b'req_01PL2eJkg9k2Rrf7qFxfux3b'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916013d74a70ecc4-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 16:40:59,829 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 16:40:59,829 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 16:40:59,830 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 16:40:59,831 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 16:40:59,831 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 16:40:59,832 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 15:40:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T15:40:58Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T15:40:59Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T15:40:59Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T15:40:59Z', 'request-id': 'req_01PL2eJkg9k2Rrf7qFxfux3b', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916013d74a70ecc4-WAW', 'content-encoding': 'gzip'})
2025-02-22 16:40:59,834 - anthropic._base_client - DEBUG - request_id: req_01PL2eJkg9k2Rrf7qFxfux3b
2025-02-22 16:40:59,835 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=228
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 16:40:59,837 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "hamburger": "5/5",
        "kotlet": "3/5",
        "burger": "4/5"
    },
    "Uycie": "Rzeczownik, rodzaj kanapki z misem lub innym nadzieniem",
    "Zdanie": "I ordered a cheese burger.",
    "Tumaczenie": "Zamwiem burgera z serem.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["fast food", "kuchnia", "restauracje"],
    "Synonimy": {
        "hamburger": "hamburger - 5/5",
        "patty": "kotlet - 3/5",
        "sandwich": "kanapka - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 16:40:59,839 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 16:40:59,840 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'hamburger: 5/5\nkotlet: 3/5\nburger: 4/5'), ('Uycie', 'Rzeczownik, rodzaj kanapki z misem lub innym nadzieniem'), ('Zdanie', 'I ordered a cheese burger.'), ('Tumaczenie', 'Zamwiem burgera z serem.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'fast food, kuchnia, restauracje'), ('Synonimy', 'hamburger: hamburger - 5/5\npatty: kotlet - 3/5\nsandwich: kanapka - 4/5'), ('is_word_correct', 'ok')]
2025-02-22 16:40:59,841 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 16:40:59,842 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 16:40:59,843 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 16:41:21,587 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 16:41:21,588 - anki_adder           - INFO  - add flashcard
2025-02-22 16:41:21,589 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 16:41:21,590 - flashcard_repository - INFO  - Flashcard: fas;sdasd
, successfully added.
2025-02-22 16:41:21,590 - word_repository      - INFO  - Getting the top word: burger
2025-02-22 16:41:21,591 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 16:41:21,592 - word_repository      - DEBUG - ['pizza', 'pizzq']
2025-02-22 16:41:21,592 - word_repository      - INFO  - Words saved successfully.
2025-02-22 16:41:21,593 - word_repository      - INFO  - Word burger deleted successfully. Beginning word changed: True
2025-02-22 16:41:21,593 - anki_adder           - INFO  - Getting new translation
2025-02-22 16:41:21,594 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 16:41:21,595 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 16:41:21,595 - LLMModels            - INFO  - Requesting: pizza
2025-02-22 16:41:21,598 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 16:41:21,607 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 16:41:21,608 - httpcore.connection  - DEBUG - close.started
2025-02-22 16:41:21,608 - httpcore.connection  - DEBUG - close.complete
2025-02-22 16:41:21,609 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 16:41:21,632 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F70F2A3DD0>
2025-02-22 16:41:21,633 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F70F23B4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 16:41:21,651 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F70F2A3A70>
2025-02-22 16:41:21,652 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 16:41:21,653 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 16:41:21,654 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 16:41:21,655 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 16:41:21,656 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 16:41:24,580 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 15:41:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T15:41:23Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T15:41:24Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T15:41:24Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T15:41:24Z'), (b'request-id', b'req_01Y7hFM5Y9A6seBNijwvQkru'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91601472c85b01fe-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 16:41:24,583 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 16:41:24,584 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 16:41:24,585 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 16:41:24,586 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 16:41:24,586 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 16:41:24,587 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 15:41:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T15:41:23Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T15:41:24Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T15:41:24Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T15:41:24Z', 'request-id': 'req_01Y7hFM5Y9A6seBNijwvQkru', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91601472c85b01fe-WAW', 'content-encoding': 'gzip'})
2025-02-22 16:41:24,589 - anthropic._base_client - DEBUG - request_id: req_01Y7hFM5Y9A6seBNijwvQkru
2025-02-22 16:41:24,591 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=203
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-22 16:41:24,592 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "pizza": "5/5",
        "placek": "1/5"
    },
    "Uycie": "Rzeczownik, okrgy placek z ciasta z rnymi dodatkami",
    "Zdanie": "I ordered a pepperoni pizza.",
    "Tumaczenie": "Zamwiem pizz pepperoni.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["jedzenie", "restauracje", "fast food"],
    "Synonimy": {
        "pie": "placek - 2/5",
        "flatbread": "placek - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-22 16:41:24,594 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 16:41:24,594 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'pizza: 5/5\nplacek: 1/5'), ('Uycie', 'Rzeczownik, okrgy placek z ciasta z rnymi dodatkami'), ('Zdanie', 'I ordered a pepperoni pizza.'), ('Tumaczenie', 'Zamwiem pizz pepperoni.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'jedzenie, restauracje, fast food'), ('Synonimy', 'pie: placek - 2/5\nflatbread: placek - 2/5'), ('is_word_correct', 'ok')]
2025-02-22 16:41:24,596 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 16:41:24,597 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 16:41:24,597 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 16:41:42,143 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 16:41:42,143 - anki_adder           - INFO  - add flashcard
2025-02-22 16:41:42,144 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 16:41:42,145 - flashcard_repository - INFO  - Flashcard: sdf;asdf
, successfully added.
2025-02-22 16:41:42,145 - word_repository      - INFO  - Getting the top word: pizza
2025-02-22 16:41:42,146 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 16:41:42,147 - word_repository      - DEBUG - ['pizzq']
2025-02-22 16:41:42,148 - word_repository      - INFO  - Words saved successfully.
2025-02-22 16:41:42,148 - word_repository      - INFO  - Word pizza deleted successfully. Beginning word changed: True
2025-02-22 16:41:42,149 - anki_adder           - INFO  - Getting new translation
2025-02-22 16:41:42,149 - word_repository      - INFO  - Getting the top word: pizzq
2025-02-22 16:41:42,150 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 16:41:42,151 - LLMModels            - INFO  - Requesting: pizzq
2025-02-22 16:41:42,153 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'pizzq'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 16:41:42,162 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 16:41:42,163 - httpcore.connection  - DEBUG - close.started
2025-02-22 16:41:42,164 - httpcore.connection  - DEBUG - close.complete
2025-02-22 16:41:42,164 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 16:41:42,173 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F70F2BDA60>
2025-02-22 16:41:42,175 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F70F23B4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 16:41:42,188 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F70F2BD7C0>
2025-02-22 16:41:42,189 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 16:41:42,190 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 16:41:42,191 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 16:41:42,192 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 16:41:42,192 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 16:41:45,517 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 15:41:45 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T15:41:43Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T15:41:44Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T15:41:45Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T15:41:44Z'), (b'request-id', b'req_0148XCMZWnj2gxPHu7HtZNXE'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916014f32932eed2-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 16:41:45,520 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 16:41:45,521 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 16:41:45,522 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 16:41:45,523 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 16:41:45,523 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 16:41:45,524 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 15:41:45 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T15:41:43Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T15:41:44Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T15:41:45Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T15:41:44Z', 'request-id': 'req_0148XCMZWnj2gxPHu7HtZNXE', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916014f32932eed2-WAW', 'content-encoding': 'gzip'})
2025-02-22 16:41:45,526 - anthropic._base_client - DEBUG - request_id: req_0148XCMZWnj2gxPHu7HtZNXE
2025-02-22 16:41:45,527 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=9
output_tokens=195
Cache hit rate: 99.4%
Tokens saved: 1484
2025-02-22 16:41:45,528 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "pizza": "5/5"
    },
    "Uycie": "Rzeczownik, okrge, paskie ciasto z dodatkami",
    "Zdanie": "I ordered a pepperoni pizza.",
    "Tumaczenie": "Zamwiem pizz pepperoni.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["jedzenie", "restauracje", "fast food"],
    "Synonimy": {
        "pie": "placek - 3/5",
        "flatbread": "paski chleb - 2/5"
    },
    "is_word_correct": "pizza"
}
2025-02-22 16:41:45,530 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 16:41:45,531 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'pizza: 5/5'), ('Uycie', 'Rzeczownik, okrge, paskie ciasto z dodatkami'), ('Zdanie', 'I ordered a pepperoni pizza.'), ('Tumaczenie', 'Zamwiem pizz pepperoni.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'jedzenie, restauracje, fast food'), ('Synonimy', 'pie: placek - 3/5\nflatbread: paski chleb - 2/5'), ('is_word_correct', 'pizza')]
2025-02-22 16:41:45,532 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 16:41:45,533 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 16:41:45,533 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 16:41:50,479 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 16:41:50,480 - anki_adder           - INFO  - add flashcard
2025-02-22 16:41:50,480 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 16:41:50,481 - flashcard_repository - INFO  - Flashcard: al;sjdf;asdf
, successfully added.
2025-02-22 16:41:50,482 - word_repository      - INFO  - Getting the top word: pizzq
2025-02-22 16:41:50,482 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 16:41:50,483 - word_repository      - DEBUG - []
2025-02-22 16:41:50,484 - word_repository      - INFO  - Words saved successfully.
2025-02-22 16:41:50,484 - word_repository      - INFO  - Word pizzq deleted successfully. Beginning word changed: True
2025-02-22 16:41:50,485 - anki_adder           - INFO  - Getting new translation
2025-02-22 16:41:50,485 - word_repository      - INFO  - Getting the top word: None
2025-02-22 16:41:50,486 - anki_adder           - WARNING - No word to translate
2025-02-22 16:41:57,611 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-22 16:41:57,612 - word_repository      - INFO  - Pushing back portugalia.
2025-02-22 16:41:57,613 - word_repository      - INFO  - Array is empty, adding portugalia.
2025-02-22 16:41:57,613 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 16:41:57,614 - word_repository      - DEBUG - ['portugalia']
2025-02-22 16:41:57,615 - word_repository      - INFO  - Words saved successfully.
2025-02-22 16:41:57,616 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: True
2025-02-22 16:41:57,616 - anki_adder           - INFO  - Getting new translation
2025-02-22 16:41:57,616 - word_repository      - INFO  - Getting the top word: portugalia
2025-02-22 16:41:57,617 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-22 16:41:57,618 - LLMModels            - INFO  - Requesting: portugalia
2025-02-22 16:41:57,621 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'portugalia'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-22 16:41:57,630 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-22 16:41:57,631 - httpcore.connection  - DEBUG - close.started
2025-02-22 16:41:57,631 - httpcore.connection  - DEBUG - close.complete
2025-02-22 16:41:57,632 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-22 16:41:57,640 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F70F2A2720>
2025-02-22 16:41:57,641 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F70F23B4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-22 16:41:57,658 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F70F2A2A80>
2025-02-22 16:41:57,659 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-22 16:41:57,660 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-22 16:41:57,660 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-22 16:41:57,661 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-22 16:41:57,662 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-22 16:42:00,751 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 22 Feb 2025 15:42:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-22T15:41:59Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-22T15:42:00Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-22T15:42:00Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-22T15:42:00Z'), (b'request-id', b'req_01MqrpQEyjYvcxit514XC8Ga'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91601553db2ebbdc-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-22 16:42:00,753 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-22 16:42:00,753 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-22 16:42:00,754 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-22 16:42:00,755 - httpcore.http11      - DEBUG - response_closed.started
2025-02-22 16:42:00,756 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-22 16:42:00,757 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sat, 22 Feb 2025 15:42:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-22T15:41:59Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-22T15:42:00Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-22T15:42:00Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-22T15:42:00Z', 'request-id': 'req_01MqrpQEyjYvcxit514XC8Ga', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91601553db2ebbdc-WAW', 'content-encoding': 'gzip'})
2025-02-22 16:42:00,759 - anthropic._base_client - DEBUG - request_id: req_01MqrpQEyjYvcxit514XC8Ga
2025-02-22 16:42:00,760 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=9
output_tokens=208
Cache hit rate: 99.4%
Tokens saved: 1484
2025-02-22 16:42:00,761 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "Portugalia": "5/5"
    },
    "Uycie": "Rzeczownik wasny, nazwa kraju w poudniowo-zachodniej Europie",
    "Zdanie": "We're planning a trip to Portugal.",
    "Tumaczenie": "Planujemy podr do Portugalii.",
    "Czstotliwo": "4/5, A2",
    "Konteksty": ["geografia", "podre", "kultura europejska"],
    "Synonimy": {
        "Portuguese Republic": "Republika Portugalska - 2/5",
        "Lusitania": "Luzytania (historycznie) - 1/5"
    },
    "is_word_correct": "Portugal"
}
2025-02-22 16:42:00,763 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-22 16:42:00,764 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'Portugalia: 5/5'), ('Uycie', 'Rzeczownik wasny, nazwa kraju w poudniowo-zachodniej Europie'), ('Zdanie', "We're planning a trip to Portugal."), ('Tumaczenie', 'Planujemy podr do Portugalii.'), ('Czstotliwo', '4/5, A2'), ('Konteksty', 'geografia, podre, kultura europejska'), ('Synonimy', 'Portuguese Republic: Republika Portugalska - 2/5\nLusitania: Luzytania (historycznie) - 1/5'), ('is_word_correct', 'Portugal')]
2025-02-22 16:42:00,765 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-22 16:42:00,766 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-22 16:42:00,766 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-22 16:42:04,020 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-22 16:42:04,021 - anki_adder           - INFO  - add flashcard
2025-02-22 16:42:04,022 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-22 16:42:04,023 - flashcard_repository - INFO  - Flashcard: sdfa;sdf
, successfully added.
2025-02-22 16:42:04,024 - word_repository      - INFO  - Getting the top word: portugalia
2025-02-22 16:42:04,024 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-22 16:42:04,025 - word_repository      - DEBUG - []
2025-02-22 16:42:04,026 - word_repository      - INFO  - Words saved successfully.
2025-02-22 16:42:04,026 - word_repository      - INFO  - Word portugalia deleted successfully. Beginning word changed: True
2025-02-22 16:42:04,027 - anki_adder           - INFO  - Getting new translation
2025-02-22 16:42:04,027 - word_repository      - INFO  - Getting the top word: None
2025-02-22 16:42:04,028 - anki_adder           - WARNING - No word to translate
2025-02-22 16:42:36,836 - httpcore.connection  - DEBUG - close.started
2025-02-22 16:42:36,839 - httpcore.connection  - DEBUG - close.complete
2025-02-22 16:49:58,643 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 16:49:58,643 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 16:49:58,643 - events               - INFO  - EventManager init.
2025-02-22 16:49:58,643 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 16:49:58,743 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 16:49:58,760 - word_repository      - INFO  - WordRepository init.
2025-02-22 16:49:58,760 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 16:49:58,772 - word_repository      - DEBUG - []
2025-02-22 16:49:58,772 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 16:49:58,774 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 16:49:58,775 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 16:49:58,780 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 16:49:59,568 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 16:49:59,570 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 16:49:59,571 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 16:49:59,572 - word_repository      - INFO  - Getting the top word: None
2025-02-22 16:49:59,572 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 16:49:59,572 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 16:49:59,573 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 16:49:59,573 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 16:49:59,574 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 16:49:59,574 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 16:49:59,575 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 16:49:59,576 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 16:53:44,680 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 16:53:44,681 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 16:53:44,681 - events               - INFO  - EventManager init.
2025-02-22 16:53:44,682 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 16:53:44,794 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 16:54:13,488 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 16:54:13,504 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 16:54:13,504 - events               - INFO  - EventManager init.
2025-02-22 16:54:13,504 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 16:54:13,611 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 16:54:13,624 - word_repository      - INFO  - WordRepository init.
2025-02-22 16:54:13,625 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 16:54:13,626 - word_repository      - DEBUG - []
2025-02-22 16:54:13,626 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 16:54:13,628 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 16:54:13,629 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 16:54:13,633 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 16:54:14,348 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 16:54:14,348 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 16:54:14,348 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 16:54:14,348 - word_repository      - INFO  - Getting the top word: None
2025-02-22 16:54:14,348 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 16:54:14,348 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 16:54:14,348 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 16:54:14,348 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 16:54:14,348 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 16:54:14,360 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 16:54:14,360 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 16:54:14,361 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 16:54:38,679 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 16:54:38,695 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 16:54:38,696 - events               - INFO  - EventManager init.
2025-02-22 16:54:38,696 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 16:54:38,796 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 16:54:38,818 - word_repository      - INFO  - WordRepository init.
2025-02-22 16:54:38,819 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 16:54:38,819 - word_repository      - DEBUG - []
2025-02-22 16:54:38,819 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 16:54:38,819 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 16:54:38,819 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 16:54:38,828 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 16:54:39,557 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 16:54:39,557 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 16:54:39,557 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 16:54:39,572 - word_repository      - INFO  - Getting the top word: None
2025-02-22 16:54:39,572 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 16:54:39,572 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 16:54:39,572 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 16:54:39,572 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 16:54:39,572 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 16:54:39,576 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 16:54:39,576 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 16:54:39,577 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 17:03:59,485 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 17:03:59,485 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 17:03:59,485 - events               - INFO  - EventManager init.
2025-02-22 17:03:59,485 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 17:03:59,602 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 17:03:59,625 - word_repository      - INFO  - WordRepository init.
2025-02-22 17:03:59,625 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 17:03:59,625 - word_repository      - DEBUG - []
2025-02-22 17:03:59,625 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 17:03:59,634 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 17:03:59,635 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 17:03:59,639 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 17:04:00,371 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 17:04:00,371 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 17:04:00,371 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 17:04:00,371 - word_repository      - INFO  - Getting the top word: None
2025-02-22 17:04:00,386 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 17:04:00,386 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 17:04:00,386 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 17:04:00,386 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 17:04:00,386 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 17:04:00,389 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 17:04:00,389 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 17:04:00,390 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 17:04:32,601 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 17:04:32,601 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 17:04:32,601 - events               - INFO  - EventManager init.
2025-02-22 17:04:32,601 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 17:04:32,718 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 17:04:32,740 - word_repository      - INFO  - WordRepository init.
2025-02-22 17:04:32,740 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 17:04:32,740 - word_repository      - DEBUG - []
2025-02-22 17:04:32,740 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 17:04:32,750 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 17:04:32,751 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 17:04:32,755 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 17:04:33,502 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 17:04:33,502 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 17:04:33,502 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 17:04:33,502 - word_repository      - INFO  - Getting the top word: None
2025-02-22 17:04:33,502 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 17:04:33,502 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 17:04:33,502 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 17:04:33,502 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 17:04:33,502 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 17:04:33,502 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 17:04:33,502 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 17:04:33,510 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 17:04:34,601 - events               - ERROR - Cannot emit event EventType.SHOW_REPOSITORY, do not exists in dictionary.
2025-02-22 17:16:47,787 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 17:16:47,787 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 17:16:47,788 - events               - INFO  - EventManager init.
2025-02-22 17:16:47,788 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 17:16:47,900 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 17:16:47,922 - word_repository      - INFO  - WordRepository init.
2025-02-22 17:16:47,923 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 17:16:47,924 - word_repository      - DEBUG - []
2025-02-22 17:16:47,924 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 17:16:47,926 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 17:16:47,927 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 17:16:47,931 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 17:16:48,678 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 17:16:48,679 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 17:16:48,680 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 17:16:48,681 - word_repository      - INFO  - Getting the top word: None
2025-02-22 17:16:48,681 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 17:16:48,682 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 17:16:48,682 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 17:16:48,683 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 17:16:48,683 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 17:16:48,684 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 17:16:48,684 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 17:16:48,685 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 17:16:48,685 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-22 17:16:48,686 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-22 17:17:41,569 - __main__             - INFO  - Launching AnkiAdder.
2025-02-22 17:17:41,569 - anki_adder           - INFO  - AnkiAdder init.
2025-02-22 17:17:41,570 - events               - INFO  - EventManager init.
2025-02-22 17:17:41,571 - gui.main_window      - INFO  - MainWindow init.
2025-02-22 17:17:41,691 - gui.components.word_input - INFO  - WordInput init.
2025-02-22 17:17:41,716 - word_repository      - INFO  - WordRepository init.
2025-02-22 17:17:41,717 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-22 17:17:41,718 - word_repository      - DEBUG - []
2025-02-22 17:17:41,718 - word_repository      - INFO  - Words loaded successfully.
2025-02-22 17:17:41,720 - LLMModels            - INFO  - API key loaded successfully.
2025-02-22 17:17:41,720 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-22 17:17:41,725 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-22 17:17:42,461 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-22 17:17:42,462 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-22 17:17:42,464 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-22 17:17:42,464 - word_repository      - INFO  - Getting the top word: None
2025-02-22 17:17:42,465 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-22 17:17:42,465 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-22 17:17:42,466 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-22 17:17:42,466 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-22 17:17:42,467 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-22 17:17:42,467 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-22 17:17:42,468 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-22 17:17:42,468 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-22 17:17:42,469 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-22 17:17:42,469 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 17:03:04,054 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 17:03:04,056 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 17:03:04,057 - events               - INFO  - EventManager init.
2025-02-23 17:03:04,058 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 17:03:04,271 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 17:03:04,310 - gui.components.repository - INFO  - Repository init.
2025-02-23 17:03:04,312 - word_repository      - INFO  - WordRepository init.
2025-02-23 17:03:04,312 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 17:03:04,313 - word_repository      - DEBUG - []
2025-02-23 17:03:04,313 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 17:03:04,315 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 17:03:04,316 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 17:03:04,332 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 17:03:05,310 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 17:03:05,310 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 17:03:05,310 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 17:03:05,310 - word_repository      - INFO  - Getting the top word: None
2025-02-23 17:03:05,310 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:03:05,316 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:03:05,316 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 17:03:05,316 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 17:03:05,316 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:03:05,316 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:03:05,319 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 17:03:05,319 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 17:03:05,320 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 17:03:05,320 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 17:03:10,366 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 17:03:51,766 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 17:03:51,766 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 17:03:51,766 - events               - INFO  - EventManager init.
2025-02-23 17:03:51,766 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 17:03:51,871 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 17:03:51,900 - gui.components.repository - INFO  - Repository init.
2025-02-23 17:03:51,901 - word_repository      - INFO  - WordRepository init.
2025-02-23 17:03:51,901 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 17:03:51,903 - word_repository      - DEBUG - []
2025-02-23 17:03:51,904 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 17:03:51,904 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 17:03:51,906 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 17:03:51,911 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 17:03:52,656 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 17:03:52,656 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 17:03:52,660 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 17:03:52,660 - word_repository      - INFO  - Getting the top word: None
2025-02-23 17:03:52,660 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:03:52,660 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:03:52,660 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 17:03:52,660 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 17:03:52,660 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:03:52,665 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:03:52,665 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 17:03:52,666 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 17:03:52,666 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 17:03:52,667 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 17:03:53,896 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 17:04:17,646 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 17:04:17,646 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 17:04:17,646 - events               - INFO  - EventManager init.
2025-02-23 17:04:17,646 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 17:04:17,753 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 17:04:17,801 - gui.components.repository - INFO  - Repository init.
2025-02-23 17:04:17,806 - word_repository      - INFO  - WordRepository init.
2025-02-23 17:04:17,806 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 17:04:17,806 - word_repository      - DEBUG - []
2025-02-23 17:04:17,806 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 17:04:17,814 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 17:04:17,814 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 17:04:17,819 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 17:04:18,577 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 17:04:18,586 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 17:04:18,586 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 17:04:18,586 - word_repository      - INFO  - Getting the top word: None
2025-02-23 17:04:18,586 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:04:18,586 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:04:18,586 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 17:04:18,586 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 17:04:18,586 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:04:18,586 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:04:18,592 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 17:04:18,592 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 17:04:18,593 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 17:04:18,594 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 17:04:19,930 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 17:04:49,066 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 17:04:49,066 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 17:04:49,071 - events               - INFO  - EventManager init.
2025-02-23 17:04:49,071 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 17:04:49,191 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 17:04:49,216 - gui.components.repository - INFO  - Repository init.
2025-02-23 17:04:49,218 - word_repository      - INFO  - WordRepository init.
2025-02-23 17:04:49,218 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 17:04:49,218 - word_repository      - DEBUG - []
2025-02-23 17:04:49,218 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 17:04:49,218 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 17:04:49,218 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 17:04:49,227 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 17:04:49,966 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 17:04:49,966 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 17:04:49,966 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 17:04:49,966 - word_repository      - INFO  - Getting the top word: None
2025-02-23 17:04:49,966 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:04:49,966 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:04:49,966 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 17:04:49,966 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 17:04:49,966 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:04:49,966 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:04:49,966 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 17:04:49,975 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 17:04:49,978 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 17:04:49,979 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 17:04:51,747 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 17:05:05,917 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 17:05:15,466 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 17:05:15,466 - word_repository      - INFO  - Pushing back book.
2025-02-23 17:05:15,466 - word_repository      - INFO  - Array is empty, adding book.
2025-02-23 17:05:15,466 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 17:05:15,466 - word_repository      - DEBUG - ['book']
2025-02-23 17:05:15,466 - word_repository      - INFO  - Words saved successfully.
2025-02-23 17:05:15,466 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: True
2025-02-23 17:05:15,466 - anki_adder           - INFO  - Getting new translation
2025-02-23 17:05:15,466 - word_repository      - INFO  - Getting the top word: book
2025-02-23 17:05:15,466 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 17:05:15,474 - LLMModels            - INFO  - Requesting: book
2025-02-23 17:05:15,481 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'book'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 17:05:15,789 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 17:05:15,790 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 17:05:15,870 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002739FC6A8A0>
2025-02-23 17:05:15,871 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002739FC3F4D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 17:05:15,893 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002739F5E9D00>
2025-02-23 17:05:15,894 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 17:05:15,895 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 17:05:15,896 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 17:05:15,897 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 17:05:15,897 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 17:05:19,356 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 16:05:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T16:05:16Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T16:05:17Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T16:05:18Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T16:05:17Z'), (b'request-id', b'req_01QgUQ7D9khgGRT4qzeketTg'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916874d388d2c403-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 17:05:19,360 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 17:05:19,360 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 17:05:19,364 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 17:05:19,365 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 17:05:19,365 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 17:05:19,366 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 16:05:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T16:05:16Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T16:05:17Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T16:05:18Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T16:05:17Z', 'request-id': 'req_01QgUQ7D9khgGRT4qzeketTg', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916874d388d2c403-WAW', 'content-encoding': 'gzip'})
2025-02-23 17:05:19,369 - anthropic._base_client - DEBUG - request_id: req_01QgUQ7D9khgGRT4qzeketTg
2025-02-23 17:05:19,382 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=268
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 17:05:19,384 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "ksika": "5/5",
        "rezerwowa": "3/5",
        "zamawia": "2/5",
        "zapisywa": "2/5"
    },
    "Uycie": "Rzeczownik, drukowane lub elektroniczne dzieo literackie; Czasownik, rezerwowa lub zamawia",
    "Zdanie": "She wrote a book about plants.",
    "Tumaczenie": "Ona napisaa ksik o rolinach.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["literatura", "edukacja", "rezerwacje"],
    "Synonimy": {
        "novel": "powie - 4/5",
        "tome": "tom - 2/5",
        "reserve": "rezerwowa - 3/5",
        "publication": "publikacja - 3/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 17:05:19,387 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 17:05:19,388 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'ksika: 5/5\nrezerwowa: 3/5\nzamawia: 2/5\nzapisywa: 2/5'), ('Uycie', 'Rzeczownik, drukowane lub elektroniczne dzieo literackie; Czasownik, rezerwowa lub zamawia'), ('Zdanie', 'She wrote a book about plants.'), ('Tumaczenie', 'Ona napisaa ksik o rolinach.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'literatura, edukacja, rezerwacje'), ('Synonimy', 'novel: powie - 4/5\ntome: tom - 2/5\nreserve: rezerwowa - 3/5\npublication: publikacja - 3/5'), ('is_word_correct', 'ok')]
2025-02-23 17:05:19,389 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 17:05:19,389 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 17:05:19,389 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 17:05:21,306 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 17:05:21,306 - word_repository      - INFO  - Pushing back look.
2025-02-23 17:05:21,310 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 17:05:21,310 - word_repository      - DEBUG - ['book', 'look']
2025-02-23 17:05:21,310 - word_repository      - INFO  - Words saved successfully.
2025-02-23 17:05:21,310 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 17:05:24,727 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 17:05:24,727 - word_repository      - INFO  - Pushing back fuse.
2025-02-23 17:05:24,727 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 17:05:24,727 - word_repository      - DEBUG - ['book', 'look', 'fuse']
2025-02-23 17:05:24,727 - word_repository      - INFO  - Words saved successfully.
2025-02-23 17:05:24,727 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 17:05:31,636 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 17:05:36,581 - httpcore.connection  - DEBUG - close.started
2025-02-23 17:05:36,585 - httpcore.connection  - DEBUG - close.complete
2025-02-23 17:07:20,998 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 17:07:20,999 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 17:07:21,000 - events               - INFO  - EventManager init.
2025-02-23 17:07:21,000 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 17:07:21,106 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 17:07:21,133 - gui.components.repository - INFO  - Repository init.
2025-02-23 17:07:21,134 - word_repository      - INFO  - WordRepository init.
2025-02-23 17:07:21,134 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 17:07:21,136 - word_repository      - DEBUG - ['book', 'look', 'fuse']
2025-02-23 17:07:21,137 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 17:07:21,137 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 17:07:21,137 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 17:07:21,144 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 17:07:21,896 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 17:07:21,896 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 17:07:21,906 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 17:07:21,906 - word_repository      - INFO  - Getting the top word: book
2025-02-23 17:07:21,906 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:07:21,906 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:07:21,906 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 17:07:21,906 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 17:07:21,906 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:07:21,910 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:07:21,911 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 17:07:21,911 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 17:07:21,912 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 17:07:21,913 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 17:07:51,036 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 17:07:51,036 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 17:07:51,036 - events               - INFO  - EventManager init.
2025-02-23 17:07:51,036 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 17:07:51,150 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 17:07:51,182 - gui.components.repository - INFO  - Repository init.
2025-02-23 17:07:51,183 - word_repository      - INFO  - WordRepository init.
2025-02-23 17:07:51,183 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 17:07:51,184 - word_repository      - DEBUG - ['book', 'look', 'fuse']
2025-02-23 17:07:51,185 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 17:07:51,187 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 17:07:51,187 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 17:07:51,191 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 17:07:51,917 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 17:07:51,917 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 17:07:51,917 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 17:07:51,926 - word_repository      - INFO  - Getting the top word: book
2025-02-23 17:07:51,926 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:07:51,927 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:07:51,927 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 17:07:51,928 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 17:07:51,929 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:07:51,929 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:07:51,929 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 17:07:51,931 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 17:07:51,932 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 17:07:51,932 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 17:07:58,446 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 17:07:58,446 - word_repository      - INFO  - Pushing back butterfly.
2025-02-23 17:07:58,446 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 17:07:58,446 - word_repository      - DEBUG - ['book', 'look', 'fuse', 'butterfly']
2025-02-23 17:07:58,446 - word_repository      - INFO  - Words saved successfully.
2025-02-23 17:07:58,446 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 17:08:04,967 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 17:08:12,446 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-23 17:08:12,446 - word_repository      - INFO  - Getting the top word: book
2025-02-23 17:08:12,446 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-23 17:08:12,446 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-23 17:08:12,446 - LLMModels            - INFO  - Requesting: do you have a book
2025-02-23 17:08:12,455 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'do you have a book'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 17:08:12,646 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 17:08:12,646 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 17:08:12,680 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000267A632EF90>
2025-02-23 17:08:12,680 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000267A6C4F3D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 17:08:12,699 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000267A6309F40>
2025-02-23 17:08:12,701 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 17:08:12,702 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 17:08:12,702 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 17:08:12,702 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 17:08:12,702 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 17:08:14,826 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 16:08:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T16:08:13Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T16:08:14Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T16:08:14Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T16:08:14Z'), (b'request-id', b'req_01UX4xitRRDAQe1nR1gqSjjw'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916879248b11b21b-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 17:08:14,830 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 17:08:14,830 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 17:08:14,830 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 17:08:14,834 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 17:08:14,834 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 17:08:14,835 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 16:08:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T16:08:13Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T16:08:14Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T16:08:14Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T16:08:14Z', 'request-id': 'req_01UX4xitRRDAQe1nR1gqSjjw', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916879248b11b21b-WAW', 'content-encoding': 'gzip'})
2025-02-23 17:08:14,838 - anthropic._base_client - DEBUG - request_id: req_01UX4xitRRDAQe1nR1gqSjjw
2025-02-23 17:08:14,850 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1143
cache_read_input_tokens=0
input_tokens=12
output_tokens=118
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 17:08:14,852 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Brak znaku zapytania na kocu pytania",
"Naturalno jzykowa": "Poprawne, ale nieco nieformalne",
"Zdanie angielskie": "Do you have a book?",
"Tumaczenie zdania": "Czy masz ksik?",
"notatka": "W jzyku angielskim pytania zawsze kocz si znakiem zapytania."
}
2025-02-23 17:08:14,853 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 17:08:14,853 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Brak znaku zapytania na kocu pytania'), ('Naturalno jzykowa', 'Poprawne, ale nieco nieformalne'), ('Zdanie angielskie', 'Do you have a book?'), ('Tumaczenie zdania', 'Czy masz ksik?'), ('notatka', 'W jzyku angielskim pytania zawsze kocz si znakiem zapytania.')]
2025-02-23 17:08:14,855 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-23 17:08:14,855 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-23 17:08:14,856 - anki_adder           - DEBUG - Creading flashcard
2025-02-23 17:08:14,856 - queris               - DEBUG - Safe execution of get falshcard
2025-02-23 17:08:14,856 - LLMModels            - INFO  - Requesting: Do you have a book?:book
2025-02-23 17:08:14,860 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you have a book?:book'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 17:08:14,866 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 17:08:14,867 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 17:08:14,869 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 17:08:14,869 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 17:08:14,870 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 17:08:14,871 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 17:08:16,830 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 16:08:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T16:08:15Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T16:08:16Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T16:08:16Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T16:08:16Z'), (b'request-id', b'req_015dva3gXsZU2EmBU3sXagkz'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916879321d6ab21b-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 17:08:16,836 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 17:08:16,836 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 17:08:16,836 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 17:08:16,836 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 17:08:16,836 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 17:08:16,836 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 16:08:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T16:08:15Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T16:08:16Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T16:08:16Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T16:08:16Z', 'request-id': 'req_015dva3gXsZU2EmBU3sXagkz', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916879321d6ab21b-WAW', 'content-encoding': 'gzip'})
2025-02-23 17:08:16,842 - anthropic._base_client - DEBUG - request_id: req_015dva3gXsZU2EmBU3sXagkz
2025-02-23 17:08:16,843 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1010
output_tokens=33
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 17:08:16,844 - formatter            - DEBUG - json str:{
"Zdanie": "Do you have a [[ksik]]?",
"Wyraz": "book"
}
2025-02-23 17:08:16,846 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 17:08:16,847 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Do you have a [[ksik]]?'), ('Wyraz', 'book')]
2025-02-23 17:08:16,847 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-23 17:08:16,848 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-23 17:08:16,849 - queris               - DEBUG - parts: [('Zdanie', 'Do you have a [[ksik]]?'), ('Wyraz', 'book')], data: {<ResponseField.FRONT: 'Zdanie'>: 'Do you have a [[ksik]]?', <ResponseField.BACK: 'Wyraz'>: 'book'}
2025-02-23 17:08:16,849 - anki_adder           - DEBUG - Inserting flashcard
2025-02-23 17:08:19,606 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-23 17:08:19,606 - anki_adder           - INFO  - add flashcard
2025-02-23 17:08:19,606 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-23 17:08:19,611 - flashcard_repository - INFO  - Flashcard: Do you have a [[ksik]]?;book
, successfully added.
2025-02-23 17:08:19,612 - word_repository      - INFO  - Getting the top word: book
2025-02-23 17:08:19,612 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 17:08:19,614 - word_repository      - DEBUG - ['look', 'fuse', 'butterfly']
2025-02-23 17:08:19,614 - word_repository      - INFO  - Words saved successfully.
2025-02-23 17:08:19,615 - word_repository      - INFO  - Word book deleted successfully. Beginning word changed: True
2025-02-23 17:08:19,616 - anki_adder           - INFO  - Getting new translation
2025-02-23 17:08:19,616 - word_repository      - INFO  - Getting the top word: look
2025-02-23 17:08:19,617 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 17:08:19,617 - LLMModels            - INFO  - Requesting: look
2025-02-23 17:08:19,620 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'look'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 17:08:19,628 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 17:08:19,629 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 17:08:19,630 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 17:08:19,631 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 17:08:19,632 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 17:08:19,632 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 17:08:23,266 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 16:08:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T16:08:20Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T16:08:21Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T16:08:22Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T16:08:21Z'), (b'request-id', b'req_01FUKyrHW4oGPNTrpZWbt2CB'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9168794fdb79b21b-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 17:08:23,266 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 17:08:23,266 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 17:08:23,266 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 17:08:23,266 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 17:08:23,266 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 17:08:23,266 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 16:08:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T16:08:20Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T16:08:21Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T16:08:22Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T16:08:21Z', 'request-id': 'req_01FUKyrHW4oGPNTrpZWbt2CB', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9168794fdb79b21b-WAW', 'content-encoding': 'gzip'})
2025-02-23 17:08:23,276 - anthropic._base_client - DEBUG - request_id: req_01FUKyrHW4oGPNTrpZWbt2CB
2025-02-23 17:08:23,277 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=268
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-23 17:08:23,278 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "patrze": "5/5",
        "wyglda": "4/5",
        "szuka": "3/5",
        "wygld": "3/5"
    },
    "Uycie": "Czasownik, kierowa wzrok na co lub Rzeczownik, wygld czego",
    "Zdanie": "Look at that beautiful sunset.",
    "Tumaczenie": "Spjrz na ten pikny zachd soca.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["percepcja wzrokowa", "aparycja", "poszukiwanie"],
    "Synonimy": {
        "see": "widzie - 5/5",
        "gaze": "wpatrywa si - 3/5",
        "appear": "wydawa si - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 17:08:23,280 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 17:08:23,283 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'patrze: 5/5\nwyglda: 4/5\nszuka: 3/5\nwygld: 3/5'), ('Uycie', 'Czasownik, kierowa wzrok na co lub Rzeczownik, wygld czego'), ('Zdanie', 'Look at that beautiful sunset.'), ('Tumaczenie', 'Spjrz na ten pikny zachd soca.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'percepcja wzrokowa, aparycja, poszukiwanie'), ('Synonimy', 'see: widzie - 5/5\ngaze: wpatrywa si - 3/5\nappear: wydawa si - 4/5'), ('is_word_correct', 'ok')]
2025-02-23 17:08:23,284 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 17:08:23,285 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 17:08:23,286 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 17:08:30,848 - httpcore.connection  - DEBUG - close.started
2025-02-23 17:08:30,849 - httpcore.connection  - DEBUG - close.complete
2025-02-23 17:37:19,337 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 17:37:19,337 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 17:37:19,337 - events               - INFO  - EventManager init.
2025-02-23 17:37:19,342 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 17:37:19,463 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 17:37:19,485 - gui.components.repository - INFO  - Repository init.
2025-02-23 17:37:19,485 - word_repository      - INFO  - WordRepository init.
2025-02-23 17:37:19,485 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 17:37:19,485 - word_repository      - DEBUG - ['look', 'fuse', 'butterfly']
2025-02-23 17:37:19,485 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 17:37:19,492 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 17:37:19,492 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 17:37:19,497 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 17:37:20,252 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 17:37:20,257 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 17:37:20,258 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 17:37:20,258 - word_repository      - INFO  - Getting the top word: look
2025-02-23 17:37:20,259 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:37:20,260 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 17:37:20,260 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 17:37:20,260 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 17:37:20,262 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:37:20,263 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 17:37:20,264 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 17:37:20,265 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 17:37:20,266 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 17:37:20,267 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 17:37:21,900 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:14:30,032 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 20:14:30,032 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 20:14:30,032 - events               - INFO  - EventManager init.
2025-02-23 20:14:30,032 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 20:14:30,147 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 20:14:30,172 - gui.components.repository - INFO  - Repository init.
2025-02-23 20:14:30,172 - word_repository      - INFO  - WordRepository init.
2025-02-23 20:14:30,176 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 20:14:30,176 - word_repository      - DEBUG - ['look', 'fuse', 'butterfly']
2025-02-23 20:14:30,176 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 20:14:30,176 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 20:14:30,176 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 20:14:30,185 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 20:14:30,922 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 20:14:30,922 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 20:14:30,922 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 20:14:30,922 - word_repository      - INFO  - Getting the top word: look
2025-02-23 20:14:30,922 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:14:30,932 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:14:30,932 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 20:14:30,932 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 20:14:30,934 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:14:30,934 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:14:30,935 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 20:14:30,935 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 20:14:30,936 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 20:14:30,936 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 20:14:33,398 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:17:34,792 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 20:17:34,792 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 20:17:34,792 - events               - INFO  - EventManager init.
2025-02-23 20:17:34,792 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 20:17:34,901 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 20:17:34,928 - gui.components.repository - INFO  - Repository init.
2025-02-23 20:17:34,928 - word_repository      - INFO  - WordRepository init.
2025-02-23 20:17:34,928 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 20:17:34,928 - word_repository      - DEBUG - ['look', 'fuse', 'butterfly']
2025-02-23 20:17:34,931 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 20:17:34,931 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 20:17:34,931 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 20:17:34,938 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 20:17:35,719 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 20:17:35,720 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 20:17:35,721 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 20:17:35,722 - word_repository      - INFO  - Getting the top word: look
2025-02-23 20:17:35,722 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:17:35,723 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:17:35,723 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 20:17:35,724 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 20:17:35,725 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:17:35,725 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:17:35,726 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 20:17:35,726 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 20:17:35,727 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 20:17:35,727 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 20:17:35,728 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 20:17:35,728 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 20:17:37,104 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:19:28,081 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 20:19:28,081 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 20:19:28,081 - events               - INFO  - EventManager init.
2025-02-23 20:19:28,081 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 20:19:28,194 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 20:19:28,221 - gui.components.repository - INFO  - Repository init.
2025-02-23 20:19:28,221 - word_repository      - INFO  - WordRepository init.
2025-02-23 20:19:28,221 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 20:19:28,221 - word_repository      - DEBUG - ['look', 'fuse', 'butterfly']
2025-02-23 20:19:28,227 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 20:19:28,230 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 20:19:28,231 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 20:19:28,236 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 20:19:28,981 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 20:19:28,981 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 20:19:28,981 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 20:19:28,981 - word_repository      - INFO  - Getting the top word: look
2025-02-23 20:19:28,981 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:19:28,986 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:19:28,987 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 20:19:28,987 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 20:19:28,988 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:19:28,988 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:19:28,988 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 20:19:28,989 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 20:19:28,989 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 20:19:28,990 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 20:19:28,990 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 20:19:28,991 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 20:19:30,128 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:19:32,646 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:19:32,647 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:19:32,648 - word_repository      - DEBUG - ['look', 'butterfly']
2025-02-23 20:19:32,649 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:19:32,649 - word_repository      - INFO  - Word fuse deleted successfully. Beginning word changed: False
2025-02-23 20:19:46,555 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:28:07,190 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 20:28:07,190 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 20:28:07,190 - events               - INFO  - EventManager init.
2025-02-23 20:28:07,190 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 20:28:07,300 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 20:28:07,330 - gui.components.repository - INFO  - Repository init.
2025-02-23 20:28:07,331 - word_repository      - INFO  - WordRepository init.
2025-02-23 20:28:07,332 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 20:28:07,332 - word_repository      - DEBUG - ['look', 'butterfly']
2025-02-23 20:28:07,332 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 20:28:07,332 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 20:28:07,332 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 20:28:07,341 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 20:28:08,075 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 20:28:08,080 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 20:28:08,080 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 20:28:08,080 - word_repository      - INFO  - Getting the top word: look
2025-02-23 20:28:08,080 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:28:08,080 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:28:08,080 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 20:28:08,080 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 20:28:08,080 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:28:08,086 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:28:08,087 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 20:28:08,087 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 20:28:08,088 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 20:28:08,088 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 20:28:08,089 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 20:28:08,089 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 20:28:08,090 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 20:28:08,090 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 20:28:27,052 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:28:35,661 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:28:35,661 - word_repository      - INFO  - Pushing back brother.
2025-02-23 20:28:35,661 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:28:35,661 - word_repository      - DEBUG - ['look', 'butterfly', 'brother']
2025-02-23 20:28:35,661 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:28:35,661 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:28:37,700 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:28:41,453 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:28:41,455 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:28:41,456 - word_repository      - DEBUG - ['look', 'brother']
2025-02-23 20:28:41,457 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:28:41,457 - word_repository      - INFO  - Word butterfly deleted successfully. Beginning word changed: False
2025-02-23 20:28:49,310 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:28:49,310 - word_repository      - INFO  - Pushing back like.
2025-02-23 20:28:49,310 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:28:49,310 - word_repository      - DEBUG - ['look', 'brother', 'like']
2025-02-23 20:28:49,310 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:28:49,310 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:28:55,699 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:29:20,071 - events               - INFO  - Emiting EventType.EDIT_WORD event to _handle_repository_edit.
2025-02-23 20:29:31,183 - events               - INFO  - Emiting EventType.EDIT_WORD event to _handle_repository_edit.
2025-02-23 20:30:09,120 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 20:30:09,120 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 20:30:09,120 - events               - INFO  - EventManager init.
2025-02-23 20:30:09,130 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 20:30:09,242 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 20:30:09,267 - gui.components.repository - INFO  - Repository init.
2025-02-23 20:30:09,268 - word_repository      - INFO  - WordRepository init.
2025-02-23 20:30:09,268 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 20:30:09,269 - word_repository      - DEBUG - ['look', 'brother', 'like']
2025-02-23 20:30:09,270 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 20:30:09,271 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 20:30:09,272 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 20:30:09,277 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 20:30:10,010 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 20:30:10,010 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 20:30:10,010 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 20:30:10,010 - word_repository      - INFO  - Getting the top word: look
2025-02-23 20:30:10,017 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:30:10,017 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:30:10,017 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 20:30:10,017 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 20:30:10,017 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:30:10,019 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:30:10,020 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 20:30:10,021 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 20:30:10,021 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 20:30:10,022 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 20:30:10,022 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 20:30:10,023 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 20:30:10,023 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 20:30:10,024 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 20:30:12,108 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:30:16,010 - events               - INFO  - Emiting EventType.EDIT_WORD event to _handle_repository_edit.
2025-02-23 20:30:16,010 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:30:16,010 - word_repository      - DEBUG - ['look', 'brothers', 'like']
2025-02-23 20:30:16,010 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:30:16,010 - word_repository      - INFO  - Word brother edited to brothers successfully. Beginning word changed: False
2025-02-23 20:30:27,672 - events               - INFO  - Emiting EventType.EDIT_WORD event to _handle_repository_edit.
2025-02-23 20:30:27,672 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:30:27,672 - word_repository      - DEBUG - ['looks', 'brothers', 'like']
2025-02-23 20:30:27,672 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:30:27,672 - word_repository      - INFO  - Word look edited to looks successfully. Beginning word changed: True
2025-02-23 20:34:35,189 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 20:34:35,189 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 20:34:35,189 - events               - INFO  - EventManager init.
2025-02-23 20:34:35,189 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 20:34:35,301 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 20:34:35,324 - gui.components.repository - INFO  - Repository init.
2025-02-23 20:34:35,324 - word_repository      - INFO  - WordRepository init.
2025-02-23 20:34:35,324 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 20:34:35,324 - word_repository      - DEBUG - ['looks', 'brothers', 'like']
2025-02-23 20:34:35,329 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 20:34:35,329 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 20:34:35,329 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 20:34:35,336 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 20:34:36,109 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 20:34:36,110 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 20:34:36,111 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 20:34:36,112 - word_repository      - INFO  - Getting the top word: looks
2025-02-23 20:34:36,112 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:34:36,113 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:34:36,113 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 20:34:36,114 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 20:34:36,115 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:34:36,115 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:34:36,116 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 20:34:36,117 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 20:34:36,117 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 20:34:36,118 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 20:34:36,118 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 20:34:36,119 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 20:34:36,119 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 20:34:36,120 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 20:34:37,816 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:35:06,479 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:35:06,479 - word_repository      - INFO  - Pushing back phone.
2025-02-23 20:35:06,479 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:35:06,479 - word_repository      - DEBUG - ['looks', 'brothers', 'like', 'phone']
2025-02-23 20:35:06,479 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:35:06,479 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:35:07,541 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:35:10,448 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:35:24,728 - events               - INFO  - Emiting EventType.EDIT_WORD event to _handle_repository_edit.
2025-02-23 20:35:24,729 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:35:24,729 - word_repository      - DEBUG - ['looks', 'brothers', 'like', 'phones']
2025-02-23 20:35:24,730 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:35:24,731 - word_repository      - INFO  - Word phone edited to phones successfully. Beginning word changed: False
2025-02-23 20:35:28,839 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:35:28,840 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:35:28,841 - word_repository      - DEBUG - ['looks', 'brothers', 'phones']
2025-02-23 20:35:28,842 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:35:28,842 - word_repository      - INFO  - Word like deleted successfully. Beginning word changed: False
2025-02-23 20:35:33,497 - events               - INFO  - Emiting EventType.EDIT_WORD event to _handle_repository_edit.
2025-02-23 20:35:33,498 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:35:33,499 - word_repository      - DEBUG - ['look', 'brothers', 'phones']
2025-02-23 20:35:33,500 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:35:33,501 - word_repository      - INFO  - Word looks edited to look successfully. Beginning word changed: True
2025-02-23 20:35:33,502 - anki_adder           - INFO  - Getting new translation
2025-02-23 20:35:33,502 - word_repository      - INFO  - Getting the top word: look
2025-02-23 20:35:33,503 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 20:35:33,504 - LLMModels            - INFO  - Requesting: look
2025-02-23 20:35:33,507 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'look'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 20:35:33,729 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 20:35:33,729 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 20:35:33,818 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1E6241670>
2025-02-23 20:35:33,819 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F1E7C4B750> server_hostname='api.anthropic.com' timeout=600
2025-02-23 20:35:33,833 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1E6DB7440>
2025-02-23 20:35:33,834 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 20:35:33,835 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 20:35:33,835 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 20:35:33,835 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 20:35:33,837 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 20:35:37,655 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 19:35:37 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T19:35:34Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T19:35:35Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T19:35:37Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T19:35:35Z'), (b'request-id', b'req_019RfZYvGae14LvFcczXii5q'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169a8e0d9f2ecc4-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 20:35:37,659 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 20:35:37,660 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 20:35:37,660 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 20:35:37,661 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 20:35:37,662 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 20:35:37,663 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 19:35:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T19:35:34Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T19:35:35Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T19:35:37Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T19:35:35Z', 'request-id': 'req_019RfZYvGae14LvFcczXii5q', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169a8e0d9f2ecc4-WAW', 'content-encoding': 'gzip'})
2025-02-23 20:35:37,666 - anthropic._base_client - DEBUG - request_id: req_019RfZYvGae14LvFcczXii5q
2025-02-23 20:35:37,679 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=268
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 20:35:37,679 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "patrze": "5/5",
        "wyglda": "4/5",
        "spoglda": "3/5",
        "szuka": "3/5"
    },
    "Uycie": "Czasownik, kierowa wzrok na co lub Rzeczownik, wyraz twarzy, wygld",
    "Zdanie": "Look at that beautiful sunset!",
    "Tumaczenie": "Spjrz na ten pikny zachd soca!",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["obserwacja", "percepcja", "wygld"],
    "Synonimy": {
        "see": "widzie - 5/5",
        "gaze": "wpatrywa si - 3/5",
        "appear": "wydawa si - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 20:35:37,686 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 20:35:37,686 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'patrze: 5/5\nwyglda: 4/5\nspoglda: 3/5\nszuka: 3/5'), ('Uycie', 'Czasownik, kierowa wzrok na co lub Rzeczownik, wyraz twarzy, wygld'), ('Zdanie', 'Look at that beautiful sunset!'), ('Tumaczenie', 'Spjrz na ten pikny zachd soca!'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'obserwacja, percepcja, wygld'), ('Synonimy', 'see: widzie - 5/5\ngaze: wpatrywa si - 3/5\nappear: wydawa si - 4/5'), ('is_word_correct', 'ok')]
2025-02-23 20:35:37,688 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 20:35:37,688 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 20:35:37,689 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 20:35:43,883 - events               - INFO  - Emiting EventType.EDIT_WORD event to _handle_repository_edit.
2025-02-23 20:35:43,883 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:35:43,889 - word_repository      - DEBUG - ['looks', 'brothers', 'phones']
2025-02-23 20:35:43,889 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:35:43,889 - word_repository      - INFO  - Word look edited to looks successfully. Beginning word changed: True
2025-02-23 20:35:43,889 - anki_adder           - INFO  - Getting new translation
2025-02-23 20:35:43,889 - word_repository      - INFO  - Getting the top word: looks
2025-02-23 20:35:43,889 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 20:35:43,889 - LLMModels            - INFO  - Requesting: looks
2025-02-23 20:35:43,896 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'looks'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 20:35:43,906 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 20:35:43,907 - httpcore.connection  - DEBUG - close.started
2025-02-23 20:35:43,907 - httpcore.connection  - DEBUG - close.complete
2025-02-23 20:35:43,907 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 20:35:43,933 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1E7C975C0>
2025-02-23 20:35:43,934 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F1E7C4B750> server_hostname='api.anthropic.com' timeout=600
2025-02-23 20:35:43,949 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1E720F1D0>
2025-02-23 20:35:43,950 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 20:35:43,951 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 20:35:43,951 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 20:35:43,951 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 20:35:43,954 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 20:35:47,359 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 19:35:46 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T19:35:44Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T19:35:45Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T19:35:46Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T19:35:45Z'), (b'request-id', b'req_01ND9cPUuRVMs7xsvzxhFTmj'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169a92009170287-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 20:35:47,359 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 20:35:47,359 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 20:35:47,359 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 20:35:47,367 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 20:35:47,367 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 20:35:47,367 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 19:35:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T19:35:44Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T19:35:45Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T19:35:46Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T19:35:45Z', 'request-id': 'req_01ND9cPUuRVMs7xsvzxhFTmj', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169a92009170287-WAW', 'content-encoding': 'gzip'})
2025-02-23 20:35:47,371 - anthropic._base_client - DEBUG - request_id: req_01ND9cPUuRVMs7xsvzxhFTmj
2025-02-23 20:35:47,372 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=262
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-23 20:35:47,373 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "wyglda": "5/5",
        "wygld": "4/5",
        "spoglda": "3/5",
        "spojrzenia": "3/5"
    },
    "Uycie": "Czasownik, obserwowa lub wydawa si; Rzeczownik, wygld zewntrzny",
    "Zdanie": "She looks beautiful in that dress.",
    "Tumaczenie": "Ona wyglda piknie w tej sukience.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["wygld", "obserwacja", "opinia"],
    "Synonimy": {
        "appears": "wydaje si - 4/5",
        "gazes": "wpatruje si - 3/5",
        "appearance": "wygld - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 20:35:47,376 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 20:35:47,377 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'wyglda: 5/5\nwygld: 4/5\nspoglda: 3/5\nspojrzenia: 3/5'), ('Uycie', 'Czasownik, obserwowa lub wydawa si; Rzeczownik, wygld zewntrzny'), ('Zdanie', 'She looks beautiful in that dress.'), ('Tumaczenie', 'Ona wyglda piknie w tej sukience.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'wygld, obserwacja, opinia'), ('Synonimy', 'appears: wydaje si - 4/5\ngazes: wpatruje si - 3/5\nappearance: wygld - 4/5'), ('is_word_correct', 'ok')]
2025-02-23 20:35:47,379 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 20:35:47,379 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 20:35:47,380 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 20:35:51,364 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:35:51,365 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:35:51,366 - word_repository      - DEBUG - ['brothers', 'phones']
2025-02-23 20:35:51,367 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:35:51,367 - word_repository      - INFO  - Word looks deleted successfully. Beginning word changed: True
2025-02-23 20:35:51,368 - anki_adder           - INFO  - Getting new translation
2025-02-23 20:35:51,369 - word_repository      - INFO  - Getting the top word: brothers
2025-02-23 20:35:51,370 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 20:35:51,370 - LLMModels            - INFO  - Requesting: brothers
2025-02-23 20:35:51,373 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'brothers'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 20:35:51,382 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 20:35:51,384 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 20:35:51,384 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 20:35:51,385 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 20:35:51,386 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 20:35:51,387 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 20:35:54,729 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 19:35:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T19:35:52Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T19:35:53Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T19:35:54Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T19:35:53Z'), (b'request-id', b'req_018CUFK4myBDoaDwQasBVhab'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169a94e89eb0287-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 20:35:54,734 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 20:35:54,734 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 20:35:54,739 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 20:35:54,739 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 20:35:54,740 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 20:35:54,740 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 19:35:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T19:35:52Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T19:35:53Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T19:35:54Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T19:35:53Z', 'request-id': 'req_018CUFK4myBDoaDwQasBVhab', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169a94e89eb0287-WAW', 'content-encoding': 'gzip'})
2025-02-23 20:35:54,743 - anthropic._base_client - DEBUG - request_id: req_018CUFK4myBDoaDwQasBVhab
2025-02-23 20:35:54,744 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=233
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-23 20:35:54,745 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "bracia": "5/5",
        "braterstwo": "3/5",
        "koledzy": "2/5"
    },
    "Uycie": "Rzeczownik, mscy potomkowie tych samych rodzicw",
    "Zdanie": "The two brothers play together.",
    "Tumaczenie": "Dwaj bracia bawi si razem.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["rodzina", "relacje", "pokrewiestwo"],
    "Synonimy": {
        "siblings": "rodzestwo - 4/5",
        "kin": "krewni - 3/5",
        "fraternal": "braterski - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 20:35:54,748 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 20:35:54,749 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'bracia: 5/5\nbraterstwo: 3/5\nkoledzy: 2/5'), ('Uycie', 'Rzeczownik, mscy potomkowie tych samych rodzicw'), ('Zdanie', 'The two brothers play together.'), ('Tumaczenie', 'Dwaj bracia bawi si razem.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'rodzina, relacje, pokrewiestwo'), ('Synonimy', 'siblings: rodzestwo - 4/5\nkin: krewni - 3/5\nfraternal: braterski - 2/5'), ('is_word_correct', 'ok')]
2025-02-23 20:35:54,750 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 20:35:54,751 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 20:35:54,751 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 20:36:09,819 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:09,819 - word_repository      - INFO  - Pushing back sdf.
2025-02-23 20:36:09,819 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:09,819 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf']
2025-02-23 20:36:09,819 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:09,819 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:09,969 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:09,969 - anki_adder           - WARNING - Word is empty!
2025-02-23 20:36:10,119 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:10,119 - word_repository      - INFO  - Pushing back gsd.
2025-02-23 20:36:10,119 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:10,119 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd']
2025-02-23 20:36:10,119 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:10,119 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:10,259 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:10,269 - word_repository      - INFO  - Pushing back fg.
2025-02-23 20:36:10,269 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:10,269 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg']
2025-02-23 20:36:10,269 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:10,269 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:10,399 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:10,399 - word_repository      - INFO  - Pushing back sd.
2025-02-23 20:36:10,399 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:10,402 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd']
2025-02-23 20:36:10,402 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:10,402 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:10,539 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:10,539 - word_repository      - INFO  - Pushing back fg.
2025-02-23 20:36:10,539 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:10,539 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg']
2025-02-23 20:36:10,549 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:10,549 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:10,669 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:10,669 - word_repository      - INFO  - Pushing back s.
2025-02-23 20:36:10,669 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:10,669 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's']
2025-02-23 20:36:10,669 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:10,669 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:10,810 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:10,819 - word_repository      - INFO  - Pushing back dfg.
2025-02-23 20:36:10,819 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:10,819 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg']
2025-02-23 20:36:10,819 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:10,819 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:10,939 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:10,939 - anki_adder           - WARNING - Word is empty!
2025-02-23 20:36:11,129 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:11,129 - word_repository      - INFO  - Pushing back sdfg.
2025-02-23 20:36:11,129 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:11,129 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg']
2025-02-23 20:36:11,129 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:11,129 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:11,215 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:11,216 - anki_adder           - WARNING - Word is empty!
2025-02-23 20:36:11,351 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:11,351 - word_repository      - INFO  - Pushing back sdf.
2025-02-23 20:36:11,351 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:11,351 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf']
2025-02-23 20:36:11,359 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:11,359 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:11,479 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:11,479 - word_repository      - INFO  - Pushing back g.
2025-02-23 20:36:11,479 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:11,479 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g']
2025-02-23 20:36:11,479 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:11,489 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:11,609 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:11,609 - word_repository      - INFO  - Pushing back sd.
2025-02-23 20:36:11,609 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:11,611 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd']
2025-02-23 20:36:11,611 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:11,611 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:11,749 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:11,749 - word_repository      - INFO  - Pushing back f.
2025-02-23 20:36:11,749 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:11,749 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f']
2025-02-23 20:36:11,749 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:11,749 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:11,900 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:11,900 - word_repository      - INFO  - Pushing back d.
2025-02-23 20:36:11,900 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:11,900 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd']
2025-02-23 20:36:11,900 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:11,900 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:12,002 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:12,002 - word_repository      - INFO  - Pushing back s.
2025-02-23 20:36:12,002 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:12,002 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's']
2025-02-23 20:36:12,002 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:12,009 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:12,127 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:12,128 - word_repository      - INFO  - Pushing back g.
2025-02-23 20:36:12,128 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:12,129 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g']
2025-02-23 20:36:12,130 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:12,131 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:12,249 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:12,249 - word_repository      - INFO  - Pushing back sd.
2025-02-23 20:36:12,249 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:12,249 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd']
2025-02-23 20:36:12,249 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:12,249 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:12,399 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:12,399 - word_repository      - INFO  - Pushing back g.
2025-02-23 20:36:12,399 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:12,399 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g']
2025-02-23 20:36:12,399 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:12,399 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:12,519 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:12,519 - word_repository      - INFO  - Pushing back sd.
2025-02-23 20:36:12,519 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:12,519 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd']
2025-02-23 20:36:12,519 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:12,519 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:12,625 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:12,625 - word_repository      - INFO  - Pushing back g.
2025-02-23 20:36:12,625 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:12,629 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g']
2025-02-23 20:36:12,629 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:12,629 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:12,789 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:12,789 - word_repository      - INFO  - Pushing back sd.
2025-02-23 20:36:12,789 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:12,789 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd']
2025-02-23 20:36:12,789 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:12,799 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:12,914 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:12,914 - word_repository      - INFO  - Pushing back fg.
2025-02-23 20:36:12,914 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:12,914 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg']
2025-02-23 20:36:12,919 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:12,919 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:13,044 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:13,044 - word_repository      - INFO  - Pushing back s.
2025-02-23 20:36:13,044 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:13,044 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's']
2025-02-23 20:36:13,049 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:13,049 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:13,169 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:13,169 - word_repository      - INFO  - Pushing back df.
2025-02-23 20:36:13,169 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:13,169 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df']
2025-02-23 20:36:13,169 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:13,169 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:13,289 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:13,289 - word_repository      - INFO  - Pushing back gg.
2025-02-23 20:36:13,289 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:13,289 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg']
2025-02-23 20:36:13,289 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:13,289 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:14,420 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:36:14,420 - word_repository      - INFO  - Pushing back sdf.
2025-02-23 20:36:14,420 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:14,420 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:14,420 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:14,420 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 20:36:15,717 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:36:17,888 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:36:22,745 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:22,746 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:22,747 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:22,748 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:22,748 - word_repository      - INFO  - Word sd deleted successfully. Beginning word changed: False
2025-02-23 20:36:23,825 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:23,826 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:23,827 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 's', 'dfg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:23,828 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:23,828 - word_repository      - INFO  - Word fg deleted successfully. Beginning word changed: False
2025-02-23 20:36:24,859 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:24,859 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:24,860 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 's', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:24,861 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:24,862 - word_repository      - INFO  - Word dfg deleted successfully. Beginning word changed: False
2025-02-23 20:36:25,887 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:25,888 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:25,889 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'gsd', 'fg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:25,890 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:25,890 - word_repository      - INFO  - Word s deleted successfully. Beginning word changed: False
2025-02-23 20:36:26,881 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:26,882 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:26,883 - word_repository      - DEBUG - ['brothers', 'phones', 'gsd', 'fg', 'sdfg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:26,884 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:26,885 - word_repository      - INFO  - Word sdf deleted successfully. Beginning word changed: False
2025-02-23 20:36:27,785 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:27,786 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:27,787 - word_repository      - DEBUG - ['brothers', 'phones', 'gsd', 'fg', 'sdf', 'g', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:27,788 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:27,789 - word_repository      - INFO  - Word sdfg deleted successfully. Beginning word changed: False
2025-02-23 20:36:28,755 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:28,756 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:28,757 - word_repository      - DEBUG - ['brothers', 'phones', 'gsd', 'fg', 'sdf', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:28,758 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:28,758 - word_repository      - INFO  - Word g deleted successfully. Beginning word changed: False
2025-02-23 20:36:33,878 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:33,879 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:33,880 - word_repository      - DEBUG - ['brothers', 'phones', 'fg', 'sdf', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:33,881 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:33,881 - word_repository      - INFO  - Word gsd deleted successfully. Beginning word changed: False
2025-02-23 20:36:35,125 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:35,126 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:35,127 - word_repository      - DEBUG - ['brothers', 'phones', 'sdf', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:35,128 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:35,129 - word_repository      - INFO  - Word fg deleted successfully. Beginning word changed: False
2025-02-23 20:36:36,339 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:36,340 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:36,341 - word_repository      - DEBUG - ['brothers', 'phones', 'sd', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:36,342 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:36,342 - word_repository      - INFO  - Word sdf deleted successfully. Beginning word changed: False
2025-02-23 20:36:37,754 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:37,755 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:37,756 - word_repository      - DEBUG - ['brothers', 'phones', 'f', 'd', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:37,757 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:37,757 - word_repository      - INFO  - Word sd deleted successfully. Beginning word changed: False
2025-02-23 20:36:40,269 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:40,270 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:40,271 - word_repository      - DEBUG - ['brothers', 'phones', 'f', 's', 'g', 'sd', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:40,272 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:40,272 - word_repository      - INFO  - Word d deleted successfully. Beginning word changed: False
2025-02-23 20:36:41,365 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:41,366 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:41,368 - word_repository      - DEBUG - ['brothers', 'phones', 'f', 's', 'g', 'g', 'sd', 'g', 'sd', 'fg', 's', 'df', 'gg', 'sdf']
2025-02-23 20:36:41,369 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:41,369 - word_repository      - INFO  - Word sd deleted successfully. Beginning word changed: False
2025-02-23 20:36:42,775 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 20:36:42,776 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:36:42,777 - word_repository      - DEBUG - ['brothers', 'phones', 'f', 's', 'g', 'g', 'sd', 'g', 'sd', 'fg', 's', 'gg', 'sdf']
2025-02-23 20:36:42,778 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:36:42,779 - word_repository      - INFO  - Word df deleted successfully. Beginning word changed: False
2025-02-23 20:36:44,857 - httpcore.connection  - DEBUG - close.started
2025-02-23 20:36:44,859 - httpcore.connection  - DEBUG - close.complete
2025-02-23 20:36:53,952 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 20:36:53,952 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 20:36:53,952 - events               - INFO  - EventManager init.
2025-02-23 20:36:53,952 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 20:36:54,059 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 20:36:54,087 - gui.components.repository - INFO  - Repository init.
2025-02-23 20:36:54,088 - word_repository      - INFO  - WordRepository init.
2025-02-23 20:36:54,088 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 20:36:54,089 - word_repository      - DEBUG - ['brothers', 'phones']
2025-02-23 20:36:54,090 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 20:36:54,090 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 20:36:54,090 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 20:36:54,097 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 20:36:54,839 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 20:36:54,839 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 20:36:54,839 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 20:36:54,839 - word_repository      - INFO  - Getting the top word: brothers
2025-02-23 20:36:54,839 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:36:54,839 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:36:54,839 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 20:36:54,849 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 20:36:54,849 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:36:54,849 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:36:54,851 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 20:36:54,853 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 20:36:54,853 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 20:36:54,854 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 20:36:54,854 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 20:36:54,855 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 20:36:54,856 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 20:36:54,856 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 20:37:01,785 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:53:13,873 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 20:53:13,874 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 20:53:13,875 - events               - INFO  - EventManager init.
2025-02-23 20:53:13,876 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 20:53:13,989 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 20:53:14,014 - gui.components.repository - INFO  - Repository init.
2025-02-23 20:53:14,015 - word_repository      - INFO  - WordRepository init.
2025-02-23 20:53:14,015 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 20:53:14,016 - word_repository      - DEBUG - ['brothers', 'phones']
2025-02-23 20:53:14,017 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 20:53:14,018 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 20:53:14,020 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 20:53:14,025 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 20:53:14,835 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 20:53:14,835 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 20:53:14,836 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 20:53:14,837 - word_repository      - INFO  - Getting the top word: brothers
2025-02-23 20:53:14,838 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:53:14,839 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:53:14,839 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 20:53:14,840 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 20:53:14,841 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:53:14,842 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:53:14,842 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 20:53:14,843 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 20:53:14,844 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 20:53:14,844 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 20:53:14,845 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 20:53:14,845 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 20:53:14,846 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 20:53:14,847 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 20:53:18,962 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 20:59:03,807 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 20:59:03,807 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 20:59:03,807 - events               - INFO  - EventManager init.
2025-02-23 20:59:03,807 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 20:59:03,917 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 20:59:03,937 - gui.components.repository - INFO  - Repository init.
2025-02-23 20:59:03,937 - word_repository      - INFO  - WordRepository init.
2025-02-23 20:59:03,937 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 20:59:03,947 - word_repository      - DEBUG - ['brothers', 'phones']
2025-02-23 20:59:03,947 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 20:59:03,950 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 20:59:03,950 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 20:59:03,955 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 20:59:04,701 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 20:59:04,701 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 20:59:04,701 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 20:59:04,701 - word_repository      - INFO  - Getting the top word: brothers
2025-02-23 20:59:04,701 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:59:04,706 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 20:59:04,706 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 20:59:04,706 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 20:59:04,708 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:59:04,708 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 20:59:04,709 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 20:59:04,709 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 20:59:04,710 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 20:59:04,710 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 20:59:04,711 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 20:59:04,712 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 20:59:04,712 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 20:59:04,713 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 20:59:16,347 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 20:59:16,356 - word_repository      - INFO  - Pushing back bore.
2025-02-23 20:59:16,356 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 20:59:16,356 - word_repository      - DEBUG - ['brothers', 'phones', 'bore']
2025-02-23 20:59:16,356 - word_repository      - INFO  - Words saved successfully.
2025-02-23 20:59:16,356 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 21:03:33,546 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 21:03:33,546 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 21:03:33,546 - events               - INFO  - EventManager init.
2025-02-23 21:03:33,546 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 21:03:33,666 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 21:03:33,688 - gui.components.repository - INFO  - Repository init.
2025-02-23 21:03:33,689 - word_repository      - INFO  - WordRepository init.
2025-02-23 21:03:33,689 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 21:03:33,690 - word_repository      - DEBUG - ['brothers', 'phones', 'bore']
2025-02-23 21:03:33,691 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 21:03:33,692 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 21:03:33,692 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 21:03:33,699 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 21:03:34,496 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 21:03:34,496 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 21:03:34,496 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 21:03:34,496 - word_repository      - INFO  - Getting the top word: brothers
2025-02-23 21:03:34,496 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:03:34,496 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:03:34,496 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 21:03:34,496 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 21:03:34,496 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:03:34,503 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:03:34,503 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 21:03:34,504 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 21:03:34,504 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 21:03:34,505 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 21:03:34,506 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 21:03:34,507 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 21:03:34,507 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 21:03:34,508 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 21:03:37,100 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 21:03:44,920 - gui.components.repository - INFO  - Repository window colsed.
2025-02-23 21:04:07,430 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 21:04:07,430 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 21:04:07,430 - events               - INFO  - EventManager init.
2025-02-23 21:04:07,430 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 21:04:07,536 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 21:04:07,564 - gui.components.repository - INFO  - Repository init.
2025-02-23 21:04:07,565 - word_repository      - INFO  - WordRepository init.
2025-02-23 21:04:07,566 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 21:04:07,566 - word_repository      - DEBUG - ['brothers', 'phones', 'bore']
2025-02-23 21:04:07,566 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 21:04:07,566 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 21:04:07,566 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 21:04:07,574 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 21:04:08,386 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 21:04:08,386 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 21:04:08,386 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 21:04:08,386 - word_repository      - INFO  - Getting the top word: brothers
2025-02-23 21:04:08,386 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:04:08,386 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:04:08,386 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 21:04:08,386 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 21:04:08,386 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:04:08,396 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:04:08,398 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 21:04:08,399 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 21:04:08,400 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 21:04:08,401 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 21:04:08,401 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 21:04:08,402 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 21:04:08,403 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 21:04:08,404 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 21:04:09,336 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 21:04:09,337 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 21:04:11,616 - gui.components.repository - INFO  - Repository window colsed.
2025-02-23 21:04:16,656 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 21:04:16,656 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 21:04:21,586 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 21:04:21,586 - word_repository      - INFO  - Pushing back love.
2025-02-23 21:04:21,586 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:04:21,586 - word_repository      - DEBUG - ['brothers', 'phones', 'bore', 'love']
2025-02-23 21:04:21,586 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:04:21,586 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 21:04:21,586 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 21:04:37,536 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-23 21:04:37,536 - word_repository      - INFO  - Getting the top word: brothers
2025-02-23 21:04:37,536 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-23 21:04:37,536 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-23 21:04:37,546 - LLMModels            - INFO  - Requesting: How many brothers do you have
2025-02-23 21:04:37,546 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'How many brothers do you have'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:04:37,746 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:04:37,746 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:04:37,776 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025A26877A40>
2025-02-23 21:04:37,779 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000025A2684F950> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:04:37,801 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025A26877950>
2025-02-23 21:04:37,801 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:04:37,801 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:04:37,801 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:04:37,801 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:04:37,801 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:04:40,266 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:04:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:04:38Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:04:39Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:04:39Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:04:39Z'), (b'request-id', b'req_014VX6TrUYgpxA3kZMKgpeHj'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169d3748a39ecbe-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:04:40,279 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:04:40,280 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:04:40,280 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:04:40,280 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:04:40,280 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:04:40,280 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:04:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:04:38Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:04:39Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:04:39Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:04:39Z', 'request-id': 'req_014VX6TrUYgpxA3kZMKgpeHj', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169d3748a39ecbe-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:04:40,285 - anthropic._base_client - DEBUG - request_id: req_014VX6TrUYgpxA3kZMKgpeHj
2025-02-23 21:04:40,296 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1143
cache_read_input_tokens=0
input_tokens=13
output_tokens=118
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 21:04:40,298 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Brak znaku zapytania na kocu zdania",
"Naturalno jzykowa": "Poprawne",
"Zdanie angielskie": "How many brothers do you have?",
"Tumaczenie zdania": "Ilu masz braci?",
"notatka": "W jzyku angielskim zawsze stawiamy znak zapytania na kocu pytania bezporedniego."
}
2025-02-23 21:04:40,300 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:04:40,301 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Brak znaku zapytania na kocu zdania'), ('Naturalno jzykowa', 'Poprawne'), ('Zdanie angielskie', 'How many brothers do you have?'), ('Tumaczenie zdania', 'Ilu masz braci?'), ('notatka', 'W jzyku angielskim zawsze stawiamy znak zapytania na kocu pytania bezporedniego.')]
2025-02-23 21:04:40,302 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-23 21:04:40,302 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-23 21:04:40,302 - anki_adder           - DEBUG - Creading flashcard
2025-02-23 21:04:40,302 - queris               - DEBUG - Safe execution of get falshcard
2025-02-23 21:04:40,302 - LLMModels            - INFO  - Requesting: How many brothers do you have?:brothers
2025-02-23 21:04:40,307 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'How many brothers do you have?:brothers'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:04:40,313 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:04:40,314 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:04:40,315 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:04:40,316 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:04:40,317 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:04:40,317 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:04:41,506 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:04:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:04:41Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:04:41Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:04:40Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:04:40Z'), (b'request-id', b'req_01F2ZSfuMpZDHW1HcicYZ4hj'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169d3843d26ecbe-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:04:41,506 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:04:41,506 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:04:41,512 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:04:41,513 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:04:41,513 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:04:41,515 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:04:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:04:41Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:04:41Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:04:40Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:04:40Z', 'request-id': 'req_01F2ZSfuMpZDHW1HcicYZ4hj', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169d3843d26ecbe-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:04:41,518 - anthropic._base_client - DEBUG - request_id: req_01F2ZSfuMpZDHW1HcicYZ4hj
2025-02-23 21:04:41,519 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1011
output_tokens=33
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 21:04:41,520 - formatter            - DEBUG - json str:{
"Zdanie": "How many [[braci]] do you have?",
"Wyraz": "brothers"
}
2025-02-23 21:04:41,521 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:04:41,521 - formatter            - DEBUG - formatted parts: [('Zdanie', 'How many [[braci]] do you have?'), ('Wyraz', 'brothers')]
2025-02-23 21:04:41,522 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-23 21:04:41,522 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-23 21:04:41,523 - queris               - DEBUG - parts: [('Zdanie', 'How many [[braci]] do you have?'), ('Wyraz', 'brothers')], data: {<ResponseField.FRONT: 'Zdanie'>: 'How many [[braci]] do you have?', <ResponseField.BACK: 'Wyraz'>: 'brothers'}
2025-02-23 21:04:41,524 - anki_adder           - DEBUG - Inserting flashcard
2025-02-23 21:04:47,916 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-23 21:04:47,916 - anki_adder           - INFO  - add flashcard
2025-02-23 21:04:47,916 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-23 21:04:47,916 - flashcard_repository - INFO  - Flashcard: How many [[braci]] do you have?;brothers
, successfully added.
2025-02-23 21:04:47,916 - word_repository      - INFO  - Getting the top word: brothers
2025-02-23 21:04:47,916 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:04:47,916 - word_repository      - DEBUG - ['phones', 'bore', 'love']
2025-02-23 21:04:47,916 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:04:47,916 - word_repository      - INFO  - Word brothers deleted successfully. Beginning word changed: True
2025-02-23 21:04:47,916 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 21:04:47,923 - anki_adder           - INFO  - Getting new translation
2025-02-23 21:04:47,923 - word_repository      - INFO  - Getting the top word: phones
2025-02-23 21:04:47,924 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 21:04:47,924 - LLMModels            - INFO  - Requesting: phones
2025-02-23 21:04:47,927 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'phones'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:04:47,936 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:04:47,936 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:04:47,936 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:04:47,936 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:04:47,946 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025A26893380>
2025-02-23 21:04:47,946 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000025A2684F950> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:04:47,966 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025A25519E20>
2025-02-23 21:04:47,966 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:04:47,966 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:04:47,971 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:04:47,972 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:04:47,972 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:04:51,786 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:04:51 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:04:48Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:04:49Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:04:51Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:04:49Z'), (b'request-id', b'req_01BzH8Wwc9F8YEhckGd7pPUc'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169d3b40f813576-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:04:51,786 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:04:51,786 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:04:51,786 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:04:51,786 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:04:51,786 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:04:51,786 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:04:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:04:48Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:04:49Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:04:51Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:04:49Z', 'request-id': 'req_01BzH8Wwc9F8YEhckGd7pPUc', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169d3b40f813576-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:04:51,798 - anthropic._base_client - DEBUG - request_id: req_01BzH8Wwc9F8YEhckGd7pPUc
2025-02-23 21:04:51,799 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=248
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 21:04:51,800 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "telefony": "5/5",
        "suchawki": "3/5",
        "dzwoni": "2/5"
    },
    "Uycie": "Rzeczownik, urzdzenia do komunikacji gosowej lub Czasownik, dzwoni (3 os. l.poj.)",
    "Zdanie": "She always carries two phones.",
    "Tumaczenie": "Ona zawsze nosi dwa telefony.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["technologia", "komunikacja", "biznes"],
    "Synonimy": {
        "cellphones": "telefony komrkowe - 4/5",
        "mobiles": "komrki - 4/5",
        "calls": "dzwoni - 3/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 21:04:51,802 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:04:51,803 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'telefony: 5/5\nsuchawki: 3/5\ndzwoni: 2/5'), ('Uycie', 'Rzeczownik, urzdzenia do komunikacji gosowej lub Czasownik, dzwoni (3 os. l.poj.)'), ('Zdanie', 'She always carries two phones.'), ('Tumaczenie', 'Ona zawsze nosi dwa telefony.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'technologia, komunikacja, biznes'), ('Synonimy', 'cellphones: telefony komrkowe - 4/5\nmobiles: komrki - 4/5\ncalls: dzwoni - 3/5'), ('is_word_correct', 'ok')]
2025-02-23 21:04:51,804 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 21:04:51,805 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 21:04:51,805 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 21:05:03,122 - events               - INFO  - Emiting EventType.EDIT_WORD event to _handle_repository_edit.
2025-02-23 21:05:03,123 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:05:03,125 - word_repository      - DEBUG - ['phone', 'bore', 'love']
2025-02-23 21:05:03,126 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:05:03,126 - word_repository      - INFO  - Word phones edited to phone successfully. Beginning word changed: True
2025-02-23 21:05:03,126 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 21:05:03,126 - anki_adder           - INFO  - Getting new translation
2025-02-23 21:05:03,129 - word_repository      - INFO  - Getting the top word: phone
2025-02-23 21:05:03,130 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 21:05:03,131 - LLMModels            - INFO  - Requesting: phone
2025-02-23 21:05:03,135 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'phone'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:05:03,146 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:05:03,147 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:05:03,148 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:05:03,149 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:05:03,159 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025A268BEBA0>
2025-02-23 21:05:03,159 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000025A2684F950> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:05:03,186 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000025A268BE900>
2025-02-23 21:05:03,186 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:05:03,186 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:05:03,186 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:05:03,186 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:05:03,186 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:05:06,680 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:05:06 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:05:03Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:05:04Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:05:06Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:05:04Z'), (b'request-id', b'req_01FTNw6nbHiDndreAsTZdeyf'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169d4132ab5c3bb-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:05:06,686 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:05:06,686 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:05:06,686 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:05:06,686 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:05:06,686 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:05:06,691 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:05:06 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:05:03Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:05:04Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:05:06Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:05:04Z', 'request-id': 'req_01FTNw6nbHiDndreAsTZdeyf', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169d4132ab5c3bb-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:05:06,693 - anthropic._base_client - DEBUG - request_id: req_01FTNw6nbHiDndreAsTZdeyf
2025-02-23 21:05:06,693 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=238
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-23 21:05:06,696 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "telefon": "5/5",
        "dzwoni": "4/5",
        "telefonowa": "3/5"
    },
    "Uycie": "Rzeczownik, urzdzenie do komunikacji lub Czasownik, wykonywa poczenie telefoniczne",
    "Zdanie": "I'll phone you tomorrow.",
    "Tumaczenie": "Zadzwoni do ciebie jutro.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["komunikacja", "technologia", "biznes"],
    "Synonimy": {
        "call": "dzwoni - 5/5",
        "telephone": "telefon - 4/5",
        "mobile": "komrka - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 21:05:06,697 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:05:06,697 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'telefon: 5/5\ndzwoni: 4/5\ntelefonowa: 3/5'), ('Uycie', 'Rzeczownik, urzdzenie do komunikacji lub Czasownik, wykonywa poczenie telefoniczne'), ('Zdanie', "I'll phone you tomorrow."), ('Tumaczenie', 'Zadzwoni do ciebie jutro.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'komunikacja, technologia, biznes'), ('Synonimy', 'call: dzwoni - 5/5\ntelephone: telefon - 4/5\nmobile: komrka - 4/5'), ('is_word_correct', 'ok')]
2025-02-23 21:05:06,701 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 21:05:06,701 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 21:05:06,701 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 21:05:09,781 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 21:05:09,782 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:05:09,783 - word_repository      - DEBUG - ['phone', 'love']
2025-02-23 21:05:09,784 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:05:09,785 - word_repository      - INFO  - Word bore deleted successfully. Beginning word changed: False
2025-02-23 21:05:09,785 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 21:05:11,505 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-02-23 21:05:11,506 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:05:11,507 - word_repository      - DEBUG - ['love']
2025-02-23 21:05:11,508 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:05:11,508 - word_repository      - INFO  - Word phone deleted successfully. Beginning word changed: True
2025-02-23 21:05:11,509 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 21:05:11,510 - anki_adder           - INFO  - Getting new translation
2025-02-23 21:05:11,510 - word_repository      - INFO  - Getting the top word: love
2025-02-23 21:05:11,511 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 21:05:11,512 - LLMModels            - INFO  - Requesting: love
2025-02-23 21:05:11,515 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'love'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:05:11,522 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:05:11,522 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:05:11,526 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:05:11,526 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:05:11,526 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:05:11,526 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:05:15,116 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:05:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:05:12Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:05:13Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:05:14Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:05:13Z'), (b'request-id', b'req_01J8zhFGXVsgrE7fXJvPtbP4'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169d4474fb3c3bb-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:05:15,116 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:05:15,116 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:05:15,116 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:05:15,116 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:05:15,116 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:05:15,116 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:05:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:05:12Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:05:13Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:05:14Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:05:13Z', 'request-id': 'req_01J8zhFGXVsgrE7fXJvPtbP4', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169d4474fb3c3bb-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:05:15,127 - anthropic._base_client - DEBUG - request_id: req_01J8zhFGXVsgrE7fXJvPtbP4
2025-02-23 21:05:15,128 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=270
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-23 21:05:15,129 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "mio": "5/5",
        "kocha": "5/5",
        "uwielbia": "4/5",
        "lubi": "3/5"
    },
    "Uycie": "Rzeczownik, silne uczucie przywizania lub Czasownik, darzy kogo/co gbokim uczuciem",
    "Zdanie": "I love you with all my heart.",
    "Tumaczenie": "Kocham ci caym swoim sercem.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["relacje", "emocje", "zainteresowania"],
    "Synonimy": {
        "adore": "uwielbia - 4/5",
        "cherish": "pielgnowa - 3/5",
        "affection": "uczucie - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 21:05:15,132 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:05:15,133 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'mio: 5/5\nkocha: 5/5\nuwielbia: 4/5\nlubi: 3/5'), ('Uycie', 'Rzeczownik, silne uczucie przywizania lub Czasownik, darzy kogo/co gbokim uczuciem'), ('Zdanie', 'I love you with all my heart.'), ('Tumaczenie', 'Kocham ci caym swoim sercem.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'relacje, emocje, zainteresowania'), ('Synonimy', 'adore: uwielbia - 4/5\ncherish: pielgnowa - 3/5\naffection: uczucie - 4/5'), ('is_word_correct', 'ok')]
2025-02-23 21:05:15,134 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 21:05:15,135 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 21:05:15,135 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 21:05:19,276 - gui.components.repository - INFO  - Repository window colsed.
2025-02-23 21:05:21,491 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:05:21,492 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:13:27,872 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 21:13:27,873 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 21:13:27,874 - events               - INFO  - EventManager init.
2025-02-23 21:13:27,874 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 21:13:28,002 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 21:13:28,036 - gui.components.repository - INFO  - Repository init.
2025-02-23 21:13:28,036 - word_repository      - INFO  - WordRepository init.
2025-02-23 21:13:28,036 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 21:13:28,036 - word_repository      - DEBUG - ['love']
2025-02-23 21:13:28,036 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 21:13:28,044 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 21:13:28,044 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 21:13:28,058 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 21:13:28,975 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 21:13:28,975 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 21:13:28,975 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 21:13:28,975 - word_repository      - INFO  - Getting the top word: love
2025-02-23 21:13:28,975 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:13:28,975 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:13:28,975 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 21:13:28,975 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 21:13:28,975 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:13:28,982 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:13:28,984 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 21:13:28,986 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 21:13:28,987 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 21:13:28,987 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 21:13:28,988 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 21:13:28,989 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 21:13:28,989 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 21:13:28,990 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 21:14:56,432 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 21:14:56,433 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 21:14:56,434 - events               - INFO  - EventManager init.
2025-02-23 21:14:56,434 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 21:14:56,579 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 21:14:56,639 - gui.components.repository - INFO  - Repository init.
2025-02-23 21:14:56,639 - word_repository      - INFO  - WordRepository init.
2025-02-23 21:14:56,639 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 21:14:56,639 - word_repository      - DEBUG - ['love']
2025-02-23 21:14:56,639 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 21:14:56,644 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 21:14:56,644 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 21:14:56,650 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 21:14:57,401 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 21:14:57,404 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 21:14:57,404 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 21:14:57,404 - word_repository      - INFO  - Getting the top word: love
2025-02-23 21:14:57,404 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:14:57,404 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:14:57,404 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 21:14:57,404 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 21:14:57,404 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:14:57,404 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:14:57,404 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 21:14:57,404 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 21:14:57,411 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 21:14:57,411 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 21:14:57,413 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 21:14:57,414 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 21:14:57,414 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 21:14:57,414 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 21:19:15,300 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 21:19:15,300 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 21:19:15,301 - events               - INFO  - EventManager init.
2025-02-23 21:19:15,302 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 21:19:15,414 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 21:19:15,439 - gui.components.repository - INFO  - Repository init.
2025-02-23 21:19:15,440 - word_repository      - INFO  - WordRepository init.
2025-02-23 21:19:15,441 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 21:19:15,441 - word_repository      - DEBUG - ['love']
2025-02-23 21:19:15,442 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 21:19:15,444 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 21:19:15,444 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 21:19:15,449 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 21:19:16,224 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 21:19:16,224 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 21:19:16,224 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 21:19:16,224 - word_repository      - INFO  - Getting the top word: love
2025-02-23 21:19:16,224 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:19:16,224 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:19:16,224 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 21:19:16,224 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 21:19:16,224 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:19:16,224 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:19:16,234 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 21:19:16,235 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 21:19:16,236 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 21:19:16,237 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 21:19:16,237 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 21:19:16,238 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 21:19:16,239 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 21:19:16,239 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 21:19:27,886 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-23 21:19:27,886 - word_repository      - INFO  - Getting the top word: love
2025-02-23 21:19:27,894 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-23 21:19:27,894 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-23 21:19:27,894 - LLMModels            - INFO  - Requesting: I love you very mush
2025-02-23 21:19:27,894 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I love you very mush'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:19:28,086 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:19:28,094 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:19:28,152 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002A8DF70F8C0>
2025-02-23 21:19:28,153 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002A8E084F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:19:28,166 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002A8DF6F72C0>
2025-02-23 21:19:28,167 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:19:28,168 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:19:28,168 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:19:28,169 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:19:28,170 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:19:39,524 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 529, b'', [(b'Date', b'Sun, 23 Feb 2025 20:19:38 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'75'), (b'Connection', b'keep-alive'), (b'x-should-retry', b'true'), (b'request-id', b'req_01BcqEcnJXhmsmMjBuPgPU8Z'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169e9314ff4ecbf-WAW')])
2025-02-23 21:19:39,524 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 529 "
2025-02-23 21:19:39,524 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:19:39,524 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:19:39,524 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:19:39,524 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:19:39,524 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "529 " Headers({'date': 'Sun, 23 Feb 2025 20:19:38 GMT', 'content-type': 'application/json', 'content-length': '75', 'connection': 'keep-alive', 'x-should-retry': 'true', 'request-id': 'req_01BcqEcnJXhmsmMjBuPgPU8Z', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169e9314ff4ecbf-WAW'})
2025-02-23 21:19:39,535 - anthropic._base_client - DEBUG - request_id: req_01BcqEcnJXhmsmMjBuPgPU8Z
2025-02-23 21:19:39,536 - anthropic._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529
2025-02-23 21:19:39,570 - anthropic._base_client - DEBUG - Retrying as header `x-should-retry` is set to `true`
2025-02-23 21:19:39,570 - anthropic._base_client - DEBUG - 2 retries left
2025-02-23 21:19:39,570 - anthropic._base_client - INFO  - Retrying request to /v1/messages in 0.443582 seconds
2025-02-23 21:19:40,018 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I love you very mush'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:19:40,025 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:19:40,026 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:19:40,027 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:19:40,028 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:19:40,029 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:19:40,029 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:19:45,136 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:19:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:19:40Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:19:42Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:19:44Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:19:42Z'), (b'request-id', b'req_01T8ksLKVWogT95E2nYtURW8'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169e97b5fb4ecbf-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:19:45,136 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:19:45,144 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:19:45,144 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:19:45,144 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:19:45,144 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:19:45,144 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:19:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:19:40Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:19:42Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:19:44Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:19:42Z', 'request-id': 'req_01T8ksLKVWogT95E2nYtURW8', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169e97b5fb4ecbf-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:19:45,149 - anthropic._base_client - DEBUG - request_id: req_01T8ksLKVWogT95E2nYtURW8
2025-02-23 21:19:45,163 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1143
cache_read_input_tokens=0
input_tokens=13
output_tokens=163
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 21:19:45,165 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Bd ortograficzny - 'mush' powinno by 'much'",
"Naturalno jzykowa": "Nienaturalne uycie 'very much' z 'love' - lepiej uy przyswka intensyfikujcego lub pomin",
"Zdanie angielskie": "I love you very much.",
"Tumaczenie zdania": "Bardzo ci kocham.",
"notatka": "W jzyku angielskim 'love' jest ju silnym czasownikiem, wic czsto nie wymaga dodatkowego wzmocnienia."
}
2025-02-23 21:19:45,166 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:19:45,167 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Bd ortograficzny - 'mush' powinno by 'much'"), ('Naturalno jzykowa', "Nienaturalne uycie 'very much' z 'love' - lepiej uy przyswka intensyfikujcego lub pomin"), ('Zdanie angielskie', 'I love you very much.'), ('Tumaczenie zdania', 'Bardzo ci kocham.'), ('notatka', "W jzyku angielskim 'love' jest ju silnym czasownikiem, wic czsto nie wymaga dodatkowego wzmocnienia.")]
2025-02-23 21:19:45,168 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-23 21:19:45,169 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-23 21:19:45,170 - anki_adder           - DEBUG - Creading flashcard
2025-02-23 21:19:45,170 - queris               - DEBUG - Safe execution of get falshcard
2025-02-23 21:19:45,170 - LLMModels            - INFO  - Requesting: I love you very much.:love
2025-02-23 21:19:45,174 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I love you very much.:love'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:19:45,182 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:19:45,182 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:19:45,184 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:19:45,184 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:19:45,185 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:19:45,186 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:19:49,202 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:19:48 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:19:45Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:19:48Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:19:48Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:19:48Z'), (b'request-id', b'req_018Y7iregnQUN1dKRnVDXHg7'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169e99b9d05ecbf-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:19:49,204 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:19:49,204 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:19:49,204 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:19:49,204 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:19:49,209 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:19:49,210 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:19:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:19:45Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:19:48Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:19:48Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:19:48Z', 'request-id': 'req_018Y7iregnQUN1dKRnVDXHg7', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169e99b9d05ecbf-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:19:49,212 - anthropic._base_client - DEBUG - request_id: req_018Y7iregnQUN1dKRnVDXHg7
2025-02-23 21:19:49,214 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1009
output_tokens=32
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 21:19:49,215 - formatter            - DEBUG - json str:{
"Zdanie": "I [[kocham]] you very much.",
"Wyraz": "love"
}
2025-02-23 21:19:49,215 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:19:49,216 - formatter            - DEBUG - formatted parts: [('Zdanie', 'I [[kocham]] you very much.'), ('Wyraz', 'love')]
2025-02-23 21:19:49,216 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-23 21:19:49,217 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-23 21:19:49,218 - queris               - DEBUG - parts: [('Zdanie', 'I [[kocham]] you very much.'), ('Wyraz', 'love')], data: {<ResponseField.FRONT: 'Zdanie'>: 'I [[kocham]] you very much.', <ResponseField.BACK: 'Wyraz'>: 'love'}
2025-02-23 21:19:49,220 - anki_adder           - DEBUG - Inserting flashcard
2025-02-23 21:20:46,531 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 21:20:46,532 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 21:20:57,030 - events               - INFO  - Emiting EventType.EDIT_WORD event to _handle_repository_edit.
2025-02-23 21:20:57,034 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:20:57,036 - word_repository      - DEBUG - ['loves']
2025-02-23 21:20:57,037 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:20:57,037 - word_repository      - INFO  - Word love edited to loves successfully. Beginning word changed: True
2025-02-23 21:20:57,037 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 21:20:57,037 - anki_adder           - INFO  - Getting new translation
2025-02-23 21:20:57,037 - word_repository      - INFO  - Getting the top word: loves
2025-02-23 21:20:57,040 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 21:20:57,041 - LLMModels            - INFO  - Requesting: loves
2025-02-23 21:20:57,044 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'loves'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:20:57,054 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:20:57,055 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:20:57,056 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:20:57,057 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:20:57,065 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002A8E2D760F0>
2025-02-23 21:20:57,066 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002A8E084F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:20:57,080 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002A8E2D75E50>
2025-02-23 21:20:57,080 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:20:57,081 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:20:57,082 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:20:57,082 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:20:57,083 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:21:00,653 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:21:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:20:57Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:20:58Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:20:59Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:20:58Z'), (b'request-id', b'req_015C9PWX7YWoYUZRjAY856Xy'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169eb5cff78ef93-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:21:00,664 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:21:00,664 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:21:00,664 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:21:00,664 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:21:00,664 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:21:00,664 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:21:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:20:57Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:20:58Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:20:59Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:20:58Z', 'request-id': 'req_015C9PWX7YWoYUZRjAY856Xy', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169eb5cff78ef93-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:21:00,673 - anthropic._base_client - DEBUG - request_id: req_015C9PWX7YWoYUZRjAY856Xy
2025-02-23 21:21:00,674 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=235
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 21:21:00,675 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "kocha": "5/5",
        "uwielbia": "4/5",
        "lubi": "3/5"
    },
    "Uycie": "Czasownik, wyraanie silnego uczucia przywizania lub przyjemnoci",
    "Zdanie": "She loves to read books.",
    "Tumaczenie": "Ona uwielbia czyta ksiki.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["uczucia", "relacje", "zainteresowania"],
    "Synonimy": {
        "adores": "uwielbia - 4/5",
        "cherishes": "ceni - 3/5",
        "dotes on": "rozpieszcza - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 21:21:00,677 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:21:00,678 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'kocha: 5/5\nuwielbia: 4/5\nlubi: 3/5'), ('Uycie', 'Czasownik, wyraanie silnego uczucia przywizania lub przyjemnoci'), ('Zdanie', 'She loves to read books.'), ('Tumaczenie', 'Ona uwielbia czyta ksiki.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'uczucia, relacje, zainteresowania'), ('Synonimy', 'adores: uwielbia - 4/5\ncherishes: ceni - 3/5\ndotes on: rozpieszcza - 2/5'), ('is_word_correct', 'ok')]
2025-02-23 21:21:00,680 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 21:21:00,680 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 21:21:00,680 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 21:21:02,567 - gui.components.repository - INFO  - Repository window colsed.
2025-02-23 21:21:12,706 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:21:12,709 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:21:41,523 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 21:21:41,523 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 21:21:41,523 - events               - INFO  - EventManager init.
2025-02-23 21:21:41,523 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 21:21:41,637 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 21:21:41,663 - gui.components.repository - INFO  - Repository init.
2025-02-23 21:21:41,663 - word_repository      - INFO  - WordRepository init.
2025-02-23 21:21:41,663 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 21:21:41,669 - word_repository      - DEBUG - ['loves']
2025-02-23 21:21:41,670 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 21:21:41,672 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 21:21:41,673 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 21:21:41,678 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 21:21:42,424 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 21:21:42,424 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 21:21:42,424 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 21:21:42,424 - word_repository      - INFO  - Getting the top word: loves
2025-02-23 21:21:42,424 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:21:42,424 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:21:42,424 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 21:21:42,424 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 21:21:42,424 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:21:42,432 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:21:42,432 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 21:21:42,433 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 21:21:42,433 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 21:21:42,433 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 21:21:42,434 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 21:21:42,434 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 21:21:42,435 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 21:21:42,436 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 21:21:51,137 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-23 21:21:51,137 - word_repository      - INFO  - Getting the top word: loves
2025-02-23 21:21:51,137 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-23 21:21:51,137 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-23 21:21:51,137 - LLMModels            - INFO  - Requesting: She loves to eat
2025-02-23 21:21:51,144 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'She loves to eat'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:21:51,337 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:21:51,337 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:21:51,357 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000226657779E0>
2025-02-23 21:21:51,358 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002266574F850> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:21:51,373 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022664F0F2C0>
2025-02-23 21:21:51,374 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:21:51,376 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:21:51,376 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:21:51,377 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:21:51,377 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:21:54,324 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:21:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:21:52Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:21:52Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:21:53Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:21:52Z'), (b'request-id', b'req_01Lw16NoLxkMRJgPoHdUQqda'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169ecb04d77b613-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:21:54,324 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:21:54,324 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:21:54,324 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:21:54,324 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:21:54,324 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:21:54,324 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:21:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:21:52Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:21:52Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:21:53Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:21:52Z', 'request-id': 'req_01Lw16NoLxkMRJgPoHdUQqda', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169ecb04d77b613-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:21:54,333 - anthropic._base_client - DEBUG - request_id: req_01Lw16NoLxkMRJgPoHdUQqda
2025-02-23 21:21:54,345 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=11
output_tokens=124
Cache hit rate: 99.0%
Tokens saved: 1143
2025-02-23 21:21:54,345 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Niekompletne - brakuje obiektu lub dalszej czci zdania",
"Zdanie angielskie": "She loves to eat.",
"Tumaczenie zdania": "Ona lubi je.",
"notatka": "To zdanie jest gramatycznie poprawne, ale czsto dodaje si obiekt, np. 'She loves to eat pasta.'"
}
2025-02-23 21:21:54,348 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:21:54,348 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Poprawne'), ('Naturalno jzykowa', 'Niekompletne - brakuje obiektu lub dalszej czci zdania'), ('Zdanie angielskie', 'She loves to eat.'), ('Tumaczenie zdania', 'Ona lubi je.'), ('notatka', "To zdanie jest gramatycznie poprawne, ale czsto dodaje si obiekt, np. 'She loves to eat pasta.'")]
2025-02-23 21:21:54,349 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-23 21:21:54,350 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-23 21:21:54,350 - anki_adder           - DEBUG - Creading flashcard
2025-02-23 21:21:54,351 - queris               - DEBUG - Safe execution of get falshcard
2025-02-23 21:21:54,353 - LLMModels            - INFO  - Requesting: She loves to eat.:loves
2025-02-23 21:21:54,354 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'She loves to eat.:loves'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:21:54,360 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:21:54,363 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:21:54,363 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:21:54,363 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:21:54,365 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:21:54,365 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:21:55,437 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:21:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:21:55Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:21:55Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:21:54Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:21:54Z'), (b'request-id', b'req_01JKxXs84zdFcNL9T6GcH58k'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169ecc2fc4fb613-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:21:55,437 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:21:55,444 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:21:55,444 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:21:55,444 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:21:55,444 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:21:55,444 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:21:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:21:55Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:21:55Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:21:54Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:21:54Z', 'request-id': 'req_01JKxXs84zdFcNL9T6GcH58k', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169ecc2fc4fb613-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:21:55,448 - anthropic._base_client - DEBUG - request_id: req_01JKxXs84zdFcNL9T6GcH58k
2025-02-23 21:21:55,449 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1008
output_tokens=30
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 21:21:55,450 - formatter            - DEBUG - json str:{
"Zdanie": "She [[kocha]] to eat.",
"Wyraz": "loves"
}
2025-02-23 21:21:55,451 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:21:55,452 - formatter            - DEBUG - formatted parts: [('Zdanie', 'She [[kocha]] to eat.'), ('Wyraz', 'loves')]
2025-02-23 21:21:55,452 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-23 21:21:55,453 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-23 21:21:55,454 - queris               - DEBUG - parts: [('Zdanie', 'She [[kocha]] to eat.'), ('Wyraz', 'loves')], data: {<ResponseField.FRONT: 'Zdanie'>: 'She [[kocha]] to eat.', <ResponseField.BACK: 'Wyraz'>: 'loves'}
2025-02-23 21:21:55,455 - anki_adder           - DEBUG - Inserting flashcard
2025-02-23 21:23:22,628 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:23:22,630 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:23:52,459 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 21:23:52,459 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 21:23:52,459 - events               - INFO  - EventManager init.
2025-02-23 21:23:52,463 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 21:23:52,569 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 21:23:52,595 - gui.components.repository - INFO  - Repository init.
2025-02-23 21:23:52,596 - word_repository      - INFO  - WordRepository init.
2025-02-23 21:23:52,596 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 21:23:52,597 - word_repository      - DEBUG - ['loves']
2025-02-23 21:23:52,598 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 21:23:52,599 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 21:23:52,600 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 21:23:52,606 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 21:23:53,383 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 21:23:53,388 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 21:23:53,388 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 21:23:53,388 - word_repository      - INFO  - Getting the top word: loves
2025-02-23 21:23:53,388 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:23:53,388 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:23:53,388 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 21:23:53,393 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 21:23:53,393 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:23:53,393 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:23:53,394 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 21:23:53,395 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 21:23:53,396 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 21:23:53,396 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 21:23:53,397 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 21:23:53,397 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 21:23:53,398 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 21:23:53,399 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 21:24:32,410 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-23 21:24:32,411 - word_repository      - INFO  - Pushing front football.
2025-02-23 21:24:32,411 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:24:32,412 - word_repository      - DEBUG - ['football', 'loves']
2025-02-23 21:24:32,413 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:24:32,414 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-23 21:24:32,414 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 21:24:32,415 - anki_adder           - INFO  - Getting new translation
2025-02-23 21:24:32,416 - word_repository      - INFO  - Getting the top word: football
2025-02-23 21:24:32,416 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 21:24:32,417 - LLMModels            - INFO  - Requesting: football
2025-02-23 21:24:32,421 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'football'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:24:32,623 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:24:32,628 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:24:32,713 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E923B77380>
2025-02-23 21:24:32,713 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001E923B4F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:24:32,738 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E9227FCEF0>
2025-02-23 21:24:32,739 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:24:32,740 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:24:32,741 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:24:32,741 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:24:32,743 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:24:43,029 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 529, b'', [(b'Date', b'Sun, 23 Feb 2025 20:24:42 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'75'), (b'Connection', b'keep-alive'), (b'x-should-retry', b'true'), (b'request-id', b'req_01LDKkBRnTifTFSZhAStCDU2'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169f0a0dd203bc7-WAW')])
2025-02-23 21:24:43,032 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 529 "
2025-02-23 21:24:43,032 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:24:43,033 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:24:43,033 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:24:43,034 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:24:43,034 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "529 " Headers({'date': 'Sun, 23 Feb 2025 20:24:42 GMT', 'content-type': 'application/json', 'content-length': '75', 'connection': 'keep-alive', 'x-should-retry': 'true', 'request-id': 'req_01LDKkBRnTifTFSZhAStCDU2', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169f0a0dd203bc7-WAW'})
2025-02-23 21:24:43,037 - anthropic._base_client - DEBUG - request_id: req_01LDKkBRnTifTFSZhAStCDU2
2025-02-23 21:24:43,037 - anthropic._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529
2025-02-23 21:24:43,042 - anthropic._base_client - DEBUG - Retrying as header `x-should-retry` is set to `true`
2025-02-23 21:24:43,042 - anthropic._base_client - DEBUG - 2 retries left
2025-02-23 21:24:43,043 - anthropic._base_client - INFO  - Retrying request to /v1/messages in 0.445300 seconds
2025-02-23 21:24:43,490 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'football'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:24:43,497 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:24:43,497 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:24:43,499 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:24:43,499 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:24:43,500 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:24:43,501 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:24:53,783 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 529, b'', [(b'Date', b'Sun, 23 Feb 2025 20:24:53 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'75'), (b'Connection', b'keep-alive'), (b'x-should-retry', b'true'), (b'request-id', b'req_01LtYDrZvpLQBnnudDairXpB'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169f0e40b2b3bc7-WAW')])
2025-02-23 21:24:53,783 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 529 "
2025-02-23 21:24:53,783 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:24:53,787 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:24:53,788 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:24:53,788 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:24:53,788 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "529 " Headers({'date': 'Sun, 23 Feb 2025 20:24:53 GMT', 'content-type': 'application/json', 'content-length': '75', 'connection': 'keep-alive', 'x-should-retry': 'true', 'request-id': 'req_01LtYDrZvpLQBnnudDairXpB', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169f0e40b2b3bc7-WAW'})
2025-02-23 21:24:53,788 - anthropic._base_client - DEBUG - request_id: req_01LtYDrZvpLQBnnudDairXpB
2025-02-23 21:24:53,791 - anthropic._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529
2025-02-23 21:24:53,796 - anthropic._base_client - DEBUG - Retrying as header `x-should-retry` is set to `true`
2025-02-23 21:24:53,796 - anthropic._base_client - DEBUG - 1 retry left
2025-02-23 21:24:53,796 - anthropic._base_client - INFO  - Retrying request to /v1/messages in 0.990791 seconds
2025-02-23 21:24:54,788 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'football'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:24:54,799 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:24:54,800 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:24:54,801 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:24:54,801 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:24:54,803 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:24:54,805 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:25:05,393 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 529, b'', [(b'Date', b'Sun, 23 Feb 2025 20:25:04 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'75'), (b'Connection', b'keep-alive'), (b'x-should-retry', b'true'), (b'request-id', b'req_01G4KUBT2UypejvNtwsAKh1Z'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'Cache-Control', b'no-store, no-cache'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169f12ab8383bc7-WAW')])
2025-02-23 21:25:05,393 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 529 "
2025-02-23 21:25:05,393 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:25:05,393 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:25:05,393 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:25:05,393 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:25:05,393 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "529 " Headers({'date': 'Sun, 23 Feb 2025 20:25:04 GMT', 'content-type': 'application/json', 'content-length': '75', 'connection': 'keep-alive', 'x-should-retry': 'true', 'request-id': 'req_01G4KUBT2UypejvNtwsAKh1Z', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cache-control': 'no-store, no-cache', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169f12ab8383bc7-WAW'})
2025-02-23 21:25:05,401 - anthropic._base_client - DEBUG - request_id: req_01G4KUBT2UypejvNtwsAKh1Z
2025-02-23 21:25:05,401 - anthropic._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529
2025-02-23 21:25:05,406 - anthropic._base_client - DEBUG - Re-raising status error
2025-02-23 21:25:05,406 - LLMModels            - ERROR - Anthropic API error!
2025-02-23 21:25:05,463 - error_handler        - ERROR - Operation failed: Anthropic API error: Error code: 529 - {'type': 'error', 'error': {'type': 'overloaded_error', 'message': 'Overloaded'}}
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\LLMModels.py", line 49, in query
    response = self.client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\resources\messages\messages.py", line 904, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1282, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 959, in request
    return self._request(
           ^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1048, in _request
    return self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1097, in _retry_request
    return self._request(
           ^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1048, in _request
    return self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1097, in _retry_request
    return self._request(
           ^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1063, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.InternalServerError: Error code: 529 - {'type': 'error', 'error': {'type': 'overloaded_error', 'message': 'Overloaded'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\error_handler.py", line 43, in safe_execute
    return operation()
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 126, in <lambda>
    operation=lambda: self._get_translation_impl(word),
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 81, in _get_translation_impl
    model_response = self.lmm.query(word, self.translation_prompt)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\LLMModels.py", line 68, in query
    raise RuntimeError(f"Anthropic API error: {str(e)}")
RuntimeError: Anthropic API error: Error code: 529 - {'type': 'error', 'error': {'type': 'overloaded_error', 'message': 'Overloaded'}}

2025-02-23 21:25:05,478 - error_handler        - INFO  - Asking for retry: Word Translation Error for 'football': An error occured: Anthropic API error: Error code: 529 - {'type': 'error', 'error': {'type': 'overloaded_error', 'message': 'Overloaded'}}

Would you like to retry?
2025-02-23 21:26:25,540 - LLMModels            - INFO  - Requesting: football
2025-02-23 21:26:25,543 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'football'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:26:25,552 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:26:25,553 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:26:25,554 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:26:25,555 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:26:25,563 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E9266640E0>
2025-02-23 21:26:25,563 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001E923B4F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:26:25,583 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E923B93E00>
2025-02-23 21:26:25,583 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:26:25,583 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:26:25,584 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:26:25,585 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:26:25,586 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:26:28,943 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:26:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:26:26Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:26:27Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:26:28Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:26:27Z'), (b'request-id', b'req_01FE5d7AdbGGofgAEBMYcAia'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169f3621acac3fe-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:26:28,943 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:26:28,943 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:26:28,943 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:26:28,943 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:26:28,943 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:26:28,952 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:26:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:26:26Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:26:27Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:26:28Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:26:27Z', 'request-id': 'req_01FE5d7AdbGGofgAEBMYcAia', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169f3621acac3fe-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:26:28,955 - anthropic._base_client - DEBUG - request_id: req_01FE5d7AdbGGofgAEBMYcAia
2025-02-23 21:26:28,968 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=246
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 21:26:28,970 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "pika nona": "5/5",
        "futbol": "4/5",
        "futbol amerykaski": "3/5"
    },
    "Uycie": "Rzeczownik, popularna gra zespoowa z pik",
    "Zdanie": "We play football every weekend.",
    "Tumaczenie": "Gramy w pik non co weekend.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["sport", "rozrywka", "zawody"],
    "Synonimy": {
        "soccer": "pika nona - 5/5",
        "footy": "pika nona (slang) - 2/5",
        "gridiron": "futbol amerykaski - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 21:26:28,973 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:26:28,973 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'pika nona: 5/5\nfutbol: 4/5\nfutbol amerykaski: 3/5'), ('Uycie', 'Rzeczownik, popularna gra zespoowa z pik'), ('Zdanie', 'We play football every weekend.'), ('Tumaczenie', 'Gramy w pik non co weekend.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'sport, rozrywka, zawody'), ('Synonimy', 'soccer: pika nona - 5/5\nfooty: pika nona (slang) - 2/5\ngridiron: futbol amerykaski - 2/5'), ('is_word_correct', 'ok')]
2025-02-23 21:26:28,973 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 21:26:28,973 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 21:26:28,973 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 21:27:01,406 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-23 21:27:01,406 - word_repository      - INFO  - Getting the top word: football
2025-02-23 21:27:01,406 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-23 21:27:01,406 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-23 21:27:01,406 - LLMModels            - INFO  - Requesting: I like football very mush
2025-02-23 21:27:01,413 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I like football very mush'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:27:01,421 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:27:01,421 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:27:01,423 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:27:01,423 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:27:01,446 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E923B770E0>
2025-02-23 21:27:01,447 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001E923B4F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:27:01,461 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E923B77350>
2025-02-23 21:27:01,462 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:27:01,463 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:27:01,463 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:27:01,464 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:27:01,464 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:27:04,323 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:27:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:27:02Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:27:02Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:27:03Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:27:02Z'), (b'request-id', b'req_01EvgFG7cuYqWxzgUz8yddZJ'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169f4424838ef8e-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:27:04,323 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:27:04,323 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:27:04,333 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:27:04,333 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:27:04,333 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:27:04,335 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:27:03 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:27:02Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:27:02Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:27:03Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:27:02Z', 'request-id': 'req_01EvgFG7cuYqWxzgUz8yddZJ', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169f4424838ef8e-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:27:04,337 - anthropic._base_client - DEBUG - request_id: req_01EvgFG7cuYqWxzgUz8yddZJ
2025-02-23 21:27:04,338 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=13
output_tokens=167
Cache hit rate: 98.9%
Tokens saved: 1143
2025-02-23 21:27:04,340 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Bd ortograficzny - 'mush' zamiast 'much'",
"Naturalno jzykowa": "Nienaturalne uycie 'very much' z czasownikiem 'like' - lepiej uy 'a lot' lub pomin",
"Zdanie angielskie": "I like football a lot.",
"Tumaczenie zdania": "Bardzo lubi pik non.",
"notatka": "W jzyku angielskim, 'football' czsto odnosi si do piki nonej, ale w USA oznacza futbol amerykaski."
}
2025-02-23 21:27:04,340 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:27:04,340 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Bd ortograficzny - 'mush' zamiast 'much'"), ('Naturalno jzykowa', "Nienaturalne uycie 'very much' z czasownikiem 'like' - lepiej uy 'a lot' lub pomin"), ('Zdanie angielskie', 'I like football a lot.'), ('Tumaczenie zdania', 'Bardzo lubi pik non.'), ('notatka', "W jzyku angielskim, 'football' czsto odnosi si do piki nonej, ale w USA oznacza futbol amerykaski.")]
2025-02-23 21:27:04,343 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-23 21:27:04,343 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-23 21:27:04,343 - anki_adder           - DEBUG - Creading flashcard
2025-02-23 21:27:04,343 - queris               - DEBUG - Safe execution of get falshcard
2025-02-23 21:27:04,343 - LLMModels            - INFO  - Requesting: I like football a lot.:football
2025-02-23 21:27:04,343 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I like football a lot.:football'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:27:04,353 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:27:04,355 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:27:04,356 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:27:04,356 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:27:04,356 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:27:04,356 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:27:05,433 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:27:04 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:27:05Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:27:05Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:27:04Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:27:04Z'), (b'request-id', b'req_019BELKigSJdcSwHEJSTdmg5'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9169f45469e3ef8e-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:27:05,439 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:27:05,439 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:27:05,443 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:27:05,443 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:27:05,443 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:27:05,443 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:27:04 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:27:05Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:27:05Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:27:04Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:27:04Z', 'request-id': 'req_019BELKigSJdcSwHEJSTdmg5', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '9169f45469e3ef8e-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:27:05,447 - anthropic._base_client - DEBUG - request_id: req_019BELKigSJdcSwHEJSTdmg5
2025-02-23 21:27:05,448 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1009
output_tokens=35
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 21:27:05,449 - formatter            - DEBUG - json str:{
"Zdanie": "I like [[pika nona]] a lot.",
"Wyraz": "football"
}
2025-02-23 21:27:05,449 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:27:05,449 - formatter            - DEBUG - formatted parts: [('Zdanie', 'I like [[pika nona]] a lot.'), ('Wyraz', 'football')]
2025-02-23 21:27:05,449 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-23 21:27:05,449 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-23 21:27:05,449 - queris               - DEBUG - parts: [('Zdanie', 'I like [[pika nona]] a lot.'), ('Wyraz', 'football')], data: {<ResponseField.FRONT: 'Zdanie'>: 'I like [[pika nona]] a lot.', <ResponseField.BACK: 'Wyraz'>: 'football'}
2025-02-23 21:27:05,453 - anki_adder           - DEBUG - Inserting flashcard
2025-02-23 21:40:45,368 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:40:45,370 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:41:32,645 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 21:41:32,645 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 21:41:32,651 - events               - INFO  - EventManager init.
2025-02-23 21:41:32,651 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 21:41:32,756 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 21:41:32,785 - gui.components.repository - INFO  - Repository init.
2025-02-23 21:41:32,787 - word_repository      - INFO  - WordRepository init.
2025-02-23 21:41:32,787 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 21:41:32,787 - word_repository      - DEBUG - ['football', 'loves']
2025-02-23 21:41:32,787 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 21:41:32,787 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 21:41:32,791 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 21:41:32,801 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 21:41:33,545 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 21:41:33,545 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 21:41:33,545 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 21:41:33,551 - word_repository      - INFO  - Getting the top word: football
2025-02-23 21:41:33,551 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:41:33,551 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:41:33,551 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 21:41:33,551 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 21:41:33,551 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:41:33,554 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:41:33,555 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 21:41:33,556 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 21:41:33,557 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 21:41:33,557 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 21:41:33,558 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 21:41:33,559 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 21:41:33,559 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 21:41:33,560 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 21:42:16,841 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 21:42:16,842 - word_repository      - INFO  - Pushing back bookshelf.
2025-02-23 21:42:16,842 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:42:16,843 - word_repository      - DEBUG - ['football', 'loves', 'bookshelf']
2025-02-23 21:42:16,844 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:42:16,845 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 21:42:16,845 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 21:42:20,398 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 21:42:20,400 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 21:42:24,923 - gui.components.repository - INFO  - Repository window colsed.
2025-02-23 21:42:27,463 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-23 21:42:27,464 - word_repository      - INFO  - Pushing front lover.
2025-02-23 21:42:27,465 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:42:27,466 - word_repository      - DEBUG - ['lover', 'football', 'loves', 'bookshelf']
2025-02-23 21:42:27,466 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:42:27,467 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-23 21:42:27,467 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 21:42:27,468 - anki_adder           - INFO  - Getting new translation
2025-02-23 21:42:27,468 - word_repository      - INFO  - Getting the top word: lover
2025-02-23 21:42:27,469 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 21:42:27,469 - LLMModels            - INFO  - Requesting: lover
2025-02-23 21:42:27,473 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'lover'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:42:27,670 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:42:27,671 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:42:27,712 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D2F3514890>
2025-02-23 21:42:27,713 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001D2F3E4F7D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:42:27,729 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D2F3E550D0>
2025-02-23 21:42:27,730 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:42:27,732 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:42:27,732 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:42:27,733 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:42:27,734 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:42:31,238 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:42:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:42:28Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:42:29Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:42:30Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:42:29Z'), (b'request-id', b'req_01241y1mqqdvzuo78wNFWj1W'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916a0adf69c30260-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:42:31,241 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:42:31,242 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:42:31,243 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:42:31,244 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:42:31,245 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:42:31,246 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:42:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:42:28Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:42:29Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:42:30Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:42:29Z', 'request-id': 'req_01241y1mqqdvzuo78wNFWj1W', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916a0adf69c30260-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:42:31,248 - anthropic._base_client - DEBUG - request_id: req_01241y1mqqdvzuo78wNFWj1W
2025-02-23 21:42:31,260 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=258
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 21:42:31,262 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "kochanek": "5/5",
        "kochanka": "5/5",
        "mionik": "4/5",
        "wielbiciel": "3/5"
    },
    "Uycie": "Rzeczownik, osoba darzca kogo lub co uczuciem mioci",
    "Zdanie": "She was his secret lover.",
    "Tumaczenie": "Ona bya jego tajemn kochank.",
    "Czstotliwo": "4/5, B1",
    "Konteksty": ["zwizki", "romans", "pasja"],
    "Synonimy": {
        "sweetheart": "ukochany/a - 4/5",
        "paramour": "kochanek/kochanka - 3/5",
        "admirer": "wielbiciel - 3/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 21:42:31,266 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:42:31,267 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'kochanek: 5/5\nkochanka: 5/5\nmionik: 4/5\nwielbiciel: 3/5'), ('Uycie', 'Rzeczownik, osoba darzca kogo lub co uczuciem mioci'), ('Zdanie', 'She was his secret lover.'), ('Tumaczenie', 'Ona bya jego tajemn kochank.'), ('Czstotliwo', '4/5, B1'), ('Konteksty', 'zwizki, romans, pasja'), ('Synonimy', 'sweetheart: ukochany/a - 4/5\nparamour: kochanek/kochanka - 3/5\nadmirer: wielbiciel - 3/5'), ('is_word_correct', 'ok')]
2025-02-23 21:42:31,268 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 21:42:31,269 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 21:42:31,269 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 21:42:36,057 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:42:36,059 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:43:03,407 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 21:43:03,408 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 21:43:03,408 - events               - INFO  - EventManager init.
2025-02-23 21:43:03,408 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 21:43:03,515 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 21:43:03,540 - gui.components.repository - INFO  - Repository init.
2025-02-23 21:43:03,541 - word_repository      - INFO  - WordRepository init.
2025-02-23 21:43:03,541 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 21:43:03,542 - word_repository      - DEBUG - ['lover', 'football', 'loves', 'bookshelf']
2025-02-23 21:43:03,543 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 21:43:03,545 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 21:43:03,546 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 21:43:03,551 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 21:43:04,351 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 21:43:04,353 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 21:43:04,354 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 21:43:04,355 - word_repository      - INFO  - Getting the top word: lover
2025-02-23 21:43:04,356 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:43:04,356 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:43:04,357 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 21:43:04,358 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 21:43:04,358 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:43:04,359 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:43:04,359 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 21:43:04,360 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 21:43:04,361 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 21:43:04,362 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 21:43:04,363 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 21:43:04,365 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 21:43:04,366 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 21:43:04,368 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 21:43:09,949 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-23 21:43:09,950 - word_repository      - INFO  - Pushing front sleepy.
2025-02-23 21:43:09,950 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:43:09,951 - word_repository      - DEBUG - ['sleepy', 'lover', 'football', 'loves', 'bookshelf']
2025-02-23 21:43:09,952 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:43:09,953 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-23 21:43:09,953 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 21:43:09,954 - anki_adder           - INFO  - Getting new translation
2025-02-23 21:43:09,954 - word_repository      - INFO  - Getting the top word: sleepy
2025-02-23 21:43:09,955 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 21:43:09,956 - LLMModels            - INFO  - Requesting: sleepy
2025-02-23 21:43:09,959 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'sleepy'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:43:10,158 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:43:10,159 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:43:10,207 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002799E6776B0>
2025-02-23 21:43:10,208 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002799E64F850> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:43:10,226 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002799E677410>
2025-02-23 21:43:10,227 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:43:10,228 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:43:10,229 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:43:10,230 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:43:10,230 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:43:13,330 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:43:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:43:10Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:43:11Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:43:12Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:43:11Z'), (b'request-id', b'req_0125LTZ1bAUXZyJvRGiWyVCD'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916a0be90c16bf31-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:43:13,333 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:43:13,334 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:43:13,335 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:43:13,336 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:43:13,336 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:43:13,337 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:43:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:43:10Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:43:11Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:43:12Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:43:11Z', 'request-id': 'req_0125LTZ1bAUXZyJvRGiWyVCD', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916a0be90c16bf31-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:43:13,340 - anthropic._base_client - DEBUG - request_id: req_0125LTZ1bAUXZyJvRGiWyVCD
2025-02-23 21:43:13,353 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=9
output_tokens=235
Cache hit rate: 99.4%
Tokens saved: 1484
2025-02-23 21:43:13,355 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "senny": "5/5",
        "zaspany": "4/5",
        "picy": "4/5"
    },
    "Uycie": "Przymiotnik, opisujcy stan zmczenia i chci snu",
    "Zdanie": "I'm feeling very sleepy today.",
    "Tumaczenie": "Czuj si dzi bardzo senny.",
    "Czstotliwo": "4/5, A2",
    "Konteksty": ["zmczenie", "sen", "samopoczucie"],
    "Synonimy": {
        "drowsy": "ospay - 3/5",
        "tired": "zmczony - 5/5",
        "dozy": "senny - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 21:43:13,357 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:43:13,358 - formatter            - DEBUG - formatted parts: [('Tumaczenia', 'senny: 5/5\nzaspany: 4/5\npicy: 4/5'), ('Uycie', 'Przymiotnik, opisujcy stan zmczenia i chci snu'), ('Zdanie', "I'm feeling very sleepy today."), ('Tumaczenie', 'Czuj si dzi bardzo senny.'), ('Czstotliwo', '4/5, A2'), ('Konteksty', 'zmczenie, sen, samopoczucie'), ('Synonimy', 'drowsy: ospay - 3/5\ntired: zmczony - 5/5\ndozy: senny - 2/5'), ('is_word_correct', 'ok')]
2025-02-23 21:43:13,359 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 21:43:13,360 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 21:43:13,360 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 21:47:23,191 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:47:23,193 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:48:30,284 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 21:48:30,285 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 21:48:30,286 - events               - INFO  - EventManager init.
2025-02-23 21:48:30,286 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 21:48:30,394 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 21:48:30,422 - gui.components.repository - INFO  - Repository init.
2025-02-23 21:48:30,423 - word_repository      - INFO  - WordRepository init.
2025-02-23 21:48:30,424 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 21:48:30,425 - word_repository      - DEBUG - ['sleepy', 'lover', 'football', 'loves', 'bookshelf']
2025-02-23 21:48:30,425 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 21:48:30,428 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 21:48:30,429 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 21:48:30,434 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 21:48:31,173 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 21:48:31,173 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 21:48:31,174 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 21:48:31,175 - word_repository      - INFO  - Getting the top word: sleepy
2025-02-23 21:48:31,176 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:48:31,176 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:48:31,177 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 21:48:31,177 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 21:48:31,178 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:48:31,178 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:48:31,179 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 21:48:31,179 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 21:48:31,180 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 21:48:31,181 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 21:48:31,182 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 21:48:31,182 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 21:48:31,183 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 21:48:31,183 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 21:48:37,727 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-23 21:48:37,728 - word_repository      - INFO  - Pushing front drawsy.
2025-02-23 21:48:37,728 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:48:37,730 - word_repository      - DEBUG - ['drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf']
2025-02-23 21:48:37,731 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:48:37,732 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-23 21:48:37,733 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 21:48:37,733 - anki_adder           - INFO  - Getting new translation
2025-02-23 21:48:37,734 - word_repository      - INFO  - Getting the top word: drawsy
2025-02-23 21:48:37,735 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 21:48:37,735 - LLMModels            - INFO  - Requesting: drawsy
2025-02-23 21:48:37,739 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'drawsy'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:48:37,939 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:48:37,940 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:48:37,990 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001B7E6A776E0>
2025-02-23 21:48:37,991 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001B7E6A4F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:48:38,008 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001B7E6311F70>
2025-02-23 21:48:38,009 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:48:38,010 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:48:38,011 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:48:38,011 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:48:38,012 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:48:41,857 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:48:41 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:48:39Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:48:40Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:48:41Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:48:40Z'), (b'request-id', b'req_01QxfSec43kMVBnuoxYQsEJe'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916a13e9ae0e3bc5-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:48:41,860 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:48:41,861 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:48:41,862 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:48:41,863 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:48:41,863 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:48:41,864 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:48:41 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:48:39Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:48:40Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:48:41Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:48:40Z', 'request-id': 'req_01QxfSec43kMVBnuoxYQsEJe', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916a13e9ae0e3bc5-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:48:41,867 - anthropic._base_client - DEBUG - request_id: req_01QxfSec43kMVBnuoxYQsEJe
2025-02-23 21:48:41,879 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=9
output_tokens=246
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 21:48:41,881 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "senny": "4/5",
        "ospay": "3/5",
        "ociay": "2/5"
    },
    "Uycie": "Przymiotnik, opisujcy stan sennoci lub ospaoci",
    "Zdanie": "She felt drowsy after lunch.",
    "Tumaczenie": "Czua si senna po lunchu.",
    "Czstotliwo": "3/5, B1",
    "Konteksty": ["zmczenie", "efekty uboczne lekw", "popoudniowa senno"],
    "Synonimy": {
        "sleepy": "picy - 4/5",
        "lethargic": "letargiczny - 3/5",
        "groggy": "zamroczony - 3/5"
    },
    "is_word_correct": "drowsy"
}
2025-02-23 21:48:41,885 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:48:41,887 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' senny: 4/5\n ospay: 3/5\n ociay: 2/5'), ('Uycie', 'Przymiotnik, opisujcy stan sennoci lub ospaoci'), ('Zdanie', 'She felt drowsy after lunch.'), ('Tumaczenie', 'Czua si senna po lunchu.'), ('Czstotliwo', '3/5, B1'), ('Konteksty', 'zmczenie, efekty uboczne lekw, popoudniowa senno'), ('Synonimy', ' sleepy: picy - 4/5\n lethargic: letargiczny - 3/5\n groggy: zamroczony - 3/5'), ('is_word_correct', 'drowsy')]
2025-02-23 21:48:41,888 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 21:48:41,889 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 21:48:41,889 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 21:48:55,519 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:48:55,521 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:49:31,921 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 21:49:31,922 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 21:49:31,922 - events               - INFO  - EventManager init.
2025-02-23 21:49:31,923 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 21:49:32,032 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 21:49:32,055 - gui.components.repository - INFO  - Repository init.
2025-02-23 21:49:32,056 - word_repository      - INFO  - WordRepository init.
2025-02-23 21:49:32,057 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 21:49:32,058 - word_repository      - DEBUG - ['drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf']
2025-02-23 21:49:32,059 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 21:49:32,061 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 21:49:32,062 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 21:49:32,066 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 21:49:32,810 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 21:49:32,812 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 21:49:32,813 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 21:49:32,814 - word_repository      - INFO  - Getting the top word: drawsy
2025-02-23 21:49:32,815 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:49:32,815 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:49:32,816 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 21:49:32,817 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 21:49:32,817 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:49:32,818 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:49:32,818 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 21:49:32,819 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 21:49:32,819 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 21:49:32,820 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 21:49:32,820 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 21:49:32,821 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 21:49:32,821 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 21:49:32,822 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 21:49:40,558 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-23 21:49:40,558 - word_repository      - INFO  - Pushing front vampir.
2025-02-23 21:49:40,559 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:49:40,560 - word_repository      - DEBUG - ['vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf']
2025-02-23 21:49:40,561 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:49:40,561 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-23 21:49:40,562 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 21:49:40,563 - anki_adder           - INFO  - Getting new translation
2025-02-23 21:49:40,563 - word_repository      - INFO  - Getting the top word: vampir
2025-02-23 21:49:40,564 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 21:49:40,564 - LLMModels            - INFO  - Requesting: vampir
2025-02-23 21:49:40,569 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'vampir'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:49:40,769 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:49:40,770 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:49:40,785 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002895FD0F740>
2025-02-23 21:49:40,786 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002896074F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:49:40,800 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002895F9F9B50>
2025-02-23 21:49:40,801 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:49:40,802 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:49:40,803 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:49:40,804 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:49:40,804 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:49:44,299 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:49:43 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:49:41Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:49:42Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:49:43Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:49:42Z'), (b'request-id', b'req_01XageG485hCdmuiaxLpXtN4'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916a15721c4cbf45-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:49:44,303 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:49:44,305 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:49:44,305 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:49:44,306 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:49:44,306 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:49:44,307 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:49:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:49:41Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:49:42Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:49:43Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:49:42Z', 'request-id': 'req_01XageG485hCdmuiaxLpXtN4', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916a15721c4cbf45-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:49:44,309 - anthropic._base_client - DEBUG - request_id: req_01XageG485hCdmuiaxLpXtN4
2025-02-23 21:49:44,322 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=9
output_tokens=242
Cache hit rate: 99.4%
Tokens saved: 1484
2025-02-23 21:49:44,324 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "wampir": "5/5",
        "upir": "3/5",
        "krwiopijca": "2/5"
    },
    "Uycie": "Rzeczownik, mityczna istota ywica si ludzk krwi",
    "Zdanie": "The vampire only comes out night.",
    "Tumaczenie": "Wampir wychodzi tylko noc.",
    "Czstotliwo": "3/5, B1",
    "Konteksty": ["mitologia", "literatura grozy", "popkultura"],
    "Synonimy": {
        "bloodsucker": "krwiopijca - 2/5",
        "nosferatu": "nosferatu - 1/5",
        "undead": "nieumary - 2/5"
    },
    "is_word_correct": "vampire"
}
2025-02-23 21:49:44,327 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:49:44,327 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' wampir: 5/5\n upir: 3/5\n krwiopijca: 2/5'), ('Uycie', 'Rzeczownik, mityczna istota ywica si ludzk krwi'), ('Zdanie', 'The vampire only comes out night.'), ('Tumaczenie', 'Wampir wychodzi tylko noc.'), ('Czstotliwo', '3/5, B1'), ('Konteksty', 'mitologia, literatura grozy, popkultura'), ('Synonimy', ' bloodsucker: krwiopijca - 2/5\n nosferatu: nosferatu - 1/5\n undead: nieumary - 2/5'), ('is_word_correct', 'vampire')]
2025-02-23 21:49:44,328 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 21:49:44,329 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 21:49:44,330 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 21:50:12,196 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:50:12,197 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:51:28,675 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 21:51:28,675 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 21:51:28,675 - events               - INFO  - EventManager init.
2025-02-23 21:51:28,676 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 21:51:28,785 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 21:52:35,050 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 21:52:35,051 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 21:52:35,051 - events               - INFO  - EventManager init.
2025-02-23 21:52:35,052 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 21:52:35,158 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 21:52:35,185 - gui.components.repository - INFO  - Repository init.
2025-02-23 21:52:35,186 - word_repository      - INFO  - WordRepository init.
2025-02-23 21:52:35,186 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 21:52:35,187 - word_repository      - DEBUG - ['vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf']
2025-02-23 21:52:35,188 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 21:52:35,189 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 21:52:35,190 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 21:52:35,195 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 21:52:35,942 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 21:52:35,943 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 21:52:35,944 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 21:52:35,945 - word_repository      - INFO  - Getting the top word: vampir
2025-02-23 21:52:35,946 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:52:35,947 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 21:52:35,947 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 21:52:35,948 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 21:52:35,948 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:52:35,949 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 21:52:35,950 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 21:52:35,950 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 21:52:35,951 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 21:52:35,951 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 21:52:35,952 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 21:52:35,952 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 21:52:35,953 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 21:52:35,953 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 21:52:40,805 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 21:52:40,805 - word_repository      - INFO  - Pushing back politition.
2025-02-23 21:52:40,806 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:52:40,807 - word_repository      - DEBUG - ['vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf', 'politition']
2025-02-23 21:52:40,808 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:52:40,808 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 21:52:40,809 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 21:52:45,474 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-23 21:52:45,475 - word_repository      - INFO  - Pushing front politition.
2025-02-23 21:52:45,475 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 21:52:45,477 - word_repository      - DEBUG - ['politition', 'vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf', 'politition']
2025-02-23 21:52:45,478 - word_repository      - INFO  - Words saved successfully.
2025-02-23 21:52:45,478 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-23 21:52:45,479 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 21:52:45,479 - anki_adder           - INFO  - Getting new translation
2025-02-23 21:52:45,480 - word_repository      - INFO  - Getting the top word: politition
2025-02-23 21:52:45,480 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 21:52:45,481 - LLMModels            - INFO  - Requesting: politition
2025-02-23 21:52:45,485 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'politition'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:52:45,682 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:52:45,683 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:52:45,717 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000230D438A750>
2025-02-23 21:52:45,718 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000230D624F850> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:52:45,734 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000230D5B69C10>
2025-02-23 21:52:45,735 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:52:45,736 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:52:45,737 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:52:45,737 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:52:45,738 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:52:48,999 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:52:48 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:52:46Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:52:47Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:52:48Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:52:47Z'), (b'request-id', b'req_01HGWimmADqiW5TZqq36ajjk'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916a19f5ee90ee4b-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:52:49,003 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:52:49,004 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:52:49,005 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:52:49,005 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:52:49,006 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:52:49,007 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:52:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:52:46Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:52:47Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:52:48Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:52:47Z', 'request-id': 'req_01HGWimmADqiW5TZqq36ajjk', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916a19f5ee90ee4b-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:52:49,009 - anthropic._base_client - DEBUG - request_id: req_01HGWimmADqiW5TZqq36ajjk
2025-02-23 21:52:49,022 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=9
output_tokens=248
Cache hit rate: 99.4%
Tokens saved: 1484
2025-02-23 21:52:49,023 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "polityk": "5/5",
        "dziaacz polityczny": "4/5",
        "m stanu": "3/5"
    },
    "Uycie": "Rzeczownik, osoba zaangaowana w polityk lub sprawujca urzd publiczny",
    "Zdanie": "The politician gave a speech.",
    "Tumaczenie": "Polityk wygosi przemwienie.",
    "Czstotliwo": "4/5, B1",
    "Konteksty": ["polityka", "wybory", "rzd"],
    "Synonimy": {
        "statesman": "m stanu - 3/5",
        "lawmaker": "ustawodawca - 3/5",
        "public servant": "urzdnik pastwowy - 3/5"
    },
    "is_word_correct": "politician"
}
2025-02-23 21:52:49,026 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:52:49,027 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' polityk: 5/5\n dziaacz polityczny: 4/5\n m stanu: 3/5'), ('Uycie', 'Rzeczownik, osoba zaangaowana w polityk lub sprawujca urzd publiczny'), ('Zdanie', 'The politician gave a speech.'), ('Tumaczenie', 'Polityk wygosi przemwienie.'), ('Czstotliwo', '4/5, B1'), ('Konteksty', 'polityka, wybory, rzd'), ('Synonimy', ' statesman: m stanu - 3/5\n lawmaker: ustawodawca - 3/5\n public servant: urzdnik pastwowy - 3/5'), ('is_word_correct', 'politician')]
2025-02-23 21:52:49,028 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 21:52:49,028 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 21:52:49,029 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 21:53:00,061 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-23 21:53:00,062 - word_repository      - INFO  - Getting the top word: politition
2025-02-23 21:53:00,062 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-23 21:53:00,063 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-23 21:53:00,063 - LLMModels            - INFO  - Requesting: I will vote for this politition
2025-02-23 21:53:00,067 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I will vote for this politition'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:53:00,074 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:53:00,075 - httpcore.connection  - DEBUG - close.started
2025-02-23 21:53:00,075 - httpcore.connection  - DEBUG - close.complete
2025-02-23 21:53:00,076 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 21:53:00,084 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000230D6293110>
2025-02-23 21:53:00,086 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x00000230D624F850> server_hostname='api.anthropic.com' timeout=600
2025-02-23 21:53:00,107 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000230D6293020>
2025-02-23 21:53:00,108 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:53:00,108 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:53:00,109 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:53:00,110 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:53:00,110 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:53:02,735 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:53:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:53:00Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:53:01Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:53:02Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:53:01Z'), (b'request-id', b'req_01RyueHdKEw3jWdGo7tjob6i'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916a1a4fcd3bc400-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:53:02,738 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:53:02,740 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:53:02,741 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:53:02,742 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:53:02,742 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:53:02,743 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:53:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:53:00Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:53:01Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:53:02Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:53:01Z', 'request-id': 'req_01RyueHdKEw3jWdGo7tjob6i', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916a1a4fcd3bc400-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:53:02,745 - anthropic._base_client - DEBUG - request_id: req_01RyueHdKEw3jWdGo7tjob6i
2025-02-23 21:53:02,746 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1143
cache_read_input_tokens=0
input_tokens=14
output_tokens=142
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 21:53:02,748 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Bd w pisowni - 'politition' powinno by 'politician'",
"Naturalno jzykowa": "Poprawne",
"Zdanie angielskie": "I will vote for this politician.",
"Tumaczenie zdania": "Zagosuj na tego polityka.",
"notatka": "Warto zwrci uwag na pisowni sw zakoczonych na '-cian', takich jak 'politician', 'musician', 'electrician'."
}
2025-02-23 21:53:02,749 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:53:02,751 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Bd w pisowni - 'politition' powinno by 'politician'"), ('Naturalno jzykowa', 'Poprawne'), ('Zdanie angielskie', 'I will vote for this politician.'), ('Tumaczenie zdania', 'Zagosuj na tego polityka.'), ('notatka', "Warto zwrci uwag na pisowni sw zakoczonych na '-cian', takich jak 'politician', 'musician', 'electrician'.")]
2025-02-23 21:53:02,752 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-23 21:53:02,752 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-23 21:53:02,753 - anki_adder           - DEBUG - Creading flashcard
2025-02-23 21:53:02,754 - queris               - DEBUG - Safe execution of get falshcard
2025-02-23 21:53:02,754 - LLMModels            - INFO  - Requesting: I will vote for this politician.:politition
2025-02-23 21:53:02,757 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I will vote for this politician.:politition'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 21:53:02,763 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 21:53:02,763 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 21:53:02,764 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 21:53:02,765 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 21:53:02,766 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 21:53:02,766 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 21:53:03,887 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 20:53:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T20:53:03Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T20:53:03Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T20:53:03Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T20:53:03Z'), (b'request-id', b'req_01TGY5dsiCWnh3R3L64oWxeY'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916a1a605bbcc400-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 21:53:03,890 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 21:53:03,890 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 21:53:03,891 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 21:53:03,893 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 21:53:03,893 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 21:53:03,894 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 20:53:03 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T20:53:03Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T20:53:03Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T20:53:03Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T20:53:03Z', 'request-id': 'req_01TGY5dsiCWnh3R3L64oWxeY', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916a1a605bbcc400-WAW', 'content-encoding': 'gzip'})
2025-02-23 21:53:03,897 - anthropic._base_client - DEBUG - request_id: req_01TGY5dsiCWnh3R3L64oWxeY
2025-02-23 21:53:03,898 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1011
output_tokens=32
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 21:53:03,899 - formatter            - DEBUG - json str:{
"Zdanie": "I will vote for this [[polityk]].",
"Wyraz": "politician"
}
2025-02-23 21:53:03,900 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 21:53:03,901 - formatter            - DEBUG - formatted parts: [('Zdanie', 'I will vote for this [[polityk]].'), ('Wyraz', 'politician')]
2025-02-23 21:53:03,902 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-23 21:53:03,902 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-23 21:53:03,903 - queris               - DEBUG - parts: [('Zdanie', 'I will vote for this [[polityk]].'), ('Wyraz', 'politician')], data: {<ResponseField.FRONT: 'Zdanie'>: 'I will vote for this [[polityk]].', <ResponseField.BACK: 'Wyraz'>: 'politician'}
2025-02-23 21:53:03,904 - anki_adder           - DEBUG - Inserting flashcard
2025-02-23 22:01:14,183 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 22:01:14,185 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 22:01:34,486 - gui.components.repository - INFO  - Repository window colsed.
2025-02-23 22:01:35,608 - httpcore.connection  - DEBUG - close.started
2025-02-23 22:01:35,609 - httpcore.connection  - DEBUG - close.complete
2025-02-23 22:03:13,734 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:03:13,735 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:03:13,735 - events               - INFO  - EventManager init.
2025-02-23 22:03:13,736 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:03:13,845 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:03:13,869 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:03:13,870 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:03:13,871 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:03:13,872 - word_repository      - DEBUG - ['politition', 'vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf', 'politition']
2025-02-23 22:03:13,872 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:03:13,874 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:03:13,875 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:03:13,880 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:03:14,670 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:03:14,672 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:03:14,673 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:03:14,674 - word_repository      - INFO  - Getting the top word: politition
2025-02-23 22:03:14,675 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:03:14,676 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:03:14,677 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:03:14,677 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:03:14,678 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:03:14,679 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:03:14,679 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:03:14,680 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:03:14,680 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:03:14,681 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:03:14,682 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:03:14,682 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:03:14,683 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:03:14,684 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:03:27,049 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:03:27,050 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:03:27,051 - events               - INFO  - EventManager init.
2025-02-23 22:03:27,051 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:03:27,163 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:03:27,189 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:03:27,190 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:03:27,191 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:03:27,192 - word_repository      - DEBUG - ['politition', 'vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf', 'politition']
2025-02-23 22:03:27,193 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:03:27,194 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:03:27,196 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:03:27,199 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:03:27,994 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:03:27,995 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:03:27,996 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:03:27,997 - word_repository      - INFO  - Getting the top word: politition
2025-02-23 22:03:27,997 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:03:27,998 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:03:27,998 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:03:27,998 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:03:27,999 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:03:27,999 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:03:28,000 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:03:28,000 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:03:28,001 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:03:28,001 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:03:28,002 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:03:28,002 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:03:28,003 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:03:28,003 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:03:29,751 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 22:03:29,752 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 22:03:35,681 - gui.components.repository - INFO  - Repository window colsed.
2025-02-23 22:03:48,631 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:03:48,631 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:03:48,632 - events               - INFO  - EventManager init.
2025-02-23 22:03:48,633 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:03:48,747 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:03:48,773 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:03:48,775 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:03:48,776 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:03:48,777 - word_repository      - DEBUG - ['politition', 'vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf', 'politition']
2025-02-23 22:03:48,778 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:03:48,780 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:03:48,781 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:03:48,785 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:03:49,543 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:03:49,544 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:03:49,545 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:03:49,546 - word_repository      - INFO  - Getting the top word: politition
2025-02-23 22:03:49,547 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:03:49,548 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:03:49,548 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:03:49,549 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:03:49,550 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:03:49,551 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:03:49,552 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:03:49,552 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:03:49,554 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:03:49,555 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:03:49,556 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:03:49,557 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:03:49,558 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:03:49,559 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:03:50,576 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 22:03:50,578 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 22:03:52,017 - gui.components.repository - INFO  - Repository window colsed.
2025-02-23 22:04:03,681 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:04:03,682 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:04:03,682 - events               - INFO  - EventManager init.
2025-02-23 22:04:03,682 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:04:03,786 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:04:03,811 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:04:03,812 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:04:03,812 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:04:03,813 - word_repository      - DEBUG - ['politition', 'vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf', 'politition']
2025-02-23 22:04:03,814 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:04:03,816 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:04:03,817 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:04:03,821 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:04:04,631 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:04:04,632 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:04:04,633 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:04:04,634 - word_repository      - INFO  - Getting the top word: politition
2025-02-23 22:04:04,635 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:04:04,635 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:04:04,636 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:04:04,637 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:04:04,638 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:04:04,639 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:04:04,640 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:04:04,640 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:04:04,641 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:04:04,642 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:04:04,642 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:04:04,643 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:04:04,644 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:04:04,644 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:04:06,186 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 22:04:06,188 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 22:04:23,662 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:04:23,662 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:04:23,663 - events               - INFO  - EventManager init.
2025-02-23 22:04:23,663 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:04:23,770 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:04:23,796 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:04:23,797 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:04:23,798 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:04:23,799 - word_repository      - DEBUG - ['politition', 'vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf', 'politition']
2025-02-23 22:04:23,799 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:04:23,801 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:04:23,802 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:04:23,807 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:04:24,556 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:04:24,558 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:04:24,559 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:04:24,560 - word_repository      - INFO  - Getting the top word: politition
2025-02-23 22:04:24,561 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:04:24,561 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:04:24,562 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:04:24,562 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:04:24,563 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:04:24,563 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:04:24,564 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:04:24,565 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:04:24,565 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:04:24,566 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:04:24,566 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:04:24,567 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:04:24,567 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:04:24,568 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:04:25,643 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 22:04:25,645 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 22:04:45,095 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:04:45,096 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:04:45,096 - events               - INFO  - EventManager init.
2025-02-23 22:04:45,097 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:04:45,203 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:04:45,230 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:04:45,231 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:04:45,232 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:04:45,232 - word_repository      - DEBUG - ['politition', 'vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf', 'politition']
2025-02-23 22:04:45,233 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:04:45,235 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:04:45,236 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:04:45,240 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:04:45,992 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:04:45,994 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:04:45,995 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:04:45,995 - word_repository      - INFO  - Getting the top word: politition
2025-02-23 22:04:45,996 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:04:45,996 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:04:45,997 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:04:45,997 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:04:45,998 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:04:45,999 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:04:45,999 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:04:46,000 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:04:46,000 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:04:46,000 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:04:46,001 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:04:46,002 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:04:46,002 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:04:46,003 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:04:47,752 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 22:04:47,754 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 22:04:59,702 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:04:59,703 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:04:59,704 - events               - INFO  - EventManager init.
2025-02-23 22:04:59,705 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:04:59,808 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:04:59,834 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:04:59,834 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:04:59,835 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:04:59,837 - word_repository      - DEBUG - ['politition', 'vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf', 'politition']
2025-02-23 22:04:59,837 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:04:59,840 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:04:59,842 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:04:59,846 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:05:00,629 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:05:00,631 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:05:00,632 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:05:00,633 - word_repository      - INFO  - Getting the top word: politition
2025-02-23 22:05:00,633 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:05:00,634 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:05:00,635 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:05:00,635 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:05:00,636 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:05:00,636 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:05:00,637 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:05:00,637 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:05:00,638 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:05:00,639 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:05:00,640 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:05:00,641 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:05:00,641 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:05:00,642 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:05:18,858 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 22:05:18,859 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 22:05:22,867 - gui.components.repository - INFO  - Repository window colsed.
2025-02-23 22:05:30,171 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:05:30,172 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:05:30,173 - events               - INFO  - EventManager init.
2025-02-23 22:05:30,173 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:05:30,282 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:05:30,308 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:05:30,309 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:05:30,309 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:05:30,310 - word_repository      - DEBUG - ['politition', 'vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf', 'politition']
2025-02-23 22:05:30,311 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:05:30,314 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:05:30,314 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:05:30,317 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:05:31,069 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:05:31,071 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:05:31,072 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:05:31,074 - word_repository      - INFO  - Getting the top word: politition
2025-02-23 22:05:31,075 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:05:31,076 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:05:31,077 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:05:31,078 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:05:31,078 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:05:31,079 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:05:31,080 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:05:31,080 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:05:31,081 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:05:31,082 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:05:31,082 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:05:31,083 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:05:31,083 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:05:31,084 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:05:33,480 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 22:05:33,482 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 22:05:54,702 - gui.components.repository - INFO  - Repository window colsed.
2025-02-23 22:07:03,723 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:07:03,724 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:07:03,725 - events               - INFO  - EventManager init.
2025-02-23 22:07:03,725 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:07:03,832 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:07:03,856 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:07:03,857 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:07:03,857 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:07:03,858 - word_repository      - DEBUG - ['politition', 'vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf', 'politition']
2025-02-23 22:07:03,859 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:07:03,861 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:07:03,862 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:07:03,866 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:07:04,611 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:07:04,612 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:07:04,614 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:07:04,614 - word_repository      - INFO  - Getting the top word: politition
2025-02-23 22:07:04,615 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:07:04,615 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:07:04,616 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:07:04,616 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:07:04,617 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:07:04,618 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:07:04,618 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:07:04,619 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:07:04,619 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:07:04,620 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:07:04,620 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:07:04,620 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:07:04,621 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:07:04,622 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:07:06,352 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 22:07:06,354 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 22:07:22,395 - gui.components.repository - INFO  - Repository window colsed.
2025-02-23 22:17:08,931 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:17:08,931 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:17:08,931 - events               - INFO  - EventManager init.
2025-02-23 22:17:08,931 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:17:09,051 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:17:09,077 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:17:09,078 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:17:09,079 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:17:09,080 - word_repository      - DEBUG - ['politition', 'vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf', 'politition']
2025-02-23 22:17:09,081 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:17:09,083 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:17:09,084 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:17:09,088 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:17:09,841 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:17:09,841 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:17:09,841 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:17:09,841 - anki_adder           - DEBUG - Refresh gui.
2025-02-23 22:17:09,841 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 22:17:09,841 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:17:09,841 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:17:09,841 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:17:09,841 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:17:09,851 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:17:09,851 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:17:09,852 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:17:09,852 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:17:09,853 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:17:09,853 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:17:09,854 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:17:09,854 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:17:09,855 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:17:09,856 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:17:33,271 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:17:33,271 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:17:33,271 - events               - INFO  - EventManager init.
2025-02-23 22:17:33,271 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:17:33,382 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:17:33,402 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:17:33,402 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:17:33,410 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:17:33,411 - word_repository      - DEBUG - ['politition', 'vampir', 'drawsy', 'sleepy', 'lover', 'football', 'loves', 'bookshelf', 'politition']
2025-02-23 22:17:33,411 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:17:33,411 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:17:33,411 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:17:33,418 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:17:34,141 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:17:34,151 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:17:34,151 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:17:34,154 - anki_adder           - DEBUG - Refresh gui.
2025-02-23 22:17:34,154 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 22:17:34,154 - anki_adder           - INFO  - Getting new translation
2025-02-23 22:17:34,154 - word_repository      - INFO  - Getting the top word: politition
2025-02-23 22:17:34,154 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 22:17:34,154 - LLMModels            - INFO  - Requesting: politition
2025-02-23 22:17:34,162 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'politition'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 22:17:34,491 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 22:17:34,493 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 22:17:34,550 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023C2EA774D0>
2025-02-23 22:17:34,552 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023C2EA4F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 22:17:34,573 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023C2CAB9E50>
2025-02-23 22:17:34,574 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 22:17:34,575 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 22:17:34,576 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 22:17:34,577 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 22:17:34,578 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 22:17:37,901 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 21:17:37 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T21:17:35Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T21:17:36Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T21:17:37Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T21:17:36Z'), (b'request-id', b'req_01MbwyV8EhKYcmjjBxgv2qJf'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916a3e4f1ed7bfdf-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 22:17:37,911 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 22:17:37,911 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 22:17:37,911 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 22:17:37,911 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 22:17:37,916 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 22:17:37,917 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 21:17:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T21:17:35Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T21:17:36Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T21:17:37Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T21:17:36Z', 'request-id': 'req_01MbwyV8EhKYcmjjBxgv2qJf', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916a3e4f1ed7bfdf-WAW', 'content-encoding': 'gzip'})
2025-02-23 22:17:37,919 - anthropic._base_client - DEBUG - request_id: req_01MbwyV8EhKYcmjjBxgv2qJf
2025-02-23 22:17:37,933 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=9
output_tokens=251
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 22:17:37,934 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "polityk": "5/5",
        "dziaacz polityczny": "4/5",
        "m stanu": "3/5"
    },
    "Uycie": "Rzeczownik, osoba zaangaowana w polityk lub sprawujca urzd publiczny",
    "Zdanie": "The politician gave a speech today.",
    "Tumaczenie": "Polityk wygosi dzi przemwienie.",
    "Czstotliwo": "4/5, B1",
    "Konteksty": ["polityka", "rzd", "wybory"],
    "Synonimy": {
        "statesman": "m stanu - 3/5",
        "lawmaker": "ustawodawca - 3/5",
        "public servant": "urzdnik pastwowy - 3/5"
    },
    "is_word_correct": "politician"
}
2025-02-23 22:17:37,937 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 22:17:37,937 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' polityk: 5/5\n dziaacz polityczny: 4/5\n m stanu: 3/5'), ('Uycie', 'Rzeczownik, osoba zaangaowana w polityk lub sprawujca urzd publiczny'), ('Zdanie', 'The politician gave a speech today.'), ('Tumaczenie', 'Polityk wygosi dzi przemwienie.'), ('Czstotliwo', '4/5, B1'), ('Konteksty', 'polityka, rzd, wybory'), ('Synonimy', ' statesman: m stanu - 3/5\n lawmaker: ustawodawca - 3/5\n public servant: urzdnik pastwowy - 3/5'), ('is_word_correct', 'politician')]
2025-02-23 22:17:37,937 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 22:17:37,937 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 22:17:37,937 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 22:17:37,937 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:17:37,941 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:17:37,941 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:17:37,942 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:17:37,942 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:17:37,943 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:17:37,944 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:17:37,944 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:17:37,944 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:17:37,944 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:17:37,944 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:17:37,944 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:17:37,944 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:17:37,944 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:17:42,534 - httpcore.connection  - DEBUG - close.started
2025-02-23 22:17:42,535 - httpcore.connection  - DEBUG - close.complete
2025-02-23 22:17:50,659 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:17:50,659 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:17:50,660 - events               - INFO  - EventManager init.
2025-02-23 22:17:50,661 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:17:50,793 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:17:50,818 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:17:50,818 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:17:50,818 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:17:50,818 - word_repository      - DEBUG - []
2025-02-23 22:17:50,818 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:17:50,821 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:17:50,821 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:17:50,827 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:17:51,579 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:17:51,581 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:17:51,581 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:17:51,581 - anki_adder           - DEBUG - Refresh gui.
2025-02-23 22:17:51,581 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 22:17:51,581 - anki_adder           - INFO  - Getting new translation
2025-02-23 22:17:51,581 - word_repository      - INFO  - Getting the top word: None
2025-02-23 22:17:51,581 - anki_adder           - WARNING - No word to translate
2025-02-23 22:17:51,581 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:17:51,581 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:17:51,581 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:17:51,588 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:17:51,588 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:17:51,589 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:17:51,589 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:17:51,589 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:17:51,590 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:17:51,590 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:17:51,591 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:17:51,591 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:17:51,591 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:17:51,592 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:17:58,941 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 22:17:58,941 - anki_adder           - DEBUG - Word submit back
2025-02-23 22:17:58,941 - word_repository      - INFO  - Pushing back love.
2025-02-23 22:17:58,941 - word_repository      - INFO  - Array is empty, adding love.
2025-02-23 22:17:58,941 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 22:17:58,941 - word_repository      - DEBUG - ['love']
2025-02-23 22:17:58,941 - word_repository      - INFO  - Words saved successfully.
2025-02-23 22:17:58,941 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: True
2025-02-23 22:17:58,941 - anki_adder           - DEBUG - Refresh gui.
2025-02-23 22:17:58,941 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 22:17:58,941 - anki_adder           - INFO  - Getting new translation
2025-02-23 22:17:58,950 - word_repository      - INFO  - Getting the top word: love
2025-02-23 22:17:58,950 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 22:17:58,951 - LLMModels            - INFO  - Requesting: love
2025-02-23 22:17:58,954 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'love'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 22:17:59,151 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 22:17:59,151 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 22:17:59,194 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D6D40FCF80>
2025-02-23 22:17:59,196 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001D6D534F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 22:17:59,211 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D6D466C620>
2025-02-23 22:17:59,211 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 22:17:59,213 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 22:17:59,213 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 22:17:59,214 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 22:17:59,215 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 22:18:02,495 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 21:18:01 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T21:17:59Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T21:18:00Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T21:18:01Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T21:18:00Z'), (b'request-id', b'req_01Q2hh6TJoKJFgkyUjGVyv4D'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916a3ee91aa0c3dd-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 22:18:02,501 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 22:18:02,501 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 22:18:02,501 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 22:18:02,501 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 22:18:02,501 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 22:18:02,501 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 21:18:01 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T21:17:59Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T21:18:00Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T21:18:01Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T21:18:00Z', 'request-id': 'req_01Q2hh6TJoKJFgkyUjGVyv4D', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916a3ee91aa0c3dd-WAW', 'content-encoding': 'gzip'})
2025-02-23 22:18:02,507 - anthropic._base_client - DEBUG - request_id: req_01Q2hh6TJoKJFgkyUjGVyv4D
2025-02-23 22:18:02,512 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=8
output_tokens=265
Cache hit rate: 99.5%
Tokens saved: 1484
2025-02-23 22:18:02,521 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "mio": "5/5",
        "kocha": "5/5",
        "uwielbia": "4/5",
        "lubi": "3/5"
    },
    "Uycie": "Rzeczownik, silne uczucie przywizania lub Czasownik, odczuwa gbokie uczucie do kogo/czego",
    "Zdanie": "I love you very much.",
    "Tumaczenie": "Kocham ci bardzo mocno.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["relacje", "emocje", "preferencje"],
    "Synonimy": {
        "adore": "uwielbia - 4/5",
        "cherish": "ceni - 3/5",
        "affection": "uczucie - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 22:18:02,524 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 22:18:02,524 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' mio: 5/5\n kocha: 5/5\n uwielbia: 4/5\n lubi: 3/5'), ('Uycie', 'Rzeczownik, silne uczucie przywizania lub Czasownik, odczuwa gbokie uczucie do kogo/czego'), ('Zdanie', 'I love you very much.'), ('Tumaczenie', 'Kocham ci bardzo mocno.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'relacje, emocje, preferencje'), ('Synonimy', ' adore: uwielbia - 4/5\n cherish: ceni - 3/5\n affection: uczucie - 4/5'), ('is_word_correct', 'ok')]
2025-02-23 22:18:02,526 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 22:18:02,527 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 22:18:02,527 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 22:18:13,901 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-23 22:18:13,901 - word_repository      - INFO  - Getting the top word: love
2025-02-23 22:18:13,901 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-23 22:18:13,901 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-23 22:18:13,901 - LLMModels            - INFO  - Requesting: Do you love me?
2025-02-23 22:18:13,911 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you love me?'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 22:18:13,919 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 22:18:13,919 - httpcore.connection  - DEBUG - close.started
2025-02-23 22:18:13,920 - httpcore.connection  - DEBUG - close.complete
2025-02-23 22:18:13,921 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 22:18:13,927 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D6D5393920>
2025-02-23 22:18:13,927 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001D6D534F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 22:18:13,943 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D6D5393830>
2025-02-23 22:18:13,944 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 22:18:13,945 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 22:18:13,946 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 22:18:13,947 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 22:18:13,948 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 22:18:16,301 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 21:18:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T21:18:14Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T21:18:15Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T21:18:15Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T21:18:15Z'), (b'request-id', b'req_01AFqM5vc8UdcD3Hr84UQwTu'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916a3f452c7abbbd-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 22:18:16,311 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 22:18:16,311 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 22:18:16,311 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 22:18:16,311 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 22:18:16,311 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 22:18:16,318 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 21:18:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T21:18:14Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T21:18:15Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T21:18:15Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T21:18:15Z', 'request-id': 'req_01AFqM5vc8UdcD3Hr84UQwTu', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916a3f452c7abbbd-WAW', 'content-encoding': 'gzip'})
2025-02-23 22:18:16,320 - anthropic._base_client - DEBUG - request_id: req_01AFqM5vc8UdcD3Hr84UQwTu
2025-02-23 22:18:16,321 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1143
cache_read_input_tokens=0
input_tokens=12
output_tokens=123
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 22:18:16,322 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Poprawne",
"Zdanie angielskie": "Do you love me?",
"Tumaczenie zdania": "Czy ty mnie kochasz?",
"notatka": "To proste pytanie w czasie teraniejszym prostym (Present Simple) uywa czasownika posikowego 'do' do tworzenia formy pytajcej."
}
2025-02-23 22:18:16,323 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 22:18:16,323 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Poprawne'), ('Naturalno jzykowa', 'Poprawne'), ('Zdanie angielskie', 'Do you love me?'), ('Tumaczenie zdania', 'Czy ty mnie kochasz?'), ('notatka', "To proste pytanie w czasie teraniejszym prostym (Present Simple) uywa czasownika posikowego 'do' do tworzenia formy pytajcej.")]
2025-02-23 22:18:16,323 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-23 22:18:16,323 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-23 22:18:16,327 - anki_adder           - DEBUG - Creading flashcard
2025-02-23 22:18:16,327 - queris               - DEBUG - Safe execution of get falshcard
2025-02-23 22:18:16,328 - LLMModels            - INFO  - Requesting: Do you love me?:love
2025-02-23 22:18:16,331 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you love me?:love'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 22:18:16,336 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 22:18:16,337 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 22:18:16,338 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 22:18:16,338 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 22:18:16,338 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 22:18:16,338 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 22:18:17,431 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 21:18:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T21:18:16Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T21:18:17Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T21:18:16Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T21:18:16Z'), (b'request-id', b'req_01LG5Fp5X8d53AK1i7DMB4uV'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916a3f541c8dbbbd-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 22:18:17,431 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 22:18:17,431 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 22:18:17,431 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 22:18:17,431 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 22:18:17,431 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 22:18:17,438 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 21:18:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T21:18:16Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T21:18:17Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T21:18:16Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T21:18:16Z', 'request-id': 'req_01LG5Fp5X8d53AK1i7DMB4uV', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916a3f541c8dbbbd-WAW', 'content-encoding': 'gzip'})
2025-02-23 22:18:17,440 - anthropic._base_client - DEBUG - request_id: req_01LG5Fp5X8d53AK1i7DMB4uV
2025-02-23 22:18:17,441 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=0
input_tokens=1009
output_tokens=32
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-23 22:18:17,442 - formatter            - DEBUG - json str:{
"Zdanie": "Do you [[kochasz]] me?",
"Wyraz": "love"
}
2025-02-23 22:18:17,443 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 22:18:17,444 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Do you [[kochasz]] me?'), ('Wyraz', 'love')]
2025-02-23 22:18:17,444 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-23 22:18:17,445 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-23 22:18:17,446 - queris               - DEBUG - parts: [('Zdanie', 'Do you [[kochasz]] me?'), ('Wyraz', 'love')], data: {<ResponseField.FRONT: 'Zdanie'>: 'Do you [[kochasz]] me?', <ResponseField.BACK: 'Wyraz'>: 'love'}
2025-02-23 22:18:17,446 - anki_adder           - DEBUG - Inserting flashcard
2025-02-23 22:18:27,871 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-23 22:18:27,871 - anki_adder           - INFO  - Add flashcard.
2025-02-23 22:18:27,871 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-23 22:18:27,871 - flashcard_repository - INFO  - Flashcard: Do you [[kochasz]] me?;love
, successfully added.
2025-02-23 22:18:27,871 - word_repository      - INFO  - Getting the top word: love
2025-02-23 22:18:27,871 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 22:18:27,871 - word_repository      - DEBUG - []
2025-02-23 22:18:27,871 - word_repository      - INFO  - Words saved successfully.
2025-02-23 22:18:27,871 - word_repository      - INFO  - Word love deleted successfully. Beginning word changed: True
2025-02-23 22:18:27,871 - anki_adder           - DEBUG - Refresh gui.
2025-02-23 22:18:27,879 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 22:18:27,879 - anki_adder           - INFO  - Getting new translation
2025-02-23 22:18:27,880 - word_repository      - INFO  - Getting the top word: None
2025-02-23 22:18:27,880 - anki_adder           - WARNING - No word to translate
2025-02-23 22:18:32,986 - httpcore.connection  - DEBUG - close.started
2025-02-23 22:18:32,988 - httpcore.connection  - DEBUG - close.complete
2025-02-23 22:20:45,681 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:20:45,681 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:20:45,686 - events               - INFO  - EventManager init.
2025-02-23 22:20:45,686 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:20:45,821 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:20:45,851 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:20:45,851 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:20:45,851 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:20:45,856 - word_repository      - DEBUG - []
2025-02-23 22:20:45,856 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:20:45,856 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:20:45,856 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:20:45,865 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:20:46,631 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:20:46,631 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:20:46,631 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:20:46,631 - anki_adder           - DEBUG - Refresh gui.
2025-02-23 22:20:46,631 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 22:20:46,631 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:20:46,631 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:20:46,631 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:20:46,631 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:20:46,631 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:20:46,631 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:20:46,641 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:20:46,642 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:20:46,642 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:20:46,643 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:20:46,643 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:20:46,644 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:20:46,644 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:20:46,645 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:21:05,991 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 22:21:05,991 - anki_adder           - DEBUG - Word submit back
2025-02-23 22:21:05,991 - word_repository      - INFO  - Pushing back poop.
2025-02-23 22:21:05,991 - word_repository      - INFO  - Array is empty, adding poop.
2025-02-23 22:21:05,991 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 22:21:05,991 - word_repository      - DEBUG - ['poop']
2025-02-23 22:21:05,991 - word_repository      - INFO  - Words saved successfully.
2025-02-23 22:21:05,991 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: True
2025-02-23 22:21:05,991 - anki_adder           - DEBUG - Refresh gui.
2025-02-23 22:21:05,991 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 22:21:06,000 - anki_adder           - INFO  - Getting new translation
2025-02-23 22:21:06,001 - word_repository      - INFO  - Getting the top word: poop
2025-02-23 22:21:06,001 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 22:21:06,002 - LLMModels            - INFO  - Requesting: poop
2025-02-23 22:21:06,004 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'poop'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 22:21:06,211 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 22:21:06,216 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 22:21:06,237 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022F24F776E0>
2025-02-23 22:21:06,238 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000022F24F4F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 22:21:06,253 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000022F24F272C0>
2025-02-23 22:21:06,253 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 22:21:06,256 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 22:21:06,257 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 22:21:06,257 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 22:21:06,258 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 22:21:09,501 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 21:21:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T21:21:06Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T21:21:07Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T21:21:08Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T21:21:07Z'), (b'request-id', b'req_01B4VjmXWAgFWSyyGjC56hUs'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916a437a0a85eece-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 22:21:09,511 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 22:21:09,511 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 22:21:09,511 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 22:21:09,511 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 22:21:09,516 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 22:21:09,517 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 21:21:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T21:21:06Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T21:21:07Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T21:21:08Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T21:21:07Z', 'request-id': 'req_01B4VjmXWAgFWSyyGjC56hUs', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916a437a0a85eece-WAW', 'content-encoding': 'gzip'})
2025-02-23 22:21:09,519 - anthropic._base_client - DEBUG - request_id: req_01B4VjmXWAgFWSyyGjC56hUs
2025-02-23 22:21:09,532 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=9
output_tokens=256
Cache hit rate: 99.4%
Tokens saved: 1484
2025-02-23 22:21:09,534 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "kupa": "5/5",
        "robi kup": "4/5",
        "gwno": "3/5",
        "ka": "2/5"
    },
    "Uycie": "Rzeczownik, odchody lub Czasownik, wyprnia si",
    "Zdanie": "The dog pooped in the yard.",
    "Tumaczenie": "Pies zrobi kup na podwrku.",
    "Czstotliwo": "3/5, B1",
    "Konteksty": ["fizjologia", "higiena", "jzyk potoczny"],
    "Synonimy": {
        "defecate": "wyprnia si - 2/5",
        "excrement": "ekskrementy - 2/5",
        "feces": "ka - 3/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 22:21:09,537 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 22:21:09,538 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' kupa: 5/5\n robi kup: 4/5\n gwno: 3/5\n ka: 2/5'), ('Uycie', 'Rzeczownik, odchody lub Czasownik, wyprnia si'), ('Zdanie', 'The dog pooped in the yard.'), ('Tumaczenie', 'Pies zrobi kup na podwrku.'), ('Czstotliwo', '3/5, B1'), ('Konteksty', 'fizjologia, higiena, jzyk potoczny'), ('Synonimy', ' defecate: wyprnia si - 2/5\n excrement: ekskrementy - 2/5\n feces: ka - 3/5'), ('is_word_correct', 'ok')]
2025-02-23 22:21:09,539 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 22:21:09,539 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 22:21:09,540 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 22:21:16,641 - events               - INFO  - Emiting EventType.WORD_SUBMIT_BACK event to _handle_word_submit_back.
2025-02-23 22:21:16,641 - anki_adder           - DEBUG - Word submit back
2025-02-23 22:21:16,641 - word_repository      - INFO  - Pushing back mount.
2025-02-23 22:21:16,641 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 22:21:16,641 - word_repository      - DEBUG - ['poop', 'mount']
2025-02-23 22:21:16,641 - word_repository      - INFO  - Words saved successfully.
2025-02-23 22:21:16,641 - word_repository      - INFO  - Word pushed back successfully. Beginning word changed: False
2025-02-23 22:21:16,641 - anki_adder           - DEBUG - Refresh gui.
2025-02-23 22:21:16,641 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 22:21:19,192 - httpcore.connection  - DEBUG - close.started
2025-02-23 22:21:19,196 - httpcore.connection  - DEBUG - close.complete
2025-02-23 22:21:21,361 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:21:21,361 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:21:21,361 - events               - INFO  - EventManager init.
2025-02-23 22:21:21,361 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:21:21,476 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:21:21,504 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:21:21,504 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:21:21,504 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:21:21,504 - word_repository      - DEBUG - ['poop', 'mount']
2025-02-23 22:21:21,504 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:21:21,504 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:21:21,511 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:21:21,516 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:21:22,261 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:21:22,261 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:21:22,261 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:21:22,261 - anki_adder           - DEBUG - Refresh gui.
2025-02-23 22:21:22,261 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 22:21:22,261 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:21:22,261 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:21:22,261 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:21:22,261 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:21:22,261 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:21:22,269 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:21:22,269 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:21:22,270 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:21:22,270 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:21:22,271 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:21:22,271 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:21:22,272 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:21:22,272 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:21:22,273 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:21:24,125 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 22:21:24,126 - anki_adder           - DEBUG - Show repositry.
2025-02-23 22:21:24,127 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 22:21:26,247 - gui.components.repository - INFO  - Repository window colsed.
2025-02-23 22:21:27,221 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-23 22:21:27,221 - anki_adder           - DEBUG - Show repositry.
2025-02-23 22:21:27,231 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 22:21:29,984 - events               - INFO  - Emiting EventType.EDIT_WORD event to _handle_repository_edit.
2025-02-23 22:21:29,984 - anki_adder           - DEBUG - Repository edit.
2025-02-23 22:21:29,991 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-23 22:21:29,991 - word_repository      - DEBUG - ['poop', 'mount']
2025-02-23 22:21:29,991 - word_repository      - INFO  - Words saved successfully.
2025-02-23 22:21:29,991 - word_repository      - INFO  - Word poop edited to poop successfully. Beginning word changed: True
2025-02-23 22:21:29,991 - anki_adder           - DEBUG - Refresh gui.
2025-02-23 22:21:29,991 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-23 22:21:29,991 - anki_adder           - INFO  - Getting new translation
2025-02-23 22:21:29,991 - word_repository      - INFO  - Getting the top word: poop
2025-02-23 22:21:29,996 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-23 22:21:29,997 - LLMModels            - INFO  - Requesting: poop
2025-02-23 22:21:30,002 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'poop'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-23 22:21:30,201 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-23 22:21:30,201 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-23 22:21:30,229 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A8C9EB7E60>
2025-02-23 22:21:30,230 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001A8CA74F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-23 22:21:30,241 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A8C9F11F70>
2025-02-23 22:21:30,245 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-23 22:21:30,246 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-23 22:21:30,247 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-23 22:21:30,248 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-23 22:21:30,248 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-23 22:21:33,519 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Feb 2025 21:21:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-23T21:21:30Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-23T21:21:31Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-23T21:21:32Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-23T21:21:31Z'), (b'request-id', b'req_01LKdLXjxQd33xsLuHWi1ZpB'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916a44100b02ee49-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-23 22:21:33,522 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-23 22:21:33,524 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-23 22:21:33,525 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-23 22:21:33,526 - httpcore.http11      - DEBUG - response_closed.started
2025-02-23 22:21:33,526 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-23 22:21:33,527 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Sun, 23 Feb 2025 21:21:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-23T21:21:30Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-23T21:21:31Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-23T21:21:32Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-23T21:21:31Z', 'request-id': 'req_01LKdLXjxQd33xsLuHWi1ZpB', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916a44100b02ee49-WAW', 'content-encoding': 'gzip'})
2025-02-23 22:21:33,530 - anthropic._base_client - DEBUG - request_id: req_01LKdLXjxQd33xsLuHWi1ZpB
2025-02-23 22:21:33,542 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=9
output_tokens=246
Cache hit rate: 99.4%
Tokens saved: 1484
2025-02-23 22:21:33,544 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "kupa": "5/5",
        "robi kup": "4/5",
        "fekalia": "2/5"
    },
    "Uycie": "Rzeczownik, odchody lub Czasownik, wyprnia si",
    "Zdanie": "The dog pooped in the yard.",
    "Tumaczenie": "Pies zrobi kup na podwrku.",
    "Czstotliwo": "3/5, B1",
    "Konteksty": ["higiena", "zdrowie", "zwierzta domowe"],
    "Synonimy": {
        "feces": "ka - 2/5",
        "defecate": "wyprnia si - 2/5",
        "excrement": "ekskrementy - 1/5"
    },
    "is_word_correct": "ok"
}
2025-02-23 22:21:33,548 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-23 22:21:33,549 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' kupa: 5/5\n robi kup: 4/5\n fekalia: 2/5'), ('Uycie', 'Rzeczownik, odchody lub Czasownik, wyprnia si'), ('Zdanie', 'The dog pooped in the yard.'), ('Tumaczenie', 'Pies zrobi kup na podwrku.'), ('Czstotliwo', '3/5, B1'), ('Konteksty', 'higiena, zdrowie, zwierzta domowe'), ('Synonimy', ' feces: ka - 2/5\n defecate: wyprnia si - 2/5\n excrement: ekskrementy - 1/5'), ('is_word_correct', 'ok')]
2025-02-23 22:21:33,550 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-23 22:21:33,551 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-23 22:21:33,551 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-23 22:21:55,115 - gui.components.repository - INFO  - Repository window colsed.
2025-02-23 22:22:21,025 - httpcore.connection  - DEBUG - close.started
2025-02-23 22:22:21,027 - httpcore.connection  - DEBUG - close.complete
2025-02-23 22:22:42,930 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:22:42,930 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:22:42,930 - events               - INFO  - EventManager init.
2025-02-23 22:22:42,930 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:22:43,031 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:22:43,064 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:22:43,064 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:22:43,064 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:22:43,064 - word_repository      - DEBUG - ['poop', 'mount']
2025-02-23 22:22:43,064 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:22:43,071 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:22:43,071 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:22:43,076 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:22:43,821 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:22:43,821 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:22:43,821 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:22:43,821 - anki_adder           - DEBUG - Refresh gui.
2025-02-23 22:22:43,821 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 22:22:43,821 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:22:43,821 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:22:43,821 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:22:43,821 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:22:43,821 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:22:43,830 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:22:43,830 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:22:43,831 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:22:43,831 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:22:43,833 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:22:43,833 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:22:43,834 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:22:43,835 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:22:43,835 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-23 22:23:05,020 - __main__             - INFO  - Launching AnkiAdder.
2025-02-23 22:23:05,030 - anki_adder           - INFO  - AnkiAdder init.
2025-02-23 22:23:05,030 - events               - INFO  - EventManager init.
2025-02-23 22:23:05,030 - gui.main_window      - INFO  - MainWindow init.
2025-02-23 22:23:05,143 - gui.components.word_input - INFO  - WordInput init.
2025-02-23 22:23:05,169 - gui.components.repository - INFO  - Repository init.
2025-02-23 22:23:05,169 - word_repository      - INFO  - WordRepository init.
2025-02-23 22:23:05,170 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-23 22:23:05,171 - word_repository      - DEBUG - ['poop', 'mount']
2025-02-23 22:23:05,171 - word_repository      - INFO  - Words loaded successfully.
2025-02-23 22:23:05,171 - LLMModels            - INFO  - API key loaded successfully.
2025-02-23 22:23:05,171 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-23 22:23:05,178 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-23 22:23:05,910 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-23 22:23:05,910 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-23 22:23:05,910 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-23 22:23:05,910 - anki_adder           - DEBUG - Refresh gui.
2025-02-23 22:23:05,921 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-23 22:23:05,921 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:23:05,921 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-23 22:23:05,921 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-23 22:23:05,921 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-23 22:23:05,923 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:23:05,923 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-23 22:23:05,924 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-23 22:23:05,925 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-23 22:23:05,925 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-23 22:23:05,926 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-23 22:23:05,926 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-23 22:23:05,927 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-23 22:23:05,929 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-23 22:23:05,929 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-24 10:22:13,595 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 10:22:13,597 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 10:22:13,597 - events               - INFO  - EventManager init.
2025-02-24 10:22:13,598 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 10:22:13,799 - gui.components.word_input - INFO  - WordInput init.
2025-02-24 10:22:13,828 - gui.components.repository - INFO  - Repository init.
2025-02-24 10:22:13,829 - word_repository      - INFO  - WordRepository init.
2025-02-24 10:22:13,830 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-24 10:22:13,831 - word_repository      - DEBUG - ['poop', 'mount']
2025-02-24 10:22:13,832 - word_repository      - INFO  - Words loaded successfully.
2025-02-24 10:22:13,834 - LLMModels            - INFO  - API key loaded successfully.
2025-02-24 10:22:13,836 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-24 10:22:13,851 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-24 10:22:14,802 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-24 10:22:14,803 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-24 10:22:14,804 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-24 10:22:14,805 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 10:22:14,806 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 10:22:14,806 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-24 10:22:14,807 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-24 10:22:14,808 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-24 10:22:14,808 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-24 10:22:14,809 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-24 10:22:14,810 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-24 10:22:14,810 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-24 10:22:14,811 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-24 10:22:14,811 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-24 10:22:14,812 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-24 10:22:14,812 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-24 10:22:14,813 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-24 10:22:14,814 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-24 10:22:14,814 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-24 10:22:22,783 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-24 10:22:22,784 - anki_adder           - DEBUG - Word submit front
2025-02-24 10:22:22,784 - word_repository      - INFO  - Pushing front read.
2025-02-24 10:22:22,786 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-24 10:22:22,786 - word_repository      - DEBUG - ['read', 'poop', 'mount']
2025-02-24 10:22:22,788 - word_repository      - INFO  - Words saved successfully.
2025-02-24 10:22:22,788 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-24 10:22:22,790 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 10:22:22,790 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 10:22:22,791 - anki_adder           - INFO  - Getting new translation
2025-02-24 10:22:22,791 - word_repository      - INFO  - Getting the top word: read
2025-02-24 10:22:22,791 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-24 10:22:22,793 - LLMModels            - INFO  - Requesting: read
2025-02-24 10:22:22,796 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'read'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-24 10:22:24,065 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 10:22:24,066 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-24 10:22:24,140 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001B8EBB2FE60>
2025-02-24 10:22:24,141 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001B8EC44B850> server_hostname='api.anthropic.com' timeout=600
2025-02-24 10:22:24,163 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001B8EBB69F70>
2025-02-24 10:22:24,164 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 10:22:24,165 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 10:22:24,165 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 10:22:24,166 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 10:22:24,167 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 10:22:27,313 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 09:22:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T09:22:25Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T09:22:26Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T09:22:26Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T09:22:26Z'), (b'request-id', b'req_01MAJGvzuxyqoEaU1Bjy1iGn'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916e641359fbc00f-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 10:22:27,317 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 10:22:27,318 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 10:22:27,319 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 10:22:27,319 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 10:22:27,320 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 10:22:27,322 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 09:22:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T09:22:25Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T09:22:26Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T09:22:26Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T09:22:26Z', 'request-id': 'req_01MAJGvzuxyqoEaU1Bjy1iGn', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916e641359fbc00f-WAW', 'content-encoding': 'gzip'})
2025-02-24 10:22:27,324 - anthropic._base_client - DEBUG - request_id: req_01MAJGvzuxyqoEaU1Bjy1iGn
2025-02-24 10:22:27,337 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=230
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-24 10:22:27,339 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "czyta": "5/5",
        "odczytywa": "3/5",
        "interpretowa": "2/5"
    },
    "Uycie": "Czasownik, rozumie znaczenie pisanego tekstu",
    "Zdanie": "I love to read books.",
    "Tumaczenie": "Uwielbiam czyta ksiki.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["edukacja", "literatura", "rozrywka"],
    "Synonimy": {
        "peruse": "przeglda - 2/5",
        "scan": "skanowa - 3/5",
        "study": "studiowa - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-24 10:22:27,342 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 10:22:27,342 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' czyta: 5/5\n odczytywa: 3/5\n interpretowa: 2/5'), ('Uycie', 'Czasownik, rozumie znaczenie pisanego tekstu'), ('Zdanie', 'I love to read books.'), ('Tumaczenie', 'Uwielbiam czyta ksiki.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'edukacja, literatura, rozrywka'), ('Synonimy', ' peruse: przeglda - 2/5\n scan: skanowa - 3/5\n study: studiowa - 4/5'), ('is_word_correct', 'ok')]
2025-02-24 10:22:27,345 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-24 10:22:27,345 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-24 10:22:27,346 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-24 10:23:04,181 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-24 10:23:04,182 - word_repository      - INFO  - Getting the top word: read
2025-02-24 10:23:04,182 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-24 10:23:04,183 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-24 10:23:04,184 - LLMModels            - INFO  - Requesting: I read this artice yesterday
2025-02-24 10:23:04,187 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'I read this artice yesterday'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-24 10:23:04,194 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 10:23:04,195 - httpcore.connection  - DEBUG - close.started
2025-02-24 10:23:04,196 - httpcore.connection  - DEBUG - close.complete
2025-02-24 10:23:04,196 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-24 10:23:04,217 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001B8EC497140>
2025-02-24 10:23:04,218 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001B8EC44B850> server_hostname='api.anthropic.com' timeout=600
2025-02-24 10:23:04,239 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001B8EC496DE0>
2025-02-24 10:23:04,240 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 10:23:04,242 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 10:23:04,242 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 10:23:04,243 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 10:23:04,243 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 10:23:07,296 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 09:23:07 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T09:23:05Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T09:23:05Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T09:23:06Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T09:23:05Z'), (b'request-id', b'req_01QhzrMbNRUAkm2Nwyg1moJk'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916e650dca49b21b-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 10:23:07,298 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 10:23:07,299 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 10:23:07,300 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 10:23:07,301 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 10:23:07,302 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 10:23:07,303 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 09:23:07 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T09:23:05Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T09:23:05Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T09:23:06Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T09:23:05Z', 'request-id': 'req_01QhzrMbNRUAkm2Nwyg1moJk', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916e650dca49b21b-WAW', 'content-encoding': 'gzip'})
2025-02-24 10:23:07,305 - anthropic._base_client - DEBUG - request_id: req_01QhzrMbNRUAkm2Nwyg1moJk
2025-02-24 10:23:07,306 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1143
cache_read_input_tokens=0
input_tokens=13
output_tokens=139
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-24 10:23:07,308 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Bd w pisowni sowa 'article' - brak litery 'l'",
"Naturalno jzykowa": "Poprawne",
"Zdanie angielskie": "I read this article yesterday.",
"Tumaczenie zdania": "Przeczytaem ten artyku wczoraj.",
"notatka": "Zwr uwag na pisowni sowa 'article'. Litera 'l' jest czsto pomijana przez bd."
}
2025-02-24 10:23:07,309 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 10:23:07,310 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Bd w pisowni sowa 'article' - brak litery 'l'"), ('Naturalno jzykowa', 'Poprawne'), ('Zdanie angielskie', 'I read this article yesterday.'), ('Tumaczenie zdania', 'Przeczytaem ten artyku wczoraj.'), ('notatka', "Zwr uwag na pisowni sowa 'article'. Litera 'l' jest czsto pomijana przez bd.")]
2025-02-24 10:23:07,311 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-24 10:23:07,312 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-24 10:23:07,313 - anki_adder           - DEBUG - Creading flashcard
2025-02-24 10:23:07,313 - queris               - DEBUG - Safe execution of get falshcard
2025-02-24 10:23:07,314 - LLMModels            - INFO  - Requesting: I read this article yesterday.:read
2025-02-24 10:23:07,399 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 10:23:07,399 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 10:23:07,400 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 10:23:07,401 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 10:23:07,402 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 10:23:07,403 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 10:23:08,502 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 09:23:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T09:23:08Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T09:23:09Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T09:23:08Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T09:23:08Z'), (b'request-id', b'req_01TBhj2LK8cbMAwbTaVmMQBt'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916e65218b1fb21b-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 10:23:08,505 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 10:23:08,506 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 10:23:08,507 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 10:23:08,507 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 10:23:08,508 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 10:23:08,508 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 09:23:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T09:23:08Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T09:23:09Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T09:23:08Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T09:23:08Z', 'request-id': 'req_01TBhj2LK8cbMAwbTaVmMQBt', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916e65218b1fb21b-WAW', 'content-encoding': 'gzip'})
2025-02-24 10:23:08,511 - anthropic._base_client - DEBUG - request_id: req_01TBhj2LK8cbMAwbTaVmMQBt
2025-02-24 10:23:08,512 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1305
cache_read_input_tokens=0
input_tokens=14
output_tokens=41
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-24 10:23:08,526 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 10:23:08,539 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-24 10:23:08,539 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-24 10:23:08,552 - anki_adder           - DEBUG - Inserting flashcard
2025-02-24 10:23:28,616 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-24 10:23:28,617 - anki_adder           - INFO  - Add flashcard.
2025-02-24 10:23:28,617 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-24 10:23:28,629 - word_repository      - INFO  - Getting the top word: read
2025-02-24 10:23:28,629 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-24 10:23:28,630 - word_repository      - DEBUG - ['poop', 'mount']
2025-02-24 10:23:28,631 - word_repository      - INFO  - Words saved successfully.
2025-02-24 10:23:28,632 - word_repository      - INFO  - Word read deleted successfully. Beginning word changed: True
2025-02-24 10:23:28,632 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 10:23:28,633 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 10:23:28,633 - anki_adder           - INFO  - Getting new translation
2025-02-24 10:23:28,634 - word_repository      - INFO  - Getting the top word: poop
2025-02-24 10:23:28,635 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-24 10:23:28,636 - LLMModels            - INFO  - Requesting: poop
2025-02-24 10:23:28,639 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'poop'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-24 10:23:28,647 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 10:23:28,648 - httpcore.connection  - DEBUG - close.started
2025-02-24 10:23:28,649 - httpcore.connection  - DEBUG - close.complete
2025-02-24 10:23:28,649 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-24 10:23:28,666 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001B8EC4D31A0>
2025-02-24 10:23:28,667 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001B8EC44B850> server_hostname='api.anthropic.com' timeout=600
2025-02-24 10:23:28,684 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001B8EC4D2F00>
2025-02-24 10:23:28,685 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 10:23:28,686 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 10:23:28,687 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 10:23:28,688 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 10:23:28,689 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 10:23:31,949 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 09:23:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T09:23:29Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T09:23:30Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T09:23:31Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T09:23:30Z'), (b'request-id', b'req_016mrKJSMjQ2gF62JRC1YFMn'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916e65a69e7bbfc3-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 10:23:31,954 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 10:23:31,954 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 10:23:31,956 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 10:23:31,956 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 10:23:31,957 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 10:23:31,958 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 09:23:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T09:23:29Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T09:23:30Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T09:23:31Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T09:23:30Z', 'request-id': 'req_016mrKJSMjQ2gF62JRC1YFMn', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916e65a69e7bbfc3-WAW', 'content-encoding': 'gzip'})
2025-02-24 10:23:31,961 - anthropic._base_client - DEBUG - request_id: req_016mrKJSMjQ2gF62JRC1YFMn
2025-02-24 10:23:31,962 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=9
output_tokens=255
Cache hit rate: 99.4%
Tokens saved: 1484
2025-02-24 10:23:31,963 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "kupa": "5/5",
        "robi kup": "4/5",
        "ka": "3/5",
        "odchody": "2/5"
    },
    "Uycie": "Rzeczownik, odchody lub Czasownik, akt defekacji",
    "Zdanie": "The dog pooped in the yard.",
    "Tumaczenie": "Pies zrobi kup na podwrku.",
    "Czstotliwo": "3/5, B1",
    "Konteksty": ["higiena", "zdrowie", "zwierzta"],
    "Synonimy": {
        "feces": "ka - 2/5",
        "defecate": "wyprnia si - 2/5",
        "excrement": "ekskrementy - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-24 10:23:31,966 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 10:23:31,966 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' kupa: 5/5\n robi kup: 4/5\n ka: 3/5\n odchody: 2/5'), ('Uycie', 'Rzeczownik, odchody lub Czasownik, akt defekacji'), ('Zdanie', 'The dog pooped in the yard.'), ('Tumaczenie', 'Pies zrobi kup na podwrku.'), ('Czstotliwo', '3/5, B1'), ('Konteksty', 'higiena, zdrowie, zwierzta'), ('Synonimy', ' feces: ka - 2/5\n defecate: wyprnia si - 2/5\n excrement: ekskrementy - 2/5'), ('is_word_correct', 'ok')]
2025-02-24 10:23:31,967 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-24 10:23:31,968 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-24 10:23:31,969 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-24 10:23:34,760 - httpcore.connection  - DEBUG - close.started
2025-02-24 10:23:34,762 - httpcore.connection  - DEBUG - close.complete
2025-02-24 11:26:29,729 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 11:26:29,730 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 11:26:29,730 - events               - INFO  - EventManager init.
2025-02-24 11:26:29,731 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 11:26:29,876 - gui.components.word_input - INFO  - WordInput init.
2025-02-24 11:26:29,904 - gui.components.repository - INFO  - Repository init.
2025-02-24 11:26:29,905 - word_repository      - INFO  - WordRepository init.
2025-02-24 11:26:29,906 - word_repository      - INFO  - Loading words to repository: ./data/word_database.txt
2025-02-24 11:26:29,907 - word_repository      - DEBUG - ['poop', 'mount']
2025-02-24 11:26:29,907 - word_repository      - INFO  - Words loaded successfully.
2025-02-24 11:26:29,909 - LLMModels            - INFO  - API key loaded successfully.
2025-02-24 11:26:29,910 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-24 11:26:29,915 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-24 11:26:30,805 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-24 11:26:30,806 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-24 11:26:30,807 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-24 11:26:30,808 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 11:26:30,808 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 11:26:30,809 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-24 11:26:30,810 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-24 11:26:30,811 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-24 11:26:30,811 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-24 11:26:30,812 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-24 11:26:30,813 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-24 11:26:30,813 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-24 11:26:30,814 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-24 11:26:30,814 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-24 11:26:30,815 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-24 11:26:30,816 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-24 11:26:30,816 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-24 11:26:30,817 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-24 11:26:30,817 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-24 11:26:35,749 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-24 11:26:35,750 - anki_adder           - DEBUG - Show repositry.
2025-02-24 11:26:35,753 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-24 11:26:37,543 - gui.components.repository - INFO  - Repository window colsed.
2025-02-24 11:26:42,411 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-24 11:26:42,412 - anki_adder           - DEBUG - Word submit front
2025-02-24 11:26:42,413 - word_repository      - INFO  - Pushing front ear.
2025-02-24 11:26:42,413 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-24 11:26:42,414 - word_repository      - DEBUG - ['ear', 'poop', 'mount']
2025-02-24 11:26:42,415 - word_repository      - INFO  - Words saved successfully.
2025-02-24 11:26:42,416 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-24 11:26:42,416 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 11:26:42,416 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 11:26:42,417 - anki_adder           - INFO  - Getting new translation
2025-02-24 11:26:42,418 - word_repository      - INFO  - Getting the top word: ear
2025-02-24 11:26:42,418 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-24 11:26:42,419 - LLMModels            - INFO  - Requesting: ear
2025-02-24 11:26:42,423 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'ear'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-24 11:26:43,661 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 11:26:43,662 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-24 11:26:43,731 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000024DFBA975F0>
2025-02-24 11:26:43,732 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000024DFC64F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-24 11:26:43,747 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000024DFBB11F70>
2025-02-24 11:26:43,748 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 11:26:43,749 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 11:26:43,750 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 11:26:43,751 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 11:26:43,751 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 11:26:47,294 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 10:26:46 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T10:26:44Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T10:26:45Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T10:26:46Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T10:26:45Z'), (b'request-id', b'req_01AFArhrdiTdvte5iQitguYF'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916ec24d6cabbf97-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 11:26:47,298 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 11:26:47,299 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 11:26:47,300 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 11:26:47,301 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 11:26:47,301 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 11:26:47,302 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 10:26:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T10:26:44Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T10:26:45Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T10:26:46Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T10:26:45Z', 'request-id': 'req_01AFArhrdiTdvte5iQitguYF', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916ec24d6cabbf97-WAW', 'content-encoding': 'gzip'})
2025-02-24 11:26:47,304 - anthropic._base_client - DEBUG - request_id: req_01AFArhrdiTdvte5iQitguYF
2025-02-24 11:26:47,318 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1484
cache_read_input_tokens=0
input_tokens=8
output_tokens=238
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-24 11:26:47,320 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "ucho": "5/5",
        "such": "3/5",
        "kos": "2/5"
    },
    "Uycie": "Rzeczownik, narzd suchu u ludzi i zwierzt",
    "Zdanie": "He has an infection in his ear.",
    "Tumaczenie": "On ma infekcj ucha.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["anatomia", "medycyna", "zmysy"],
    "Synonimy": {
        "auricle": "maowina uszna - 2/5",
        "lug": "ucho (potocznie) - 1/5",
        "hearing": "such - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-24 11:26:47,322 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 11:26:47,323 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' ucho: 5/5\n such: 3/5\n kos: 2/5'), ('Uycie', 'Rzeczownik, narzd suchu u ludzi i zwierzt'), ('Zdanie', 'He has an infection in his ear.'), ('Tumaczenie', 'On ma infekcj ucha.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'anatomia, medycyna, zmysy'), ('Synonimy', ' auricle: maowina uszna - 2/5\n lug: ucho (potocznie) - 1/5\n hearing: such - 4/5'), ('is_word_correct', 'ok')]
2025-02-24 11:26:47,324 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-24 11:26:47,324 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-24 11:26:47,325 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-24 11:26:58,191 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-24 11:26:58,192 - word_repository      - INFO  - Getting the top word: ear
2025-02-24 11:26:58,192 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-24 11:26:58,193 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-24 11:26:58,194 - LLMModels            - INFO  - Requesting: do you have ear?
2025-02-24 11:26:58,198 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'do you have ear?'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-24 11:26:58,204 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 11:26:58,205 - httpcore.connection  - DEBUG - close.started
2025-02-24 11:26:58,205 - httpcore.connection  - DEBUG - close.complete
2025-02-24 11:26:58,206 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-24 11:26:58,236 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000024DFC697650>
2025-02-24 11:26:58,237 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000024DFC64F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-24 11:26:58,251 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000024DFC697560>
2025-02-24 11:26:58,252 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 11:26:58,253 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 11:26:58,254 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 11:26:58,254 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 11:26:58,255 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 11:27:01,034 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 10:27:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T10:26:59Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T10:26:59Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T10:27:00Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T10:26:59Z'), (b'request-id', b'req_0176Vk3K1EQKCdwB8U8MaziX'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916ec2a80dd5ee40-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 11:27:01,037 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 11:27:01,038 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 11:27:01,039 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 11:27:01,039 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 11:27:01,040 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 11:27:01,040 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 10:27:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T10:26:59Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T10:26:59Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T10:27:00Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T10:26:59Z', 'request-id': 'req_0176Vk3K1EQKCdwB8U8MaziX', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916ec2a80dd5ee40-WAW', 'content-encoding': 'gzip'})
2025-02-24 11:27:01,043 - anthropic._base_client - DEBUG - request_id: req_0176Vk3K1EQKCdwB8U8MaziX
2025-02-24 11:27:01,044 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1143
cache_read_input_tokens=0
input_tokens=12
output_tokens=149
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-24 11:27:01,046 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Bd w liczbie rzeczownika - powinno by 'ears' w liczbie mnogiej",
"Naturalno jzykowa": "Nienaturalne - typowo pytamy 'Do you have ears?' lub 'Can you hear?'",
"Zdanie angielskie": "Do you have ears?",
"Tumaczenie zdania": "Czy masz uszy?",
"notatka": "W pytaniach o czci ciaa zwykle uywamy liczby mnogiej, chyba e pytamy o konkretn cz."
}
2025-02-24 11:27:01,048 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 11:27:01,048 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Bd w liczbie rzeczownika - powinno by 'ears' w liczbie mnogiej"), ('Naturalno jzykowa', "Nienaturalne - typowo pytamy 'Do you have ears?' lub 'Can you hear?'"), ('Zdanie angielskie', 'Do you have ears?'), ('Tumaczenie zdania', 'Czy masz uszy?'), ('notatka', 'W pytaniach o czci ciaa zwykle uywamy liczby mnogiej, chyba e pytamy o konkretn cz.')]
2025-02-24 11:27:01,050 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-24 11:27:01,050 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-24 11:27:01,051 - anki_adder           - DEBUG - Creading flashcard
2025-02-24 11:27:01,052 - queris               - DEBUG - Safe execution of get falshcard
2025-02-24 11:27:01,052 - LLMModels            - INFO  - Requesting: Do you have ears?:ear
2025-02-24 11:27:01,055 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'Do you have ears?:ear'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}\n\nWejcie: I read the book yesterday, read\nWyjcie:\n{\n"Zdanie": "I [[przeczytaem]] the book yesterday",\n"Wyraz": "read",\n}\n\nWejcie: She sings beautifully, sings\nWyjcie:\n{\n"Zdanie": "She [[piewa]] beautifully",\n"Wyraz": "sings",\n}\n\nWejcie: The dog barks loudly, barks\nWyjcie:\n{\n"Zdanie": "The dog [[szczeka]] loudly",\n"Wyraz": "barks",\n}\n\nWejcie: We ate pizza for dinner, ate\nWyjcie:\n{\n"Zdanie": "We [[jedli]] pizza for dinner",\n"Wyraz": "ate",\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-24 11:27:01,062 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 11:27:01,063 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 11:27:01,064 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 11:27:01,065 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 11:27:01,066 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 11:27:01,066 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 11:27:03,321 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 10:27:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T10:27:02Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T10:27:03Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T10:27:02Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T10:27:02Z'), (b'request-id', b'req_01G1jfuwbCsdt3NPVBp2U93A'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916ec2b9ae31ee40-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 11:27:03,324 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 11:27:03,325 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 11:27:03,326 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 11:27:03,326 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 11:27:03,327 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 11:27:03,328 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 10:27:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T10:27:02Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T10:27:03Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T10:27:02Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T10:27:02Z', 'request-id': 'req_01G1jfuwbCsdt3NPVBp2U93A', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916ec2b9ae31ee40-WAW', 'content-encoding': 'gzip'})
2025-02-24 11:27:03,331 - anthropic._base_client - DEBUG - request_id: req_01G1jfuwbCsdt3NPVBp2U93A
2025-02-24 11:27:03,332 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1197
cache_read_input_tokens=0
input_tokens=14
output_tokens=31
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-24 11:27:03,333 - formatter            - DEBUG - json str:{
"Zdanie": "Do you have [[uszy]]?",
"Wyraz": "ears"
}
2025-02-24 11:27:03,334 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 11:27:03,334 - formatter            - DEBUG - formatted parts: [('Zdanie', 'Do you have [[uszy]]?'), ('Wyraz', 'ears')]
2025-02-24 11:27:03,335 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-24 11:27:03,336 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-24 11:27:03,336 - queris               - DEBUG - parts: [('Zdanie', 'Do you have [[uszy]]?'), ('Wyraz', 'ears')], data: {<ResponseField.FRONT: 'Zdanie'>: 'Do you have [[uszy]]?', <ResponseField.BACK: 'Wyraz'>: 'ears'}
2025-02-24 11:27:03,337 - anki_adder           - DEBUG - Inserting flashcard
2025-02-24 11:27:09,329 - events               - INFO  - Emiting EventType.ADD_FLASHCARD event to _handle_add_flashcard.
2025-02-24 11:27:09,330 - anki_adder           - INFO  - Add flashcard.
2025-02-24 11:27:09,330 - flashcard_repository - INFO  - Saving new flashcard.
2025-02-24 11:27:09,332 - flashcard_repository - INFO  - Flashcard: Do you have [[uszy]]?;ears
, successfully added.
2025-02-24 11:27:09,332 - word_repository      - INFO  - Getting the top word: ear
2025-02-24 11:27:09,333 - word_repository      - INFO  - Saving words from repository to ./data/word_database.txt.
2025-02-24 11:27:09,333 - word_repository      - DEBUG - ['poop', 'mount']
2025-02-24 11:27:09,334 - word_repository      - INFO  - Words saved successfully.
2025-02-24 11:27:09,335 - word_repository      - INFO  - Word ear deleted successfully. Beginning word changed: True
2025-02-24 11:27:09,335 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 11:27:09,336 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 11:27:09,336 - anki_adder           - INFO  - Getting new translation
2025-02-24 11:27:09,337 - word_repository      - INFO  - Getting the top word: poop
2025-02-24 11:27:09,337 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-24 11:27:09,338 - LLMModels            - INFO  - Requesting: poop
2025-02-24 11:27:09,341 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'poop'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-24 11:27:09,350 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 11:27:09,351 - httpcore.connection  - DEBUG - close.started
2025-02-24 11:27:09,352 - httpcore.connection  - DEBUG - close.complete
2025-02-24 11:27:09,352 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-24 11:27:09,380 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000024DFC6BEC60>
2025-02-24 11:27:09,381 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000024DFC64F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-24 11:27:09,393 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000024DFC6BE9C0>
2025-02-24 11:27:09,394 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 11:27:09,395 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 11:27:09,396 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 11:27:09,397 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 11:27:09,397 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 11:27:13,354 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 10:27:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T10:27:10Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T10:27:11Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T10:27:12Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T10:27:11Z'), (b'request-id', b'req_01GmJPD4j38SWpCbmkdPVbcm'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916ec2edbed5ef8f-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 11:27:13,357 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 11:27:13,358 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 11:27:13,359 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 11:27:13,359 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 11:27:13,360 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 11:27:13,361 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 10:27:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T10:27:10Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T10:27:11Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T10:27:12Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T10:27:11Z', 'request-id': 'req_01GmJPD4j38SWpCbmkdPVbcm', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916ec2edbed5ef8f-WAW', 'content-encoding': 'gzip'})
2025-02-24 11:27:13,364 - anthropic._base_client - DEBUG - request_id: req_01GmJPD4j38SWpCbmkdPVbcm
2025-02-24 11:27:13,365 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1484
input_tokens=9
output_tokens=257
Cache hit rate: 99.4%
Tokens saved: 1484
2025-02-24 11:27:13,367 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "kupa": "5/5",
        "robi kup": "4/5",
        "gwno": "3/5",
        "odchody": "2/5"
    },
    "Uycie": "Rzeczownik, odchody lub Czasownik, wyprnia si",
    "Zdanie": "The dog pooped in the yard.",
    "Tumaczenie": "Pies zrobi kup na podwrku.",
    "Czstotliwo": "3/5, B1",
    "Konteksty": ["fizjologia", "zwierzta", "higiena"],
    "Synonimy": {
        "defecate": "wyprnia si - 2/5",
        "excrement": "ekskrementy - 2/5",
        "feces": "ka - 3/5"
    },
    "is_word_correct": "ok"
}
2025-02-24 11:27:13,370 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 11:27:13,370 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' kupa: 5/5\n robi kup: 4/5\n gwno: 3/5\n odchody: 2/5'), ('Uycie', 'Rzeczownik, odchody lub Czasownik, wyprnia si'), ('Zdanie', 'The dog pooped in the yard.'), ('Tumaczenie', 'Pies zrobi kup na podwrku.'), ('Czstotliwo', '3/5, B1'), ('Konteksty', 'fizjologia, zwierzta, higiena'), ('Synonimy', ' defecate: wyprnia si - 2/5\n excrement: ekskrementy - 2/5\n feces: ka - 3/5'), ('is_word_correct', 'ok')]
2025-02-24 11:27:13,372 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-24 11:27:13,373 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-24 11:27:13,374 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-24 11:27:24,402 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-02-24 11:27:24,403 - word_repository      - INFO  - Getting the top word: poop
2025-02-24 11:27:24,403 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-02-24 11:27:24,404 - queris               - DEBUG - Safe execution of get sentence corrections
2025-02-24 11:27:24,404 - LLMModels            - INFO  - Requesting: dog needs to poop
2025-02-24 11:27:24,407 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'dog needs to poop'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne".\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-24 11:27:24,415 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 11:27:24,416 - httpcore.connection  - DEBUG - close.started
2025-02-24 11:27:24,416 - httpcore.connection  - DEBUG - close.complete
2025-02-24 11:27:24,417 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-24 11:27:24,425 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000024DFC696C00>
2025-02-24 11:27:24,425 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000024DFC64F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-24 11:27:24,442 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000024DFC696E10>
2025-02-24 11:27:24,443 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 11:27:24,444 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 11:27:24,445 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 11:27:24,446 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 11:27:24,447 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 11:27:27,251 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 10:27:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T10:27:25Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T10:27:25Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T10:27:26Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T10:27:25Z'), (b'request-id', b'req_01UQvyLcQfkD3ySmcswnss5c'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916ec34bcd4eeebe-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 11:27:27,255 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 11:27:27,255 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 11:27:27,256 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 11:27:27,257 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 11:27:27,257 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 11:27:27,258 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 10:27:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T10:27:25Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T10:27:25Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T10:27:26Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T10:27:25Z', 'request-id': 'req_01UQvyLcQfkD3ySmcswnss5c', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916ec34bcd4eeebe-WAW', 'content-encoding': 'gzip'})
2025-02-24 11:27:27,261 - anthropic._base_client - DEBUG - request_id: req_01UQvyLcQfkD3ySmcswnss5c
2025-02-24 11:27:27,262 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1143
input_tokens=12
output_tokens=129
Cache hit rate: 99.0%
Tokens saved: 1143
2025-02-24 11:27:27,264 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Brak podmiotu (The/A) przed 'dog'",
"Naturalno jzykowa": "Poprawne, ale nieformalne",
"Zdanie angielskie": "The dog needs to poop.",
"Tumaczenie zdania": "Pies musi si wyprni.",
"notatka": "W jzyku potocznym czsto pomija si przedimki, ale w formalnym angielskim s one wymagane."
}
2025-02-24 11:27:27,265 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 11:27:27,266 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', "Brak podmiotu (The/A) przed 'dog'"), ('Naturalno jzykowa', 'Poprawne, ale nieformalne'), ('Zdanie angielskie', 'The dog needs to poop.'), ('Tumaczenie zdania', 'Pies musi si wyprni.'), ('notatka', 'W jzyku potocznym czsto pomija si przedimki, ale w formalnym angielskim s one wymagane.')]
2025-02-24 11:27:27,267 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-02-24 11:27:27,268 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-02-24 11:27:27,269 - anki_adder           - DEBUG - Creading flashcard
2025-02-24 11:27:27,269 - queris               - DEBUG - Safe execution of get falshcard
2025-02-24 11:27:27,270 - LLMModels            - INFO  - Requesting: The dog needs to poop.:poop
2025-02-24 11:27:27,273 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'The dog needs to poop.:poop'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\n\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}\n\nWejcie: I read the book yesterday, read\nWyjcie:\n{\n"Zdanie": "I [[przeczytaem]] the book yesterday",\n"Wyraz": "read",\n}\n\nWejcie: She sings beautifully, sings\nWyjcie:\n{\n"Zdanie": "She [[piewa]] beautifully",\n"Wyraz": "sings",\n}\n\nWejcie: The dog barks loudly, barks\nWyjcie:\n{\n"Zdanie": "The dog [[szczeka]] loudly",\n"Wyraz": "barks",\n}\n\nWejcie: We ate pizza for dinner, ate\nWyjcie:\n{\n"Zdanie": "We [[jedli]] pizza for dinner",\n"Wyraz": "ate",\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-24 11:27:27,281 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 11:27:27,282 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 11:27:27,283 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 11:27:27,284 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 11:27:27,285 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 11:27:27,286 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 11:27:28,635 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 10:27:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T10:27:28Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T10:27:28Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T10:27:28Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T10:27:28Z'), (b'request-id', b'req_01ASFs9mW9e2ohatunEWbQ5S'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916ec35d8fb0eebe-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 11:27:28,638 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 11:27:28,639 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 11:27:28,640 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 11:27:28,641 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 11:27:28,641 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 11:27:28,642 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 10:27:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T10:27:28Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T10:27:28Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T10:27:28Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T10:27:28Z', 'request-id': 'req_01ASFs9mW9e2ohatunEWbQ5S', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916ec35d8fb0eebe-WAW', 'content-encoding': 'gzip'})
2025-02-24 11:27:28,645 - anthropic._base_client - DEBUG - request_id: req_01ASFs9mW9e2ohatunEWbQ5S
2025-02-24 11:27:28,646 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1197
input_tokens=16
output_tokens=36
Cache hit rate: 98.7%
Tokens saved: 1197
2025-02-24 11:27:28,647 - formatter            - DEBUG - json str:{
"Zdanie": "The dog needs to [[wyprni si]].",
"Wyraz": "poop"
}
2025-02-24 11:27:28,649 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 11:27:28,649 - formatter            - DEBUG - formatted parts: [('Zdanie', 'The dog needs to [[wyprni si]].'), ('Wyraz', 'poop')]
2025-02-24 11:27:28,650 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-02-24 11:27:28,650 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-02-24 11:27:28,651 - queris               - DEBUG - parts: [('Zdanie', 'The dog needs to [[wyprni si]].'), ('Wyraz', 'poop')], data: {<ResponseField.FRONT: 'Zdanie'>: 'The dog needs to [[wyprni si]].', <ResponseField.BACK: 'Wyraz'>: 'poop'}
2025-02-24 11:27:28,652 - anki_adder           - DEBUG - Inserting flashcard
2025-02-24 11:27:42,157 - httpcore.connection  - DEBUG - close.started
2025-02-24 11:27:42,159 - httpcore.connection  - DEBUG - close.complete
2025-02-24 12:43:02,232 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 12:43:02,232 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 12:43:02,232 - events               - INFO  - EventManager init.
2025-02-24 12:43:02,233 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 12:43:02,361 - gui.components.word_input - INFO  - WordInput init.
2025-02-24 12:43:02,387 - gui.components.repository - INFO  - Repository init.
2025-02-24 12:43:02,388 - word_repository      - INFO  - WordRepository init.
2025-02-24 12:43:02,389 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-02-24 12:43:02,390 - word_repository      - DEBUG - ['poop', 'mount']
2025-02-24 12:43:02,391 - word_repository      - INFO  - Words loaded successfully.
2025-02-24 12:43:02,392 - LLMModels            - INFO  - API key loaded successfully.
2025-02-24 12:43:02,393 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-24 12:43:02,397 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-24 12:43:03,346 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-24 12:43:03,348 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-24 12:43:03,349 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-24 12:43:03,350 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 12:43:03,350 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 12:43:03,351 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-24 12:43:03,351 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-24 12:43:03,352 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-24 12:43:03,353 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-24 12:43:03,354 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-24 12:43:03,354 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-24 12:43:03,355 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-24 12:43:03,355 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-24 12:43:03,356 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-24 12:43:03,356 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-24 12:43:03,357 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-24 12:43:03,358 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-24 12:43:03,358 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-24 12:43:03,359 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-24 12:43:11,427 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-24 12:43:11,428 - anki_adder           - DEBUG - Word submit front
2025-02-24 12:43:11,428 - word_repository      - INFO  - Pushing front music.
2025-02-24 12:43:11,428 - word_repository      - INFO  - Saving words from repository to data\word_database.txt.
2025-02-24 12:43:11,430 - word_repository      - DEBUG - ['music', 'poop', 'mount']
2025-02-24 12:43:11,430 - word_repository      - INFO  - Words saved successfully.
2025-02-24 12:43:11,431 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-24 12:43:11,432 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 12:43:11,432 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 12:43:11,433 - anki_adder           - INFO  - Getting new translation
2025-02-24 12:43:11,433 - word_repository      - INFO  - Getting the top word: music
2025-02-24 12:43:11,434 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-24 12:43:11,435 - LLMModels            - INFO  - Requesting: music
2025-02-24 12:43:11,439 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'music'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\nJeli dane sowo jest typowe dla jednej odmiany angielskiego, podaj do jakiej naley.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n6. Obsuguj take sowa wulgarne i nieodpowiednie, cao suy tylko celom edukacyjnym.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-24 12:43:13,176 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 12:43:13,177 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-24 12:43:13,256 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002C997877740>
2025-02-24 12:43:13,257 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002C99784F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-24 12:43:13,276 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002C9968F2630>
2025-02-24 12:43:13,277 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 12:43:13,278 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 12:43:13,278 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 12:43:13,279 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 12:43:13,279 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 12:43:16,416 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 11:43:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T11:43:14Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T11:43:15Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T11:43:15Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T11:43:15Z'), (b'request-id', b'req_01M8k4NhzifwvBc7xAYLRPG4'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916f32599fbc3bc0-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 12:43:16,420 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 12:43:16,421 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 12:43:16,422 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 12:43:16,423 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 12:43:16,424 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 12:43:16,424 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 11:43:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T11:43:14Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T11:43:15Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T11:43:15Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T11:43:15Z', 'request-id': 'req_01M8k4NhzifwvBc7xAYLRPG4', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916f32599fbc3bc0-WAW', 'content-encoding': 'gzip'})
2025-02-24 12:43:16,426 - anthropic._base_client - DEBUG - request_id: req_01M8k4NhzifwvBc7xAYLRPG4
2025-02-24 12:43:16,439 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1546
cache_read_input_tokens=0
input_tokens=8
output_tokens=231
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-24 12:43:16,441 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "muzyka": "5/5",
        "muzykowa": "2/5",
        "melodia": "3/5"
    },
    "Uycie": "Rzeczownik, dwiki zorganizowane w czasie tworzce kompozycj",
    "Zdanie": "I love listening to classical music.",
    "Tumaczenie": "Uwielbiam sucha muzyki klasycznej.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["sztuka", "rozrywka", "kultura"],
    "Synonimy": {
        "melody": "melodia - 4/5",
        "tune": "melodia - 3/5",
        "harmony": "harmonia - 3/5"
    },
    "is_word_correct": "ok"
}
2025-02-24 12:43:16,443 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 12:43:16,444 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' muzyka: 5/5\n muzykowa: 2/5\n melodia: 3/5'), ('Uycie', 'Rzeczownik, dwiki zorganizowane w czasie tworzce kompozycj'), ('Zdanie', 'I love listening to classical music.'), ('Tumaczenie', 'Uwielbiam sucha muzyki klasycznej.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'sztuka, rozrywka, kultura'), ('Synonimy', ' melody: melodia - 4/5\n tune: melodia - 3/5\n harmony: harmonia - 3/5'), ('is_word_correct', 'ok')]
2025-02-24 12:43:16,445 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-24 12:43:16,446 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-24 12:43:16,446 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-24 12:43:19,370 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-02-24 12:43:19,371 - anki_adder           - DEBUG - Show repositry.
2025-02-24 12:43:19,372 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-02-24 12:43:20,660 - gui.components.repository - INFO  - Repository window colsed.
2025-02-24 12:43:22,283 - httpcore.connection  - DEBUG - close.started
2025-02-24 12:43:22,290 - httpcore.connection  - DEBUG - close.complete
2025-02-24 12:54:56,270 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 12:54:56,271 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 12:54:56,271 - events               - INFO  - EventManager init.
2025-02-24 12:54:56,271 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 12:54:56,388 - gui.components.word_input - INFO  - WordInput init.
2025-02-24 12:54:56,413 - gui.components.repository - INFO  - Repository init.
2025-02-24 12:54:56,414 - word_repository      - INFO  - WordRepository init.
2025-02-24 12:54:56,415 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-02-24 12:54:56,417 - word_repository      - DEBUG - ['music', 'poop', 'mount']
2025-02-24 12:54:56,417 - word_repository      - INFO  - Words loaded successfully.
2025-02-24 12:54:56,420 - LLMModels            - INFO  - API key loaded successfully.
2025-02-24 12:54:56,420 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-24 12:54:56,424 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-24 12:54:57,304 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-24 12:54:57,305 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-24 12:54:57,306 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-24 12:54:57,307 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 12:54:57,307 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 12:54:57,308 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-24 12:54:57,309 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-24 12:54:57,309 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-24 12:54:57,310 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-24 12:54:57,311 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-24 12:54:57,311 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-24 12:54:57,312 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-24 12:54:57,312 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-24 12:54:57,313 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-24 12:54:57,314 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-24 12:54:57,314 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-24 12:54:57,315 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-24 12:54:57,315 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-24 12:54:57,316 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-24 12:57:08,854 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 12:57:08,855 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 12:57:08,856 - events               - INFO  - EventManager init.
2025-02-24 12:57:08,856 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 12:57:08,971 - gui.components.word_input - INFO  - WordInput init.
2025-02-24 12:57:09,001 - gui.components.repository - INFO  - Repository init.
2025-02-24 12:57:09,002 - word_repository      - INFO  - WordRepository init.
2025-02-24 12:57:09,002 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-02-24 12:57:09,003 - word_repository      - DEBUG - ['music', 'poop', 'mount']
2025-02-24 12:57:09,004 - word_repository      - INFO  - Words loaded successfully.
2025-02-24 12:57:09,006 - LLMModels            - INFO  - API key loaded successfully.
2025-02-24 12:57:09,007 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-24 12:57:09,012 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-24 12:57:09,887 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-24 12:57:09,889 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-24 12:57:09,890 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-24 12:57:09,891 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 12:57:09,891 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 12:57:09,892 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-24 12:57:09,893 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-24 12:57:09,893 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-24 12:57:09,894 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-24 12:57:09,895 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-24 12:57:09,896 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-24 12:57:09,896 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-24 12:57:09,897 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-24 12:57:09,897 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-24 12:57:09,898 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-24 12:57:09,898 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-24 12:57:09,899 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-24 12:57:09,900 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-24 12:57:09,900 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-24 12:57:20,896 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-24 12:57:20,897 - anki_adder           - DEBUG - Word submit front
2025-02-24 12:57:20,898 - word_repository      - INFO  - Pushing front pen.
2025-02-24 12:57:20,898 - word_repository      - INFO  - Saving words from repository to data\word_database.txt.
2025-02-24 12:57:20,899 - word_repository      - DEBUG - ['pen', 'music', 'poop', 'mount']
2025-02-24 12:57:20,900 - word_repository      - INFO  - Words saved successfully.
2025-02-24 12:57:20,901 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-24 12:57:20,901 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 12:57:20,902 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 12:57:20,903 - anki_adder           - INFO  - Getting new translation
2025-02-24 12:57:20,903 - word_repository      - INFO  - Getting the top word: pen
2025-02-24 12:57:20,904 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-24 12:57:20,904 - LLMModels            - INFO  - Requesting: pen
2025-02-24 12:57:20,908 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'pen'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\nJeli dane sowo jest typowe dla jednej odmiany angielskiego, podaj do jakiej naley.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n6. Obsuguj take sowa wulgarne i nieodpowiednie, cao suy tylko celom edukacyjnym.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-24 12:57:22,216 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 12:57:22,217 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-24 12:57:22,247 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002AD9BB4FE60>
2025-02-24 12:57:22,248 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002AD9CA4F7D0> server_hostname='api.anthropic.com' timeout=600
2025-02-24 12:57:22,263 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002AD9CA0E2D0>
2025-02-24 12:57:22,264 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 12:57:22,265 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 12:57:22,265 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 12:57:22,266 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 12:57:22,266 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 12:57:25,287 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 11:57:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T11:57:23Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T11:57:24Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T11:57:24Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T11:57:24Z'), (b'request-id', b'req_01LtzY7LiC1HTUtUqfVTJQ9n'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916f4713bbf6ef95-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 12:57:25,290 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 12:57:25,291 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 12:57:25,292 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 12:57:25,293 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 12:57:25,294 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 12:57:25,295 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 11:57:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T11:57:23Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T11:57:24Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T11:57:24Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T11:57:24Z', 'request-id': 'req_01LtzY7LiC1HTUtUqfVTJQ9n', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916f4713bbf6ef95-WAW', 'content-encoding': 'gzip'})
2025-02-24 12:57:25,297 - anthropic._base_client - DEBUG - request_id: req_01LtzY7LiC1HTUtUqfVTJQ9n
2025-02-24 12:57:25,310 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1546
cache_read_input_tokens=0
input_tokens=8
output_tokens=239
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-24 12:57:25,311 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "dugopis": "5/5",
        "piro": "4/5",
        "pisa": "2/5"
    },
    "Uycie": "Rzeczownik, narzdzie do pisania lub rysowania",
    "Zdanie": "Can I borrow your pen?",
    "Tumaczenie": "Czy mog poyczy twj dugopis?",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["przybory szkolne", "biuro", "pisanie"],
    "Synonimy": {
        "ballpoint": "dugopis - 3/5",
        "fountain pen": "piro wieczne - 2/5",
        "pencil": "owek - 4/5"
    },
    "is_word_correct": "ok"
}
2025-02-24 12:57:25,314 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 12:57:25,315 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' dugopis: 5/5\n piro: 4/5\n pisa: 2/5'), ('Uycie', 'Rzeczownik, narzdzie do pisania lub rysowania'), ('Zdanie', 'Can I borrow your pen?'), ('Tumaczenie', 'Czy mog poyczy twj dugopis?'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'przybory szkolne, biuro, pisanie'), ('Synonimy', ' ballpoint: dugopis - 3/5\n fountain pen: piro wieczne - 2/5\n pencil: owek - 4/5'), ('is_word_correct', 'ok')]
2025-02-24 12:57:25,316 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-24 12:57:25,316 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-24 12:57:25,317 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-24 12:57:48,666 - httpcore.connection  - DEBUG - close.started
2025-02-24 12:57:48,668 - httpcore.connection  - DEBUG - close.complete
2025-02-24 12:58:30,702 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 12:58:30,703 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 12:58:30,704 - events               - INFO  - EventManager init.
2025-02-24 12:58:30,704 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 12:58:45,622 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 12:58:45,623 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 12:58:45,623 - events               - INFO  - EventManager init.
2025-02-24 12:58:45,624 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 13:07:21,594 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 13:07:21,595 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 13:07:21,595 - events               - INFO  - EventManager init.
2025-02-24 13:07:21,596 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 13:07:21,713 - gui.components.word_input - INFO  - WordInput init.
2025-02-24 13:07:21,745 - gui.components.repository - INFO  - Repository init.
2025-02-24 13:07:21,746 - word_repository      - INFO  - WordRepository init.
2025-02-24 13:07:21,747 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-02-24 13:07:21,748 - word_repository      - DEBUG - ['pen', 'music', 'poop', 'mount']
2025-02-24 13:07:21,748 - word_repository      - INFO  - Words loaded successfully.
2025-02-24 13:07:21,750 - LLMModels            - INFO  - API key loaded successfully.
2025-02-24 13:07:21,751 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-24 13:07:21,755 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-24 13:07:22,627 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-24 13:07:22,629 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-24 13:07:22,630 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-24 13:07:22,630 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 13:07:22,631 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 13:07:22,631 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-24 13:07:22,632 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-24 13:07:22,633 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-24 13:07:22,633 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-24 13:07:22,634 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-24 13:07:22,635 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-24 13:07:22,635 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-24 13:07:22,636 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-24 13:07:22,636 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-24 13:07:22,637 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-24 13:07:22,637 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-24 13:07:22,638 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-24 13:07:22,638 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-24 13:07:22,639 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-24 13:07:33,568 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-24 13:07:33,568 - anki_adder           - DEBUG - Word submit front
2025-02-24 13:07:33,569 - word_repository      - INFO  - Pushing front leg.
2025-02-24 13:07:33,570 - word_repository      - INFO  - Saving words from repository to data\word_database.txt.
2025-02-24 13:07:33,571 - word_repository      - DEBUG - ['leg', 'pen', 'music', 'poop', 'mount']
2025-02-24 13:07:33,572 - word_repository      - INFO  - Words saved successfully.
2025-02-24 13:07:33,572 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-24 13:07:33,573 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 13:07:33,573 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 13:07:33,574 - anki_adder           - INFO  - Getting new translation
2025-02-24 13:07:33,575 - word_repository      - INFO  - Getting the top word: leg
2025-02-24 13:07:33,575 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-24 13:07:33,576 - LLMModels            - INFO  - Requesting: leg
2025-02-24 13:07:33,580 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'leg'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\nJeli dane sowo jest typowe dla jednej odmiany angielskiego, podaj do jakiej naley.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n6. Obsuguj take sowa wulgarne i nieodpowiednie, cao suy tylko celom edukacyjnym.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-24 13:07:34,867 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 13:07:34,868 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-24 13:07:34,898 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CED8DF20F0>
2025-02-24 13:07:34,899 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001CED9E4F8D0> server_hostname='api.anthropic.com' timeout=600
2025-02-24 13:07:34,917 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001CED8BE5AC0>
2025-02-24 13:07:34,918 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 13:07:34,919 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 13:07:34,920 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 13:07:34,921 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 13:07:34,921 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 13:07:37,957 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 12:07:37 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T12:07:35Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T12:07:36Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T12:07:37Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T12:07:36Z'), (b'request-id', b'req_01DXwjwVY7vFQpft3dsg3ovw'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'916f5608cbfdee4c-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 13:07:37,960 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 13:07:37,962 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 13:07:37,963 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 13:07:37,964 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 13:07:37,964 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 13:07:37,965 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 12:07:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T12:07:35Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T12:07:36Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T12:07:37Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T12:07:36Z', 'request-id': 'req_01DXwjwVY7vFQpft3dsg3ovw', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '916f5608cbfdee4c-WAW', 'content-encoding': 'gzip'})
2025-02-24 13:07:37,968 - anthropic._base_client - DEBUG - request_id: req_01DXwjwVY7vFQpft3dsg3ovw
2025-02-24 13:07:37,978 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1546
cache_read_input_tokens=0
input_tokens=8
output_tokens=231
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-24 13:07:37,980 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "noga": "5/5",
        "apa": "2/5",
        "podprka": "1/5"
    },
    "Uycie": "Rzeczownik, koczyna dolna czowieka lub zwierzcia",
    "Zdanie": "He broke his leg skiing.",
    "Tumaczenie": "Zama nog podczas jazdy na nartach.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["anatomia", "medycyna", "meble"],
    "Synonimy": {
        "limb": "koczyna - 3/5",
        "appendage": "odne - 2/5",
        "support": "podpora - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-24 13:07:37,983 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 13:07:37,984 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' noga: 5/5\n apa: 2/5\n podprka: 1/5'), ('Uycie', 'Rzeczownik, koczyna dolna czowieka lub zwierzcia'), ('Zdanie', 'He broke his leg skiing.'), ('Tumaczenie', 'Zama nog podczas jazdy na nartach.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'anatomia, medycyna, meble'), ('Synonimy', ' limb: koczyna - 3/5\n appendage: odne - 2/5\n support: podpora - 2/5'), ('is_word_correct', 'ok')]
2025-02-24 13:07:37,986 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-24 13:07:37,986 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-24 13:07:37,987 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-24 13:07:56,242 - httpcore.connection  - DEBUG - close.started
2025-02-24 13:07:56,250 - httpcore.connection  - DEBUG - close.complete
2025-02-24 18:16:30,752 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 18:16:30,754 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 18:16:30,755 - events               - INFO  - EventManager init.
2025-02-24 18:16:30,755 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 18:17:22,783 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 18:17:22,784 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 18:17:22,785 - events               - INFO  - EventManager init.
2025-02-24 18:17:22,786 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 18:17:22,909 - gui.components.word_input - INFO  - WordInput init.
2025-02-24 18:17:22,946 - gui.components.repository - INFO  - Repository init.
2025-02-24 18:17:22,947 - word_repository      - INFO  - WordRepository init.
2025-02-24 18:17:22,948 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-02-24 18:17:22,949 - word_repository      - DEBUG - ['leg', 'pen', 'music', 'poop', 'mount']
2025-02-24 18:17:22,949 - word_repository      - INFO  - Words loaded successfully.
2025-02-24 18:17:22,951 - LLMModels            - INFO  - API key loaded successfully.
2025-02-24 18:17:22,952 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-24 18:17:22,968 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-24 18:17:23,893 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-24 18:17:23,895 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-24 18:17:23,896 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-24 18:17:23,897 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 18:17:23,898 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 18:17:23,898 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-24 18:17:23,899 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-24 18:17:23,899 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-24 18:17:23,900 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-24 18:17:23,901 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-24 18:17:23,901 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-24 18:17:23,902 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-24 18:17:23,902 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-24 18:17:23,903 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-24 18:17:23,903 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-24 18:17:23,904 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-24 18:17:23,904 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-24 18:17:23,905 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-24 18:17:23,905 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-24 18:44:48,706 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 18:44:48,706 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 18:45:05,706 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 18:45:05,706 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 18:45:05,823 - events               - INFO  - EventManager init.
2025-02-24 18:45:05,823 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 18:45:25,523 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 18:45:25,523 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 18:45:25,639 - events               - INFO  - EventManager init.
2025-02-24 18:45:25,639 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 18:45:25,740 - gui.components.word_input - INFO  - WordInput init.
2025-02-24 19:25:58,409 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 19:25:58,409 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 19:25:58,524 - events               - INFO  - EventManager init.
2025-02-24 19:25:58,524 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 19:25:58,625 - gui.components.word_input - INFO  - WordInput init.
2025-02-24 19:26:38,955 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 19:26:38,955 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 19:26:38,955 - events               - INFO  - EventManager init.
2025-02-24 19:26:38,955 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 19:26:39,075 - gui.components.word_input - INFO  - WordInput init.
2025-02-24 19:26:39,110 - gui.components.repository - INFO  - Repository init.
2025-02-24 19:26:39,110 - word_repository      - INFO  - WordRepository init.
2025-02-24 19:26:39,110 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-02-24 19:26:39,110 - word_repository      - DEBUG - ['leg', 'pen', 'music', 'poop', 'mount']
2025-02-24 19:26:39,110 - word_repository      - INFO  - Words loaded successfully.
2025-02-24 19:26:39,110 - LLMModels            - INFO  - API key loaded successfully.
2025-02-24 19:26:39,110 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-24 19:26:39,128 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-24 19:26:39,967 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-24 19:26:39,967 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-24 19:26:39,967 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-24 19:26:39,967 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 19:26:39,967 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 19:26:39,967 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-24 19:26:39,967 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-24 19:26:39,967 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-24 19:26:39,981 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-24 19:26:39,981 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-24 19:26:39,982 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-24 19:26:39,983 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-24 19:26:39,983 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-24 19:26:39,984 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-24 19:26:39,985 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-24 19:26:39,985 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-24 19:26:39,986 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-24 19:26:39,986 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-24 19:26:39,987 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-24 19:28:18,026 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 19:28:18,026 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 19:28:18,026 - events               - INFO  - EventManager init.
2025-02-24 19:28:18,026 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 19:28:18,143 - gui.components.word_input - INFO  - WordInput init.
2025-02-24 19:28:18,179 - gui.components.repository - INFO  - Repository init.
2025-02-24 19:28:18,179 - word_repository      - INFO  - WordRepository init.
2025-02-24 19:28:18,179 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-02-24 19:28:18,179 - word_repository      - DEBUG - ['leg', 'pen', 'music', 'poop', 'mount']
2025-02-24 19:28:18,179 - word_repository      - INFO  - Words loaded successfully.
2025-02-24 19:28:18,179 - LLMModels            - INFO  - API key loaded successfully.
2025-02-24 19:28:18,179 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-24 19:28:18,191 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-24 19:28:19,010 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-24 19:28:19,010 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-24 19:28:19,028 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-24 19:28:19,028 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 19:28:19,028 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 19:28:19,028 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-24 19:28:19,028 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-24 19:28:19,031 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-24 19:28:19,031 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-24 19:28:19,032 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-24 19:28:19,032 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-24 19:28:19,033 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-24 19:28:19,033 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-24 19:28:19,034 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-24 19:28:19,035 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-24 19:28:19,035 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-24 19:28:19,035 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-24 19:28:19,035 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-24 19:28:19,035 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-24 20:54:51,485 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 20:54:51,485 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 20:54:51,501 - events               - INFO  - EventManager init.
2025-02-24 20:54:51,501 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 20:54:51,620 - gui.components.word_input - INFO  - WordInput init.
2025-02-24 20:54:51,645 - gui.components.repository - INFO  - Repository init.
2025-02-24 20:54:51,645 - word_repository      - INFO  - WordRepository init.
2025-02-24 20:54:51,645 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-02-24 20:54:51,654 - word_repository      - DEBUG - ['leg', 'pen', 'music', 'poop', 'mount']
2025-02-24 20:54:51,655 - word_repository      - INFO  - Words loaded successfully.
2025-02-24 20:54:51,655 - LLMModels            - INFO  - API key loaded successfully.
2025-02-24 20:54:51,655 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-24 20:54:51,663 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-24 20:54:52,567 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-24 20:54:52,567 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-24 20:54:52,567 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-24 20:54:52,567 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 20:54:52,567 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 20:54:52,567 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-24 20:54:52,567 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-24 20:54:52,567 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-24 20:54:52,576 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-24 20:54:52,577 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-24 20:54:52,577 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-24 20:54:52,578 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-24 20:54:52,579 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-24 20:54:52,579 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-24 20:54:52,580 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-24 20:54:52,580 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-24 20:54:52,581 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-24 20:54:52,582 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-24 20:54:52,582 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-02-24 20:54:58,084 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-02-24 20:54:58,084 - anki_adder           - DEBUG - Word submit front
2025-02-24 20:54:58,085 - word_repository      - INFO  - Pushing front pizza.
2025-02-24 20:54:58,085 - word_repository      - INFO  - Saving words from repository to data\word_database.txt.
2025-02-24 20:54:58,087 - word_repository      - DEBUG - ['pizza', 'leg', 'pen', 'music', 'poop', 'mount']
2025-02-24 20:54:58,088 - word_repository      - INFO  - Words saved successfully.
2025-02-24 20:54:58,088 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-02-24 20:54:58,089 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 20:54:58,089 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 20:54:58,090 - anki_adder           - INFO  - Getting new translation
2025-02-24 20:54:58,091 - word_repository      - INFO  - Getting the top word: pizza
2025-02-24 20:54:58,091 - queris               - DEBUG - Safe execution of get word translaniton
2025-02-24 20:54:58,092 - LLMModels            - INFO  - Requesting: pizza
2025-02-24 20:54:58,096 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'pizza'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\nJeli dane sowo jest typowe dla jednej odmiany angielskiego, podaj do jakiej naley.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n6. Obsuguj take sowa wulgarne i nieodpowiednie, cao suy tylko celom edukacyjnym.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-02-24 20:54:59,833 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-02-24 20:54:59,833 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-02-24 20:54:59,905 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E1BBC4FC20>
2025-02-24 20:54:59,905 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001E1BC54F9D0> server_hostname='api.anthropic.com' timeout=600
2025-02-24 20:54:59,928 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001E1BC5275C0>
2025-02-24 20:54:59,937 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-02-24 20:54:59,938 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-02-24 20:54:59,939 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-02-24 20:54:59,940 - httpcore.http11      - DEBUG - send_request_body.complete
2025-02-24 20:54:59,940 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-02-24 20:55:02,697 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Feb 2025 19:55:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-02-24T19:55:01Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-02-24T19:55:02Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-02-24T19:55:02Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-02-24T19:55:02Z'), (b'request-id', b'req_01WY5LWLBkttP1WNdJ3cGvEF'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'917202bbedb8c065-WAW'), (b'Content-Encoding', b'gzip')])
2025-02-24 20:55:02,697 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-02-24 20:55:02,697 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-02-24 20:55:02,697 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-02-24 20:55:02,697 - httpcore.http11      - DEBUG - response_closed.started
2025-02-24 20:55:02,697 - httpcore.http11      - DEBUG - response_closed.complete
2025-02-24 20:55:02,713 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 24 Feb 2025 19:55:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-02-24T19:55:01Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-02-24T19:55:02Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-02-24T19:55:02Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-02-24T19:55:02Z', 'request-id': 'req_01WY5LWLBkttP1WNdJ3cGvEF', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '917202bbedb8c065-WAW', 'content-encoding': 'gzip'})
2025-02-24 20:55:02,715 - anthropic._base_client - DEBUG - request_id: req_01WY5LWLBkttP1WNdJ3cGvEF
2025-02-24 20:55:02,724 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1546
cache_read_input_tokens=0
input_tokens=8
output_tokens=212
Cache hit rate: 0.0%
Tokens saved: 0
2025-02-24 20:55:02,724 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "pizza": "5/5",
        "placek": "1/5"
    },
    "Uycie": "Rzeczownik, okrgy, paski placek z ciasta z rnymi dodatkami",
    "Zdanie": "Let's order a large pizza.",
    "Tumaczenie": "Zamwmy du pizz.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["jedzenie", "kuchnia woska", "fast food"],
    "Synonimy": {
        "pie": "placek - 2/5",
        "flatbread": "paski chleb - 2/5"
    },
    "is_word_correct": "ok"
}
2025-02-24 20:55:02,724 - formatter            - INFO  - JSON is valid and properly formatted.
2025-02-24 20:55:02,724 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' pizza: 5/5\n placek: 1/5'), ('Uycie', 'Rzeczownik, okrgy, paski placek z ciasta z rnymi dodatkami'), ('Zdanie', "Let's order a large pizza."), ('Tumaczenie', 'Zamwmy du pizz.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'jedzenie, kuchnia woska, fast food'), ('Synonimy', ' pie: placek - 2/5\n flatbread: paski chleb - 2/5'), ('is_word_correct', 'ok')]
2025-02-24 20:55:02,724 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-02-24 20:55:02,724 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-02-24 20:55:02,724 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-02-24 20:55:11,429 - httpcore.connection  - DEBUG - close.started
2025-02-24 20:55:11,430 - httpcore.connection  - DEBUG - close.complete
2025-02-24 20:55:41,560 - __main__             - INFO  - Launching AnkiAdder.
2025-02-24 20:55:41,561 - anki_adder           - INFO  - AnkiAdder init.
2025-02-24 20:55:41,562 - events               - INFO  - EventManager init.
2025-02-24 20:55:41,562 - gui.main_window      - INFO  - MainWindow init.
2025-02-24 20:55:41,670 - gui.components.word_input - INFO  - WordInput init.
2025-02-24 20:55:41,705 - gui.components.repository - INFO  - Repository init.
2025-02-24 20:55:41,705 - word_repository      - INFO  - WordRepository init.
2025-02-24 20:55:41,705 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-02-24 20:55:41,705 - word_repository      - DEBUG - ['pizza', 'leg', 'pen', 'music', 'poop', 'mount']
2025-02-24 20:55:41,705 - word_repository      - INFO  - Words loaded successfully.
2025-02-24 20:55:41,705 - LLMModels            - INFO  - API key loaded successfully.
2025-02-24 20:55:41,705 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-02-24 20:55:41,716 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-02-24 20:55:42,552 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-02-24 20:55:42,552 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-02-24 20:55:42,552 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-02-24 20:55:42,552 - anki_adder           - DEBUG - Refresh gui.
2025-02-24 20:55:42,552 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-02-24 20:55:42,552 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-02-24 20:55:42,552 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-02-24 20:55:42,552 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-02-24 20:55:42,552 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-02-24 20:55:42,566 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-02-24 20:55:42,566 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-02-24 20:55:42,567 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-02-24 20:55:42,567 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-02-24 20:55:42,568 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-02-24 20:55:42,569 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-02-24 20:55:42,569 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-02-24 20:55:42,571 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-02-24 20:55:42,571 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-02-24 20:55:42,572 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-03-03 10:41:29,687 - __main__             - INFO  - Launching AnkiAdder.
2025-03-03 10:41:29,687 - anki_adder           - INFO  - AnkiAdder init.
2025-03-03 10:41:29,687 - events               - INFO  - EventManager init.
2025-03-03 10:41:29,687 - gui.main_window      - INFO  - MainWindow init.
2025-03-03 10:41:29,874 - gui.components.word_input - INFO  - WordInput init.
2025-03-03 10:41:29,910 - gui.components.repository - INFO  - Repository init.
2025-03-03 10:41:29,910 - word_repository      - INFO  - WordRepository init.
2025-03-03 10:41:29,910 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-03-03 10:41:29,910 - word_repository      - DEBUG - ['phone', 'leg', 'pen', 'music', 'poop', 'mount', 'looking', 'battle']
2025-03-03 10:41:29,910 - word_repository      - INFO  - Words loaded successfully.
2025-03-03 10:41:29,910 - LLMModels            - INFO  - API key loaded successfully.
2025-03-03 10:41:29,910 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-03 10:41:29,910 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-03-03 10:41:30,890 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-03-03 10:41:30,892 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-03-03 10:41:30,893 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-03-03 10:41:30,893 - anki_adder           - DEBUG - Refresh gui.
2025-03-03 10:41:30,894 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-03-03 10:41:30,894 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-03-03 10:41:30,896 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-03-03 10:41:30,896 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-03-03 10:41:30,897 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-03-03 10:41:30,897 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-03-03 10:41:30,897 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-03-03 10:41:30,897 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-03-03 10:41:30,898 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-03-03 10:41:30,899 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-03-03 10:41:30,899 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-03-03 10:41:30,900 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-03-03 10:41:30,901 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-03-03 10:41:30,901 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-03-03 10:41:30,902 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-03-03 10:41:48,611 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-03-03 10:41:48,611 - anki_adder           - DEBUG - Show repositry.
2025-03-03 10:41:48,611 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-03-03 10:41:52,185 - events               - INFO  - Emiting EventType.DELETE_WORD event to _handle_repository_delete.
2025-03-03 10:41:52,185 - anki_adder           - DEBUG - Repository delete.
2025-03-03 10:41:52,185 - word_repository      - INFO  - Saving words from repository to data\word_database.txt.
2025-03-03 10:41:52,185 - word_repository      - DEBUG - ['leg', 'pen', 'music', 'poop', 'mount', 'looking', 'battle']
2025-03-03 10:41:52,185 - word_repository      - INFO  - Words saved successfully.
2025-03-03 10:41:52,185 - word_repository      - INFO  - Word phone deleted successfully. Beginning word changed: True
2025-03-03 10:41:52,185 - anki_adder           - DEBUG - Refresh gui.
2025-03-03 10:41:52,193 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-03-03 10:41:52,193 - anki_adder           - INFO  - Getting new translation
2025-03-03 10:41:52,194 - word_repository      - INFO  - Getting the top word: leg
2025-03-03 10:41:52,195 - queris               - DEBUG - Safe execution of get word translaniton
2025-03-03 10:41:52,195 - LLMModels            - INFO  - Requesting: leg
2025-03-03 10:41:52,199 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'leg'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\nJeli dane sowo jest typowe dla jednej odmiany angielskiego, podaj do jakiej naley.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n6. Obsuguj take sowa wulgarne i nieodpowiednie, cao suy tylko celom edukacyjnym.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-03-03 10:41:54,168 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-03-03 10:41:54,168 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-03-03 10:41:54,264 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023778B57290>
2025-03-03 10:41:54,264 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023779A4F8D0> server_hostname='api.anthropic.com' timeout=600
2025-03-03 10:41:54,288 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000237790CDA60>
2025-03-03 10:41:54,289 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-03 10:41:54,290 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-03-03 10:41:54,290 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-03 10:41:54,291 - httpcore.http11      - DEBUG - send_request_body.complete
2025-03-03 10:41:54,292 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-03 10:41:56,121 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 529, b'', [(b'Date', b'Mon, 03 Mar 2025 09:41:54 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'75'), (b'Connection', b'keep-alive'), (b'x-should-retry', b'true'), (b'request-id', b'req_012r1tpJjntHiSoBKc6JJySp'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91a82e3b4cc1b224-WAW')])
2025-03-03 10:41:56,121 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 529 "
2025-03-03 10:41:56,121 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-03 10:41:56,121 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-03-03 10:41:56,121 - httpcore.http11      - DEBUG - response_closed.started
2025-03-03 10:41:56,121 - httpcore.http11      - DEBUG - response_closed.complete
2025-03-03 10:41:56,136 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "529 " Headers({'date': 'Mon, 03 Mar 2025 09:41:54 GMT', 'content-type': 'application/json', 'content-length': '75', 'connection': 'keep-alive', 'x-should-retry': 'true', 'request-id': 'req_012r1tpJjntHiSoBKc6JJySp', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91a82e3b4cc1b224-WAW'})
2025-03-03 10:41:56,138 - anthropic._base_client - DEBUG - request_id: req_012r1tpJjntHiSoBKc6JJySp
2025-03-03 10:41:56,138 - anthropic._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529
2025-03-03 10:41:56,171 - anthropic._base_client - DEBUG - Retrying as header `x-should-retry` is set to `true`
2025-03-03 10:41:56,171 - anthropic._base_client - DEBUG - 2 retries left
2025-03-03 10:41:56,172 - anthropic._base_client - INFO  - Retrying request to /v1/messages in 0.407411 seconds
2025-03-03 10:41:56,581 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'leg'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\nJeli dane sowo jest typowe dla jednej odmiany angielskiego, podaj do jakiej naley.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n6. Obsuguj take sowa wulgarne i nieodpowiednie, cao suy tylko celom edukacyjnym.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-03-03 10:41:56,591 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-03-03 10:41:56,592 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-03 10:41:56,593 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-03-03 10:41:56,594 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-03 10:41:56,594 - httpcore.http11      - DEBUG - send_request_body.complete
2025-03-03 10:41:56,595 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-03 10:41:58,269 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 529, b'', [(b'Date', b'Mon, 03 Mar 2025 09:41:56 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'75'), (b'Connection', b'keep-alive'), (b'x-should-retry', b'true'), (b'request-id', b'req_01PevGVdmkLk1u5ch8eNze2s'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'Cache-Control', b'no-store, no-cache'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91a82e49ad83b224-WAW')])
2025-03-03 10:41:58,269 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 529 "
2025-03-03 10:41:58,269 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-03 10:41:58,269 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-03-03 10:41:58,269 - httpcore.http11      - DEBUG - response_closed.started
2025-03-03 10:41:58,269 - httpcore.http11      - DEBUG - response_closed.complete
2025-03-03 10:41:58,269 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "529 " Headers({'date': 'Mon, 03 Mar 2025 09:41:56 GMT', 'content-type': 'application/json', 'content-length': '75', 'connection': 'keep-alive', 'x-should-retry': 'true', 'request-id': 'req_01PevGVdmkLk1u5ch8eNze2s', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cache-control': 'no-store, no-cache', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91a82e49ad83b224-WAW'})
2025-03-03 10:41:58,269 - anthropic._base_client - DEBUG - request_id: req_01PevGVdmkLk1u5ch8eNze2s
2025-03-03 10:41:58,276 - anthropic._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529
2025-03-03 10:41:58,282 - anthropic._base_client - DEBUG - Retrying as header `x-should-retry` is set to `true`
2025-03-03 10:41:58,282 - anthropic._base_client - DEBUG - 1 retry left
2025-03-03 10:41:58,283 - anthropic._base_client - INFO  - Retrying request to /v1/messages in 0.951284 seconds
2025-03-03 10:41:59,236 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'leg'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\nJeli dane sowo jest typowe dla jednej odmiany angielskiego, podaj do jakiej naley.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n6. Obsuguj take sowa wulgarne i nieodpowiednie, cao suy tylko celom edukacyjnym.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-03-03 10:41:59,236 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-03-03 10:41:59,236 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-03 10:41:59,246 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-03-03 10:41:59,247 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-03 10:41:59,247 - httpcore.http11      - DEBUG - send_request_body.complete
2025-03-03 10:41:59,247 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-03 10:42:03,982 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 529, b'', [(b'Date', b'Mon, 03 Mar 2025 09:42:02 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'75'), (b'Connection', b'keep-alive'), (b'x-should-retry', b'true'), (b'request-id', b'req_016tJQSWzAW1mWucofik1eTJ'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91a82e5a4f42b224-WAW')])
2025-03-03 10:42:03,982 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 529 "
2025-03-03 10:42:03,982 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-03 10:42:03,982 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-03-03 10:42:03,982 - httpcore.http11      - DEBUG - response_closed.started
2025-03-03 10:42:03,982 - httpcore.http11      - DEBUG - response_closed.complete
2025-03-03 10:42:03,982 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "529 " Headers({'date': 'Mon, 03 Mar 2025 09:42:02 GMT', 'content-type': 'application/json', 'content-length': '75', 'connection': 'keep-alive', 'x-should-retry': 'true', 'request-id': 'req_016tJQSWzAW1mWucofik1eTJ', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91a82e5a4f42b224-WAW'})
2025-03-03 10:42:03,982 - anthropic._base_client - DEBUG - request_id: req_016tJQSWzAW1mWucofik1eTJ
2025-03-03 10:42:03,994 - anthropic._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529
2025-03-03 10:42:04,001 - anthropic._base_client - DEBUG - Re-raising status error
2025-03-03 10:42:04,006 - LLMModels            - ERROR - Anthropic API error!
2025-03-03 10:42:04,068 - error_handler        - ERROR - Operation failed: Anthropic API error: Error code: 529 - {'type': 'error', 'error': {'type': 'overloaded_error', 'message': 'Overloaded'}}
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\LLMModels.py", line 49, in query
    response = self.client.messages.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_utils\_utils.py", line 275, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\resources\messages\messages.py", line 904, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1282, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 959, in request
    return self._request(
           ^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1048, in _request
    return self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1097, in _retry_request
    return self._request(
           ^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1048, in _request
    return self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1097, in _retry_request
    return self._request(
           ^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1063, in _request
    raise self._make_status_error_from_response(err.response) from None
anthropic.InternalServerError: Error code: 529 - {'type': 'error', 'error': {'type': 'overloaded_error', 'message': 'Overloaded'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\error_handler.py", line 45, in safe_execute
    return operation()
           ^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 126, in <lambda>
    operation=lambda: self._get_translation_impl(word),
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\queris.py", line 81, in _get_translation_impl
    model_response = self.lmm.query(word, self.translation_prompt)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\src\LLMModels.py", line 68, in query
    raise RuntimeError(f"Anthropic API error: {str(e)}")
RuntimeError: Anthropic API error: Error code: 529 - {'type': 'error', 'error': {'type': 'overloaded_error', 'message': 'Overloaded'}}

2025-03-03 10:42:04,068 - error_handler        - INFO  - Asking for retry: Word Translation Error for 'leg': An error occured: Anthropic API error: Error code: 529 - {'type': 'error', 'error': {'type': 'overloaded_error', 'message': 'Overloaded'}}

Would you like to retry?
2025-03-03 10:43:31,280 - LLMModels            - INFO  - Requesting: leg
2025-03-03 10:43:31,283 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'leg'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\nJeli dane sowo jest typowe dla jednej odmiany angielskiego, podaj do jakiej naley.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n6. Obsuguj take sowa wulgarne i nieodpowiednie, cao suy tylko celom edukacyjnym.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-03-03 10:43:31,294 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-03-03 10:43:31,294 - httpcore.connection  - DEBUG - close.started
2025-03-03 10:43:31,294 - httpcore.connection  - DEBUG - close.complete
2025-03-03 10:43:31,294 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-03-03 10:43:31,326 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002377C028AD0>
2025-03-03 10:43:31,326 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000023779A4F8D0> server_hostname='api.anthropic.com' timeout=600
2025-03-03 10:43:31,342 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000023779011E20>
2025-03-03 10:43:31,343 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-03 10:43:31,344 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-03-03 10:43:31,344 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-03 10:43:31,345 - httpcore.http11      - DEBUG - send_request_body.complete
2025-03-03 10:43:31,346 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-03 10:43:33,847 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 529, b'', [(b'Date', b'Mon, 03 Mar 2025 09:43:32 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'75'), (b'Connection', b'keep-alive'), (b'x-should-retry', b'true'), (b'request-id', b'req_018TYe2TwutG47VVDsFFowi8'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'Cache-Control', b'no-store, no-cache'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91a83099c957b1b8-WAW')])
2025-03-03 10:43:33,849 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 529 "
2025-03-03 10:43:33,849 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-03 10:43:33,850 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-03-03 10:43:33,851 - httpcore.http11      - DEBUG - response_closed.started
2025-03-03 10:43:33,851 - httpcore.http11      - DEBUG - response_closed.complete
2025-03-03 10:43:33,852 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "529 " Headers({'date': 'Mon, 03 Mar 2025 09:43:32 GMT', 'content-type': 'application/json', 'content-length': '75', 'connection': 'keep-alive', 'x-should-retry': 'true', 'request-id': 'req_018TYe2TwutG47VVDsFFowi8', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cache-control': 'no-store, no-cache', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91a83099c957b1b8-WAW'})
2025-03-03 10:43:33,856 - anthropic._base_client - DEBUG - request_id: req_018TYe2TwutG47VVDsFFowi8
2025-03-03 10:43:33,857 - anthropic._base_client - DEBUG - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\anthropic\_base_client.py", line 1042, in _request
    response.raise_for_status()
  File "C:\Users\BArtosz\Repos\AnkiAdder 3.0\.venv\Lib\site-packages\httpx\_models.py", line 761, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '529 ' for url 'https://api.anthropic.com/v1/messages'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/529
2025-03-03 10:43:33,860 - anthropic._base_client - DEBUG - Retrying as header `x-should-retry` is set to `true`
2025-03-03 10:43:33,860 - anthropic._base_client - DEBUG - 2 retries left
2025-03-03 10:43:33,861 - anthropic._base_client - INFO  - Retrying request to /v1/messages in 0.414286 seconds
2025-03-03 10:43:34,276 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'leg'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\nJeli dane sowo jest typowe dla jednej odmiany angielskiego, podaj do jakiej naley.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n6. Obsuguj take sowa wulgarne i nieodpowiednie, cao suy tylko celom edukacyjnym.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-03-03 10:43:34,284 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-03-03 10:43:34,285 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-03 10:43:34,287 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-03-03 10:43:34,288 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-03 10:43:34,289 - httpcore.http11      - DEBUG - send_request_body.complete
2025-03-03 10:43:34,290 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-03 10:43:42,055 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 03 Mar 2025 09:43:40 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-03-03T09:43:33Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-03-03T09:43:38Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-03-03T09:43:40Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-03-03T09:43:38Z'), (b'request-id', b'req_01TPjX249Kjva3o3pkgjwdGe'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91a830ac29f2b1b8-WAW'), (b'Content-Encoding', b'gzip')])
2025-03-03 10:43:42,055 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-03-03 10:43:42,072 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-03 10:43:42,072 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-03-03 10:43:42,075 - httpcore.http11      - DEBUG - response_closed.started
2025-03-03 10:43:42,076 - httpcore.http11      - DEBUG - response_closed.complete
2025-03-03 10:43:42,076 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 03 Mar 2025 09:43:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-03-03T09:43:33Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-03-03T09:43:38Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-03-03T09:43:40Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-03-03T09:43:38Z', 'request-id': 'req_01TPjX249Kjva3o3pkgjwdGe', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91a830ac29f2b1b8-WAW', 'content-encoding': 'gzip'})
2025-03-03 10:43:42,078 - anthropic._base_client - DEBUG - request_id: req_01TPjX249Kjva3o3pkgjwdGe
2025-03-03 10:43:42,090 - LLMModels            - INFO  - 
Cache_creation_input_tokens=0
cache_read_input_tokens=1546
input_tokens=8
output_tokens=234
Cache hit rate: 99.5%
Tokens saved: 1546
2025-03-03 10:43:42,092 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "noga": "5/5",
        "odne": "2/5",
        "podpora": "2/5"
    },
    "Uycie": "Rzeczownik, cz ciaa suca do chodzenia lub element podporowy",
    "Zdanie": "She broke her leg skiing.",
    "Tumaczenie": "Zamaa nog podczas jazdy na nartach.",
    "Czstotliwo": "5/5, A1",
    "Konteksty": ["anatomia", "meble", "sport"],
    "Synonimy": {
        "limb": "koczyna - 3/5",
        "stem": "nka (mebla) - 2/5",
        "support": "podpora - 3/5"
    },
    "is_word_correct": "ok"
}
2025-03-03 10:43:42,094 - formatter            - INFO  - JSON is valid and properly formatted.
2025-03-03 10:43:42,095 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' noga: 5/5\n odne: 2/5\n podpora: 2/5'), ('Uycie', 'Rzeczownik, cz ciaa suca do chodzenia lub element podporowy'), ('Zdanie', 'She broke her leg skiing.'), ('Tumaczenie', 'Zamaa nog podczas jazdy na nartach.'), ('Czstotliwo', '5/5, A1'), ('Konteksty', 'anatomia, meble, sport'), ('Synonimy', ' limb: koczyna - 3/5\n stem: nka (mebla) - 2/5\n support: podpora - 3/5'), ('is_word_correct', 'ok')]
2025-03-03 10:43:42,097 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-03-03 10:43:42,098 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-03-03 10:43:42,098 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-03-03 10:44:09,487 - gui.components.repository - INFO  - Repository window colsed.
2025-03-03 10:53:53,539 - httpcore.connection  - DEBUG - close.started
2025-03-03 10:53:53,544 - httpcore.connection  - DEBUG - close.complete
2025-03-03 10:54:20,003 - __main__             - INFO  - Launching AnkiAdder.
2025-03-03 10:54:20,003 - anki_adder           - INFO  - AnkiAdder init.
2025-03-03 10:54:20,003 - events               - INFO  - EventManager init.
2025-03-03 10:54:20,003 - gui.main_window      - INFO  - MainWindow init.
2025-03-03 10:54:20,135 - gui.components.word_input - INFO  - WordInput init.
2025-03-03 10:54:20,160 - gui.components.repository - INFO  - Repository init.
2025-03-03 10:54:20,161 - word_repository      - INFO  - WordRepository init.
2025-03-03 10:54:20,161 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-03-03 10:54:20,163 - word_repository      - DEBUG - ['leg', 'pen', 'music', 'poop', 'mount', 'looking', 'battle']
2025-03-03 10:54:20,163 - word_repository      - INFO  - Words loaded successfully.
2025-03-03 10:54:20,167 - LLMModels            - INFO  - API key loaded successfully.
2025-03-03 10:54:20,168 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-03 10:54:20,173 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-03-03 10:54:21,196 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-03-03 10:54:21,196 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-03-03 10:54:21,196 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-03-03 10:54:21,196 - anki_adder           - DEBUG - Refresh gui.
2025-03-03 10:54:21,196 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-03-03 10:54:21,196 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-03-03 10:54:21,196 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-03-03 10:54:21,196 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-03-03 10:54:21,196 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-03-03 10:54:21,196 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-03-03 10:54:21,196 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-03-03 10:54:21,196 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-03-03 10:54:21,211 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-03-03 10:54:21,211 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-03-03 10:54:21,212 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-03-03 10:54:21,212 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-03-03 10:54:21,214 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-03-03 10:54:21,215 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-03-03 10:54:21,215 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-03-03 10:54:30,544 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-03-03 10:54:30,545 - anki_adder           - DEBUG - Show repositry.
2025-03-03 10:54:30,546 - gui.components.repository - INFO  - List reloaded in the repository window.
2025-03-03 10:54:31,771 - gui.components.repository - INFO  - Repository window colsed.
2025-03-03 10:56:05,961 - __main__             - INFO  - Launching AnkiAdder.
2025-03-03 10:56:05,961 - anki_adder           - INFO  - AnkiAdder init.
2025-03-03 10:56:05,961 - events               - INFO  - EventManager init.
2025-03-03 10:56:05,961 - gui.main_window      - INFO  - MainWindow init.
2025-03-03 10:56:06,103 - gui.components.word_input - INFO  - WordInput init.
2025-03-03 10:56:06,129 - gui.components.repository - INFO  - Repository init.
2025-03-03 10:56:06,129 - word_repository      - INFO  - WordRepository init.
2025-03-03 10:56:06,129 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-03-03 10:56:06,129 - word_repository      - DEBUG - ['leg', 'pen', 'music', 'poop', 'mount', 'looking', 'battle']
2025-03-03 10:56:06,129 - word_repository      - INFO  - Words loaded successfully.
2025-03-03 10:56:06,129 - LLMModels            - INFO  - API key loaded successfully.
2025-03-03 10:56:06,129 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-03 10:56:06,139 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-03-03 10:56:07,019 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-03-03 10:56:07,035 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-03-03 10:56:07,036 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-03-03 10:56:07,036 - anki_adder           - DEBUG - Refresh gui.
2025-03-03 10:56:07,036 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-03-03 10:56:07,039 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-03-03 10:56:07,039 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-03-03 10:56:07,040 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-03-03 10:56:07,040 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-03-03 10:56:07,041 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-03-03 10:56:07,041 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-03-03 10:56:07,043 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-03-03 10:56:07,043 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-03-03 10:56:07,044 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-03-03 10:56:07,044 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-03-03 10:56:07,045 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-03-03 10:56:07,045 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-03-03 10:56:07,046 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-03-03 10:56:07,046 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-03-03 10:56:26,926 - __main__             - INFO  - Launching AnkiAdder.
2025-03-03 10:56:26,926 - anki_adder           - INFO  - AnkiAdder init.
2025-03-03 10:56:26,926 - events               - INFO  - EventManager init.
2025-03-03 10:56:26,926 - gui.main_window      - INFO  - MainWindow init.
2025-03-03 10:56:27,042 - gui.components.word_input - INFO  - WordInput init.
2025-03-03 10:56:27,078 - gui.components.repository - INFO  - Repository init.
2025-03-03 10:56:27,080 - word_repository      - INFO  - WordRepository init.
2025-03-03 10:56:27,080 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-03-03 10:56:27,081 - word_repository      - DEBUG - ['leg', 'pen', 'music', 'poop', 'mount', 'looking', 'battle']
2025-03-03 10:56:27,082 - word_repository      - INFO  - Words loaded successfully.
2025-03-03 10:56:27,084 - LLMModels            - INFO  - API key loaded successfully.
2025-03-03 10:56:27,085 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-03 10:56:27,088 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-03-03 10:56:27,973 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-03-03 10:56:27,973 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-03-03 10:56:27,973 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-03-03 10:56:27,973 - anki_adder           - DEBUG - Refresh gui.
2025-03-03 10:56:27,973 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-03-03 10:56:27,973 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-03-03 10:56:27,973 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-03-03 10:56:27,973 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-03-03 10:56:27,973 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-03-03 10:56:27,982 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-03-03 10:56:27,982 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-03-03 10:56:27,983 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-03-03 10:56:27,984 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-03-03 10:56:27,984 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-03-03 10:56:27,985 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-03-03 10:56:27,985 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-03-03 10:56:27,986 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-03-03 10:56:27,986 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-03-03 10:56:27,987 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-03-03 10:57:05,017 - __main__             - INFO  - Launching AnkiAdder.
2025-03-03 10:57:05,033 - anki_adder           - INFO  - AnkiAdder init.
2025-03-03 10:57:05,033 - events               - INFO  - EventManager init.
2025-03-03 10:57:05,033 - gui.main_window      - INFO  - MainWindow init.
2025-03-03 10:57:05,150 - gui.components.word_input - INFO  - WordInput init.
2025-03-03 10:57:05,185 - gui.components.repository - INFO  - Repository init.
2025-03-03 10:57:05,185 - word_repository      - INFO  - WordRepository init.
2025-03-03 10:57:05,185 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-03-03 10:57:05,185 - word_repository      - DEBUG - ['leg', 'pen', 'music', 'poop', 'mount', 'looking', 'battle']
2025-03-03 10:57:05,185 - word_repository      - INFO  - Words loaded successfully.
2025-03-03 10:57:05,185 - LLMModels            - INFO  - API key loaded successfully.
2025-03-03 10:57:05,185 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-03 10:57:05,200 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-03-03 10:57:06,319 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-03-03 10:57:06,319 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-03-03 10:57:06,319 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-03-03 10:57:06,319 - anki_adder           - DEBUG - Refresh gui.
2025-03-03 10:57:06,319 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-03-03 10:57:06,319 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-03-03 10:57:06,319 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-03-03 10:57:06,319 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-03-03 10:57:06,319 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-03-03 10:57:06,319 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-03-03 10:57:06,335 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-03-03 10:57:06,336 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-03-03 10:57:06,336 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-03-03 10:57:06,337 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-03-03 10:57:06,338 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-03-03 10:57:06,338 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-03-03 10:57:06,339 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-03-03 10:57:06,339 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-03-03 10:57:06,340 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-03-03 11:03:08,469 - __main__             - INFO  - Launching AnkiAdder.
2025-03-03 11:03:08,469 - anki_adder           - INFO  - AnkiAdder init.
2025-03-03 11:03:08,469 - events               - INFO  - EventManager init.
2025-03-03 11:03:08,469 - gui.main_window      - INFO  - MainWindow init.
2025-03-03 11:03:08,579 - gui.components.word_input - INFO  - WordInput init.
2025-03-03 11:03:08,616 - gui.components.repository - INFO  - Repository init.
2025-03-03 11:03:08,617 - word_repository      - INFO  - WordRepository init.
2025-03-03 11:03:08,618 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-03-03 11:03:08,619 - word_repository      - DEBUG - ['leg', 'pen', 'music', 'poop', 'mount', 'looking', 'battle']
2025-03-03 11:03:08,619 - word_repository      - INFO  - Words loaded successfully.
2025-03-03 11:03:08,621 - LLMModels            - INFO  - API key loaded successfully.
2025-03-03 11:03:08,621 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-03 11:03:08,627 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-03-03 11:03:09,520 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-03-03 11:03:09,520 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-03-03 11:03:09,520 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-03-03 11:03:09,520 - anki_adder           - DEBUG - Refresh gui.
2025-03-03 11:03:09,520 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-03-03 11:03:09,520 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-03-03 11:03:09,520 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-03-03 11:03:09,520 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-03-03 11:03:09,534 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-03-03 11:03:09,534 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-03-03 11:03:09,535 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-03-03 11:03:09,535 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-03-03 11:03:09,537 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-03-03 11:03:09,537 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-03-03 11:03:09,538 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-03-03 11:03:09,539 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-03-03 11:03:09,539 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-03-03 11:03:09,540 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-03-03 11:03:09,540 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-03-03 11:03:11,529 - events               - INFO  - Emiting EventType.SHOW_REPOSITORY event to _handle_show_repository.
2025-03-03 11:03:11,530 - anki_adder           - DEBUG - Show repositry.
2025-03-03 11:03:15,359 - gui.components.repository - INFO  - Repository window colsed.
2025-03-03 11:04:26,349 - __main__             - INFO  - Launching AnkiAdder.
2025-03-03 11:04:26,350 - anki_adder           - INFO  - AnkiAdder init.
2025-03-03 11:04:26,350 - events               - INFO  - EventManager init.
2025-03-03 11:04:26,351 - gui.main_window      - INFO  - MainWindow init.
2025-03-03 11:04:26,465 - gui.components.word_input - INFO  - WordInput init.
2025-03-03 11:04:26,490 - gui.components.repository - INFO  - Repository init.
2025-03-03 11:04:26,497 - word_repository      - INFO  - WordRepository init.
2025-03-03 11:04:26,499 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-03-03 11:04:26,500 - word_repository      - DEBUG - ['leg', 'pen', 'music', 'poop', 'mount', 'looking', 'battle']
2025-03-03 11:04:26,500 - word_repository      - INFO  - Words loaded successfully.
2025-03-03 11:04:26,500 - LLMModels            - INFO  - API key loaded successfully.
2025-03-03 11:04:26,500 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-03 11:04:26,507 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-03-03 11:04:27,382 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-03-03 11:04:27,382 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-03-03 11:04:27,382 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-03-03 11:04:27,382 - anki_adder           - DEBUG - Refresh gui.
2025-03-03 11:04:27,382 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-03-03 11:04:27,382 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-03-03 11:04:27,382 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-03-03 11:04:27,382 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-03-03 11:04:27,382 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-03-03 11:04:27,382 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-03-03 11:04:27,382 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-03-03 11:04:27,395 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-03-03 11:04:27,395 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-03-03 11:04:27,396 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-03-03 11:04:27,396 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-03-03 11:04:27,396 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-03-03 11:04:27,397 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-03-03 11:04:27,398 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-03-03 11:04:27,399 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-03-03 11:06:58,498 - __main__             - INFO  - Launching AnkiAdder.
2025-03-03 11:06:58,498 - anki_adder           - INFO  - AnkiAdder init.
2025-03-03 11:06:58,498 - events               - INFO  - EventManager init.
2025-03-03 11:06:58,498 - gui.main_window      - INFO  - MainWindow init.
2025-03-03 11:06:58,615 - gui.components.word_input - INFO  - WordInput init.
2025-03-03 11:06:58,640 - gui.components.repository - INFO  - Repository init.
2025-03-03 11:06:58,640 - word_repository      - INFO  - WordRepository init.
2025-03-03 11:06:58,640 - word_repository      - INFO  - Loading words to repository: data\word_database.txt
2025-03-03 11:06:58,649 - word_repository      - DEBUG - ['leg', 'pen', 'music', 'poop', 'mount', 'looking', 'battle']
2025-03-03 11:06:58,650 - word_repository      - INFO  - Words loaded successfully.
2025-03-03 11:06:58,650 - LLMModels            - INFO  - API key loaded successfully.
2025-03-03 11:06:58,653 - httpx                - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-03 11:06:58,657 - httpx                - DEBUG - load_verify_locations cafile='C:\\Users\\BArtosz\\Repos\\AnkiAdder 3.0\\.venv\\Lib\\site-packages\\certifi\\cacert.pem'
2025-03-03 11:06:59,531 - queris               - INFO  - Successfully loaded prompt: ConfigKey.TRANSLATION
2025-03-03 11:06:59,531 - queris               - INFO  - Successfully loaded prompt: ConfigKey.SENTENCE
2025-03-03 11:06:59,547 - queris               - INFO  - Successfully loaded prompt: ConfigKey.FIND_WORD
2025-03-03 11:06:59,548 - anki_adder           - DEBUG - Refresh gui.
2025-03-03 11:06:59,548 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-03-03 11:06:59,548 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_FRONT.
2025-03-03 11:06:59,548 - events               - INFO  - _handle_word_submit_front subscribes EventType.WORD_SUBMIT_FRONT.
2025-03-03 11:06:59,548 - events               - INFO  - Adding new event type: EventType.WORD_SUBMIT_BACK.
2025-03-03 11:06:59,548 - events               - INFO  - _handle_word_submit_back subscribes EventType.WORD_SUBMIT_BACK.
2025-03-03 11:06:59,552 - events               - INFO  - Adding new event type: EventType.SENTENCE_CORRECTIONS.
2025-03-03 11:06:59,552 - events               - INFO  - _handle_get_sentence_corrections subscribes EventType.SENTENCE_CORRECTIONS.
2025-03-03 11:06:59,553 - events               - INFO  - Adding new event type: EventType.ADD_FLASHCARD.
2025-03-03 11:06:59,553 - events               - INFO  - _handle_add_flashcard subscribes EventType.ADD_FLASHCARD.
2025-03-03 11:06:59,554 - events               - INFO  - Adding new event type: EventType.SHOW_REPOSITORY.
2025-03-03 11:06:59,554 - events               - INFO  - _handle_show_repository subscribes EventType.SHOW_REPOSITORY.
2025-03-03 11:06:59,555 - events               - INFO  - Adding new event type: EventType.DELETE_WORD.
2025-03-03 11:06:59,555 - events               - INFO  - _handle_repository_delete subscribes EventType.DELETE_WORD.
2025-03-03 11:06:59,556 - events               - INFO  - Adding new event type: EventType.EDIT_WORD.
2025-03-03 11:06:59,557 - events               - INFO  - _handle_repository_edit subscribes EventType.EDIT_WORD.
2025-03-03 11:07:10,384 - events               - INFO  - Emiting EventType.WORD_SUBMIT_FRONT event to _handle_word_submit_front.
2025-03-03 11:07:10,384 - anki_adder           - DEBUG - Word submit front
2025-03-03 11:07:10,385 - word_repository      - INFO  - Pushing front nawyk.
2025-03-03 11:07:10,386 - word_repository      - INFO  - Saving words from repository to data\word_database.txt.
2025-03-03 11:07:10,387 - word_repository      - DEBUG - ['nawyk', 'leg', 'pen', 'music', 'poop', 'mount', 'looking', 'battle']
2025-03-03 11:07:10,388 - word_repository      - INFO  - Words saved successfully.
2025-03-03 11:07:10,388 - word_repository      - INFO  - Word pushed front successfully. Beginning word changed: True
2025-03-03 11:07:10,389 - anki_adder           - DEBUG - Refresh gui.
2025-03-03 11:07:10,389 - gui.components.repository - DEBUG - Repository winodw is not opne, Skipping reload.
2025-03-03 11:07:10,390 - anki_adder           - INFO  - Getting new translation
2025-03-03 11:07:10,391 - word_repository      - INFO  - Getting the top word: nawyk
2025-03-03 11:07:10,391 - queris               - DEBUG - Safe execution of get word translaniton
2025-03-03 11:07:10,392 - LLMModels            - INFO  - Requesting: nawyk
2025-03-03 11:07:10,395 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': 'nawyk'}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste sownikiem angielskiego i ekspertem jzykowym. \nTwoje zadanie to dostarczy szczegowe informacje o podanym sowie angielskim w formacie JSON. \nOto dokadne instrukcje:\n\n0. Zwr JSON bez adnych dodatkw, nie dodawaj nigdzie sowa json.\n\n1. Otrzymasz jedno sowo w jzyku angielskim lub polskim.\n\n1.1 Wtedy i tylko wtedy gdy sowo jest w jzyku poslkim, tumaczysz je na sowo angielskie\n(np. dla sowa "kot", tumaczysz na "cat") i dalej postpujesz tak jakby dosta od razu\nsowo w jzyku angielski.\n\n2. Zwr informacje w nastpujcym formacie JSON:\n\n{\n    "Tumaczenia": {\n        "polskie_tumaczenie_1": "czstotliwo/5",\n        "polskie_tumaczenie_2": "czstotliwo/5",\n        ...\n    },\n    "Uycie": "Rzeczownik,krtki opis uycia sowa",\n    "Zdanie": "Przykadowe zdanie po angielsku (5-6 wyrazw)",\n    "Tumaczenie": "Tumaczenie przykadowego zdania na polski",\n    "Czstotliwo": "X/5, Y",\n    "Konteksty": ["kontekst1", "kontekst2", ...],\n    "Synonimy": {\n        "synonim1": "tumaczenie - czstotliwo/5",\n        "synonim2": "tumaczenie - czstotliwo/5",\n        ...\n    "is_word_correct":"ok",\n    }\n}\n\n3. Zasady:\n- W "Tumaczenia" podaj 3-5 najczstszych tumacze z czstotliwoci.\n- "Uycie" powinno by zwizym opisem, na jego pocztku podaj jaka jest to cz mowy.\nJeli dane sowo jest typowe dla jednej odmiany angielskiego, podaj do jakiej naley.\n- "Zdanie" powinno zawiera 5-6 wyrazw i przedstawia popularny kontekst uycia.\n- W "Czstotliwo" podaj czstotliwo w skali 1-5 oraz poziom CEFR (np. "5/5, A1").\n- "Konteksty" to lista zawierajca 1-3 najpopularniejsze konteksty uycia.\n- W "Synonimy" podaj 2-4 synonimy z tumaczeniem i czstotliwoci.\n- W "is word correct" podaj poprawnie zapisany wyraz jeeli angielski wyraz, ktry\n    podam zosta zapisany z bdem, literwk. Jeeli wyraz zosta zapisany bezbdnie podaj "ok"\n\n4. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n5. Zwr JSON bez adnych dodatkw, szczeglnie nie umieszczaj nigdzie informacji, e \noutuptem bdzie json.\n6. Obsuguj take sowa wulgarne i nieodpowiednie, cao suy tylko celom edukacyjnym.\n\nPrzykady:\n\nPrzykad 1 (dla sowa "book"):\n{\n    "Tumaczenia": {\n        "ksika": "5/5",\n        "rezerwowa": "3/5",\n        "zamawia": "2/5"\n    },\n    "Uycie": "Rzeczownik, obiekt zawierajcy zapisane informacje lub Czasownik, rezerwowa co",\n    "Zdanie": "I love reading this book.",\n    "Tumaczenie": "Uwielbiam czyta t ksik.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["literatura", "edukacja", "rezerwacje"],\n    "Synonimy": {\n        "novel": "powie - 4/5",\n        "tome": "tom - 2/5",\n        "reserve": "rezerwowa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 2 (dla sowa "run"):\n{\n    "Tumaczenia": {\n        "biega": "5/5",\n        "prowadzi": "4/5",\n        "uruchamia": "3/5",\n        "bieg": "3/5"\n    },\n    "Uycie": "Czasownik, porusza si szybko lub Rzeczownik, akt biegania",\n    "Zdanie": "She runs every morning.",\n    "Tumaczenie": "Ona biega kadego ranka.",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["sport", "zarzdzanie", "komputery"],\n    "Synonimy": {\n        "jog": "truchta - 4/5",\n        "sprint": "sprintowa - 3/5",\n        "operate": "obsugiwa - 3/5"\n    },\n    "is_word_correct": "ok"\n}\n\nPrzykad 3 (dla bdnie zapisanego sowa "helo"):\n{\n    "Tumaczenia": {\n        "cze": "5/5",\n        "witaj": "4/5"\n    },\n    "Uycie": "Wykrzyknik, powitanie lub zwrcenie uwagi",\n    "Zdanie": "Hello, how are you today?",\n    "Tumaczenie": "Cze, jak si masz dzisiaj?",\n    "Czstotliwo": "5/5, A1",\n    "Konteksty": ["powitania", "rozmowy telefoniczne", "pozdrowienia"],\n    "Synonimy": {\n        "hi": "cze - 5/5",\n        "greetings": "pozdrowienia - 3/5"\n    },\n    "is_word_correct": "hello"\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-03-03 11:07:11,668 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-03-03 11:07:11,684 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-03-03 11:07:11,738 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020CB6F3FE60>
2025-03-03 11:07:11,738 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020CB764F950> server_hostname='api.anthropic.com' timeout=600
2025-03-03 11:07:11,755 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020CB767BA10>
2025-03-03 11:07:11,756 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-03 11:07:11,757 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-03-03 11:07:11,757 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-03 11:07:11,758 - httpcore.http11      - DEBUG - send_request_body.complete
2025-03-03 11:07:11,758 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-03 11:07:16,752 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 03 Mar 2025 10:07:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-03-03T10:07:12Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'39000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-03-03T10:07:14Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-03-03T10:07:16Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'47000'), (b'anthropic-ratelimit-tokens-reset', b'2025-03-03T10:07:14Z'), (b'request-id', b'req_01Ua2BRGn7jSXFEPKsM2BkFa'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91a85350edfbef99-WAW'), (b'Content-Encoding', b'gzip')])
2025-03-03 11:07:16,752 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-03-03 11:07:16,752 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-03 11:07:16,752 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-03-03 11:07:16,752 - httpcore.http11      - DEBUG - response_closed.started
2025-03-03 11:07:16,752 - httpcore.http11      - DEBUG - response_closed.complete
2025-03-03 11:07:16,762 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 03 Mar 2025 10:07:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-03-03T10:07:12Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '39000', 'anthropic-ratelimit-input-tokens-reset': '2025-03-03T10:07:14Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-03-03T10:07:16Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '47000', 'anthropic-ratelimit-tokens-reset': '2025-03-03T10:07:14Z', 'request-id': 'req_01Ua2BRGn7jSXFEPKsM2BkFa', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91a85350edfbef99-WAW', 'content-encoding': 'gzip'})
2025-03-03 11:07:16,764 - anthropic._base_client - DEBUG - request_id: req_01Ua2BRGn7jSXFEPKsM2BkFa
2025-03-03 11:07:16,773 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1631
cache_read_input_tokens=0
input_tokens=9
output_tokens=218
Cache hit rate: 0.0%
Tokens saved: 0
2025-03-03 11:07:16,773 - formatter            - DEBUG - json str:{
    "Tumaczenia": {
        "habit": "5/5",
        "custom": "3/5",
        "practice": "2/5"
    },
    "Uycie": "Rzeczownik, regularnie powtarzane zachowanie lub dziaanie",
    "Zdanie": "Smoking is a bad habit.",
    "Tumaczenie": "Palenie jest zym nawykiem.",
    "Czstotliwo": "4/5, B1",
    "Konteksty": ["psychologia", "zachowanie", "rutyna"],
    "Synonimy": {
        "routine": "rutyna - 4/5",
        "tendency": "tendencja - 3/5",
        "pattern": "wzorzec - 3/5"
    },
    "is_word_correct": "ok"
}
2025-03-03 11:07:16,781 - formatter            - INFO  - JSON is valid and properly formatted.
2025-03-03 11:07:16,782 - formatter            - DEBUG - formatted parts: [('Tumaczenia', ' habit: 5/5\n custom: 3/5\n practice: 2/5'), ('Uycie', 'Rzeczownik, regularnie powtarzane zachowanie lub dziaanie'), ('Zdanie', 'Smoking is a bad habit.'), ('Tumaczenie', 'Palenie jest zym nawykiem.'), ('Czstotliwo', '4/5, B1'), ('Konteksty', 'psychologia, zachowanie, rutyna'), ('Synonimy', ' routine: rutyna - 4/5\n tendency: tendencja - 3/5\n pattern: wzorzec - 3/5'), ('is_word_correct', 'ok')]
2025-03-03 11:07:16,783 - queris               - DEBUG - Found key ResponseField.IS_WORD_CORRECT, adding to dict
2025-03-03 11:07:16,784 - queris               - DEBUG - There is 'ResponseField.IS_WORD_CORRECT in fields'
2025-03-03 11:07:16,785 - queris               - DEBUG - Removed validation element 'is_word_correct' from result.
2025-03-03 11:07:59,911 - events               - INFO  - Emiting EventType.SENTENCE_CORRECTIONS event to _handle_get_sentence_corrections.
2025-03-03 11:07:59,911 - word_repository      - INFO  - Getting the top word: nawyk
2025-03-03 11:07:59,911 - anki_adder           - DEBUG - Geting sencetnce corrections
2025-03-03 11:07:59,911 - queris               - DEBUG - Safe execution of get sentence corrections
2025-03-03 11:07:59,911 - LLMModels            - INFO  - Requesting: I don't have this habit of making my bed.
2025-03-03 11:07:59,911 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "I don't have this habit of making my bed."}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem jzyka angielskiego, specjalizujcym si w konstrukcji zda. \nTwoje zadanie to analizowa podane zdania angielskie i zwraca ocen w formacie JSON. \nOto szczegowe instrukcje:\n\n1. Otrzymasz jedno zdanie w jzyku angielskim.\n\n2. Przeanalizuj zdanie pod ktem poprawnoci gramatycznej i naturalnoci jzykowej.\n\n3. Zwr analiz w nastpujcym formacie JSON:\n\n{\n    "Poprawno gramatyczna": "Krtka ocena poprawnoci gramatycznej, wyjanij co jest le",\n    "Naturalno jzykowa": "Krtka ocena naturalnoci, zrozumiaoci i idiomatycznoci, wyjanij co jest le",\n    "Zdanie angielskie": "Poprawione lub oryginalne zdanie z prawidow interpunkcj",\n    "Tumaczenie zdania": "Tumaczenie zdania na jzyk polski",\n    "notatka": "Dodatkowa uwaga lub \'Brak\'"\n}\n\n4. Zasady dla kadego pola:\n- "Poprawno gramatyczna": Opisz bdy gramatyczne lub napisz "Poprawne".\n- "Naturalno jzykowa": Oce naturalno, podaj sugestie lub napisz "Poprawne", jeli zdanie zawiera wyraz,\nktry nie pasuje do reszty napisz, ktry to i dlaczego nie pasuje, podaj take jak mona zmieni zdanie aby wyraz pasowa.\n- "Zdanie angielskie": Podaj poprawion wersj lub orygina, jeli jest poprawny, ale nie zmieniaj sw.\n- "Tumaczenie zdania": Przetumacz zdanie na polski.\n- "notatka": Dodaj istotn uwag dotyczc nauki angielskiego lub wpisz "Brak".\n\n5. Wszystkie odpowiedzi powinny by zwize i konkretne.\n\n6. Zwr TYLKO czysty JSON, bez adnego dodatkowego tekstu przed lub po.\n\n7. Obsuguj take zdania wulgarne i nieodpowiednie, cao suy tylko celom edukacyjnym.\n\nPrzykady:\nZapytnie:"the quick brown fox jumps over the lazy dog"\nOdpowied:{\n"Poprawno gramatyczna": "Poprawne",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "The quick brown fox jumps over the lazy dog.",\n"Tumaczenie zdania": "Szybki brzowy lis przeskakuje nad leniwym psem.",\n"notatka": "To zdanie zawiera wszystkie litery alfabetu angielskiego."\n}\nZapytnie:"i has been very much enjoying learning english"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w czasie - powinno by \'have been\' zamiast \'has been\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'very much\' - lepiej uy \'really\' lub pomin",\n"Zdanie angielskie": "I have been very much enjoying learning English.",\n"Tumaczenie zdania": "Bardzo cieszyem si z nauki angielskiego.",\n"notatka": "Brak"\n}\nZapytnie: "I have been never to Paris"\nOdpowied:{\n"Poprawno gramatyczna": "Bd w szyku zdania - \'never\' powinno by przed czasownikiem",\n"Naturalno jzykowa": "Poprawne",\n"Zdanie angielskie": "I have never been to Paris.",\n"Tumaczenie zdania": "Nigdy nie byem w Paryu.",\n"notatka": "\'Never\' to przyswek czstotliwoci, ktry zwykle umieszcza si przed czasownikiem gwnym."\n}\nZapytnie: "New York is a big city but it has many quiet neighborhoods."\nOdpowied:{\n"Poprawno gramatyczna": "Brak przecinka przed \'but\'",\n"Naturalno jzykowa": "Nienaturalne uycie \'big\' - lepiej uy \'large\' w odniesieniu do miasta",\n"Zdanie angielskie": "New York is a large city, but it has many quiet neighborhoods.",\n"Tumaczenie zdania": "Nowy Jork to due miasto, ale ma wiele spokojnych dzielnic.",\n"notatka": "W jzyku angielskim przed spjnikami przeciwstawnymi jak \'but\' zwykle stawia si przecinek."\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-03-03 11:07:59,924 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-03-03 11:07:59,925 - httpcore.connection  - DEBUG - close.started
2025-03-03 11:07:59,927 - httpcore.connection  - DEBUG - close.complete
2025-03-03 11:07:59,927 - httpcore.connection  - DEBUG - connect_tcp.started host='api.anthropic.com' port=443 local_address=None timeout=600 socket_options=None
2025-03-03 11:07:59,931 - httpcore.connection  - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020CB7693A40>
2025-03-03 11:07:59,931 - httpcore.connection  - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020CB764F950> server_hostname='api.anthropic.com' timeout=600
2025-03-03 11:07:59,945 - httpcore.connection  - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020CB7693950>
2025-03-03 11:07:59,945 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-03 11:07:59,945 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-03-03 11:07:59,945 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-03 11:07:59,945 - httpcore.http11      - DEBUG - send_request_body.complete
2025-03-03 11:07:59,945 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-03 11:08:03,646 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 03 Mar 2025 10:08:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-03-03T10:08:00Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-03-03T10:08:01Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-03-03T10:08:03Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-03-03T10:08:01Z'), (b'request-id', b'req_01EhCVouKKr8hDzynwR9Ffb3'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91a8547e1ed8ecc4-WAW'), (b'Content-Encoding', b'gzip')])
2025-03-03 11:08:03,646 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-03-03 11:08:03,646 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-03 11:08:03,646 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-03-03 11:08:03,646 - httpcore.http11      - DEBUG - response_closed.started
2025-03-03 11:08:03,646 - httpcore.http11      - DEBUG - response_closed.complete
2025-03-03 11:08:03,654 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 03 Mar 2025 10:08:03 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-03-03T10:08:00Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-03-03T10:08:01Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-03-03T10:08:03Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-03-03T10:08:01Z', 'request-id': 'req_01EhCVouKKr8hDzynwR9Ffb3', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91a8547e1ed8ecc4-WAW', 'content-encoding': 'gzip'})
2025-03-03 11:08:03,656 - anthropic._base_client - DEBUG - request_id: req_01EhCVouKKr8hDzynwR9Ffb3
2025-03-03 11:08:03,658 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1233
cache_read_input_tokens=0
input_tokens=18
output_tokens=146
Cache hit rate: 0.0%
Tokens saved: 0
2025-03-03 11:08:03,659 - formatter            - DEBUG - json str:{
"Poprawno gramatyczna": "Poprawne",
"Naturalno jzykowa": "Nienaturalne uycie 'have this habit' - lepiej uy 'I'm not in the habit of'",
"Zdanie angielskie": "I don't have the habit of making my bed.",
"Tumaczenie zdania": "Nie mam zwyczaju cielenia ka.",
"notatka": "Wyraenie 'to be in the habit of doing something' jest bardziej idiomatyczne w jzyku angielskim."
}
2025-03-03 11:08:03,660 - formatter            - INFO  - JSON is valid and properly formatted.
2025-03-03 11:08:03,662 - formatter            - DEBUG - formatted parts: [('Poprawno gramatyczna', 'Poprawne'), ('Naturalno jzykowa', "Nienaturalne uycie 'have this habit' - lepiej uy 'I'm not in the habit of'"), ('Zdanie angielskie', "I don't have the habit of making my bed."), ('Tumaczenie zdania', 'Nie mam zwyczaju cielenia ka.'), ('notatka', "Wyraenie 'to be in the habit of doing something' jest bardziej idiomatyczne w jzyku angielskim.")]
2025-03-03 11:08:03,663 - queris               - DEBUG - Found key ResponseField.ENGLISH_SENTENCE, adding to dict
2025-03-03 11:08:03,664 - queris               - DEBUG - Found key ResponseField.POLISH_SENTENCE, adding to dict
2025-03-03 11:08:03,665 - anki_adder           - DEBUG - Creading flashcard
2025-03-03 11:08:03,665 - queris               - DEBUG - Safe execution of get falshcard
2025-03-03 11:08:03,665 - LLMModels            - INFO  - Requesting: I don't have the habit of making my bed.:nawyk
2025-03-03 11:08:03,665 - anthropic._base_client - DEBUG - Request options: {'method': 'post', 'url': '/v1/messages', 'timeout': 600, 'files': None, 'json_data': {'max_tokens': 1000, 'messages': [{'role': 'user', 'content': "I don't have the habit of making my bed.:nawyk"}], 'model': 'claude-3-5-sonnet-20240620', 'system': [{'type': 'text', 'text': 'Jeste ekspertem angielskiego!'}, {'type': 'text', 'text': 'Jeste ekspertem od tumacze angielsko-polskich. \nTwoim zadaniem jest przetworzenie podanego wejcia i zwrcenie wyniku w formacie JSON. \nOto dokadne instrukcje:\n\n1. Wejcie bdzie zawsze w formacie: "angielskie zdanie, angielski wyraz lub fraza"\n\n2. Twoim zadaniem jest:\na) Zidentyfikowa podany angielski wyraz/fraz w zdaniu.\nb) Przetumaczy ten angielski wyraz/fraz na polski, dostosowujc form gramatyczn do kontekstu zdania.\nc) Zastpi angielski wyraz/fraz polskim tumaczeniem, umieszczajc go w podwjnych nawiasach kwadratowych [[ ]].\nd) Zapamita oryginalny angielski wyraz/fraz, ktry zosta zastpiony.\ne) Jeli dany wyraz/fraza jest typowy dla jednej odmiany angielskiego (np. British English, American English),\nnaley to zaznaczy w polu "Wyraz", dodajc odpowiedni skrt w nawiasach, np. "(BrE)" lub "(AmE)".\n3. Wynik zawsze zwracaj w nastpujcym formacie JSON:\n{\n    "Zdanie": "zmodyfikowane angielskie zdanie z polskim sowem w [[]]",\n    "Wyraz": "oryginalny angielski wyraz lub fraza, ktra zostaa zastpiona"\n}\n\n4. Zasady:\n- Dostosuj form gramatyczn polskiego tumaczenia do kontekstu zdania (liczba, czas, itp.).\n- W kluczu "Zdanie" zawsze umieszczaj polskie tumaczenie w [[ ]].\n- W kluczu "Wyraz" zawsze umieszczaj oryginalny angielski wyraz lub fraz w formie, w jakiej wystpuje w zdaniu.\n- Jeli angielski wyraz/fraza wymaga zmiany formy w polskim tumaczeniu, dokonaj odpowiedniej modyfikacji.\n\n5. Nie dodawaj adnych dodatkowych wyjanie ani komentarzy. Zwr tylko wymagany JSON.\n\nPrzykady:\n\nWejcie: Humans have two legs, leg\nWyjcie:\n{\n"Zdanie": "Humans have two [[nogi]]",\n"Wyraz": "legs"\n}\n\nWejcie: He walked away, walk\nWyjcie:\n{\n"Zdanie": "He [[odszed]] away",\n"Wyraz": "walked"\n}\n\nWejcie: The cats are playing, cat\nWyjcie:\n{\n"Zdanie": "The [[koty]] are playing",\n"Wyraz": "cats"\n}\n\nWejcie: The sun shines brightly today, shines\nWyjcie:\n{\n"Zdanie": "The sun [[wieci]] brightly today",\n"Wyraz": "shines"\n}\n\nWejcie: She bought a new car last week, bought\nWyjcie:\n{\n"Zdanie": "She [[kupia]] a new car last week",\n"Wyraz": "bought"\n}\n\nWejcie: The children are playing in the park, children\nWyjcie:\n{\n"Zdanie": "The [[dzieci]] are playing in the park",\n"Wyraz": "children"\n}\n\nWejcie: I like to eat ice cream in summer, likes\nWyjcie:\n{\n"Zdanie": "I [[lubi]] to eat ice cream in summer",\n"Wyraz": "like"\n}\n\nWejcie: They traveled across Europe last year, traveled\nWyjcie:\n{\n"Zdanie": "They [[podrowali]] across Europe last year",\n"Wyraz": "traveled"\n}\n\nWejcie: The book on the table is mine, books\nWyjcie:\n{\n"Zdanie": "The [[ksika]] on the table is mine",\n"Wyraz": "book"\n}\n\nWejcie: I read the book yesterday, read\nWyjcie:\n{\n"Zdanie": "I [[przeczytaem]] the book yesterday",\n"Wyraz": "read",\n}\n\nWejcie: She sings beautifully, sings\nWyjcie:\n{\n"Zdanie": "She [[piewa]] beautifully",\n"Wyraz": "sings",\n}\n\nWejcie: The dog barks loudly, barks\nWyjcie:\n{\n"Zdanie": "The dog [[szczeka]] loudly",\n"Wyraz": "barks",\n}\n\nWejcie: We ate pizza for dinner, ate\nWyjcie:\n{\n"Zdanie": "We [[jedli]] pizza for dinner",\n"Wyraz": "ate",\n}', 'cache_control': {'type': 'ephemeral'}}]}}
2025-03-03 11:08:03,676 - anthropic._base_client - DEBUG - Sending HTTP Request: POST https://api.anthropic.com/v1/messages
2025-03-03 11:08:03,676 - httpcore.http11      - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-03 11:08:03,678 - httpcore.http11      - DEBUG - send_request_headers.complete
2025-03-03 11:08:03,679 - httpcore.http11      - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-03 11:08:03,679 - httpcore.http11      - DEBUG - send_request_body.complete
2025-03-03 11:08:03,679 - httpcore.http11      - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-03 11:08:08,063 - httpcore.http11      - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 03 Mar 2025 10:08:07 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'anthropic-ratelimit-requests-limit', b'50'), (b'anthropic-ratelimit-requests-remaining', b'49'), (b'anthropic-ratelimit-requests-reset', b'2025-03-03T10:08:04Z'), (b'anthropic-ratelimit-input-tokens-limit', b'40000'), (b'anthropic-ratelimit-input-tokens-remaining', b'40000'), (b'anthropic-ratelimit-input-tokens-reset', b'2025-03-03T10:08:07Z'), (b'anthropic-ratelimit-output-tokens-limit', b'8000'), (b'anthropic-ratelimit-output-tokens-remaining', b'8000'), (b'anthropic-ratelimit-output-tokens-reset', b'2025-03-03T10:08:07Z'), (b'anthropic-ratelimit-tokens-limit', b'48000'), (b'anthropic-ratelimit-tokens-remaining', b'48000'), (b'anthropic-ratelimit-tokens-reset', b'2025-03-03T10:08:07Z'), (b'request-id', b'req_015djBKeVmkUgJLhVfEXt3nb'), (b'anthropic-organization-id', b'8cba0731-5716-444a-96a0-703586251757'), (b'via', b'1.1 google'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Robots-Tag', b'none'), (b'Server', b'cloudflare'), (b'CF-RAY', b'91a854955eeeecc4-WAW'), (b'Content-Encoding', b'gzip')])
2025-03-03 11:08:08,079 - httpx                - INFO  - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-03-03 11:08:08,080 - httpcore.http11      - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-03 11:08:08,080 - httpcore.http11      - DEBUG - receive_response_body.complete
2025-03-03 11:08:08,080 - httpcore.http11      - DEBUG - response_closed.started
2025-03-03 11:08:08,080 - httpcore.http11      - DEBUG - response_closed.complete
2025-03-03 11:08:08,080 - anthropic._base_client - DEBUG - HTTP Response: POST https://api.anthropic.com/v1/messages "200 OK" Headers({'date': 'Mon, 03 Mar 2025 10:08:07 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'anthropic-ratelimit-requests-limit': '50', 'anthropic-ratelimit-requests-remaining': '49', 'anthropic-ratelimit-requests-reset': '2025-03-03T10:08:04Z', 'anthropic-ratelimit-input-tokens-limit': '40000', 'anthropic-ratelimit-input-tokens-remaining': '40000', 'anthropic-ratelimit-input-tokens-reset': '2025-03-03T10:08:07Z', 'anthropic-ratelimit-output-tokens-limit': '8000', 'anthropic-ratelimit-output-tokens-remaining': '8000', 'anthropic-ratelimit-output-tokens-reset': '2025-03-03T10:08:07Z', 'anthropic-ratelimit-tokens-limit': '48000', 'anthropic-ratelimit-tokens-remaining': '48000', 'anthropic-ratelimit-tokens-reset': '2025-03-03T10:08:07Z', 'request-id': 'req_015djBKeVmkUgJLhVfEXt3nb', 'anthropic-organization-id': '8cba0731-5716-444a-96a0-703586251757', 'via': '1.1 google', 'cf-cache-status': 'DYNAMIC', 'x-robots-tag': 'none', 'server': 'cloudflare', 'cf-ray': '91a854955eeeecc4-WAW', 'content-encoding': 'gzip'})
2025-03-03 11:08:08,085 - anthropic._base_client - DEBUG - request_id: req_015djBKeVmkUgJLhVfEXt3nb
2025-03-03 11:08:08,086 - LLMModels            - INFO  - 
Cache_creation_input_tokens=1276
cache_read_input_tokens=0
input_tokens=20
output_tokens=37
Cache hit rate: 0.0%
Tokens saved: 0
2025-03-03 11:08:08,087 - formatter            - DEBUG - json str:{
"Zdanie": "I don't have the [[nawyku]] of making my bed.",
"Wyraz": "habit"
}
2025-03-03 11:08:08,088 - formatter            - INFO  - JSON is valid and properly formatted.
2025-03-03 11:08:08,089 - formatter            - DEBUG - formatted parts: [('Zdanie', "I don't have the [[nawyku]] of making my bed."), ('Wyraz', 'habit')]
2025-03-03 11:08:08,089 - queris               - DEBUG - Found key ResponseField.FRONT, adding to dict
2025-03-03 11:08:08,089 - queris               - DEBUG - Found key ResponseField.BACK, adding to dict
2025-03-03 11:08:08,090 - queris               - DEBUG - parts: [('Zdanie', "I don't have the [[nawyku]] of making my bed."), ('Wyraz', 'habit')], data: {<ResponseField.FRONT: 'Zdanie'>: "I don't have the [[nawyku]] of making my bed.", <ResponseField.BACK: 'Wyraz'>: 'habit'}
2025-03-03 11:08:08,091 - anki_adder           - DEBUG - Inserting flashcard
2025-03-03 11:09:01,656 - httpcore.connection  - DEBUG - close.started
2025-03-03 11:09:01,658 - httpcore.connection  - DEBUG - close.complete
